function xK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A1={exports:{}},Cg={},P1={exports:{}},sn={};var jL;function _K(){if(jL)return sn;jL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(G){return G===null||typeof G!="object"?null:(G=d&&G[d]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function y(G,ne,ye){this.props=G,this.context=ne,this.refs=b,this.updater=ye||v}y.prototype.isReactComponent={},y.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},y.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function w(){}w.prototype=y.prototype;function M(G,ne,ye){this.props=G,this.context=ne,this.refs=b,this.updater=ye||v}var S=M.prototype=new w;S.constructor=M,x(S,y.prototype),S.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(G,ne,ye){var ue,xe={},Re=null,Ce=null;if(ne!=null)for(ue in ne.ref!==void 0&&(Ce=ne.ref),ne.key!==void 0&&(Re=""+ne.key),ne)P.call(ne,ue)&&!I.hasOwnProperty(ue)&&(xe[ue]=ne[ue]);var qe=arguments.length-2;if(qe===1)xe.children=ye;else if(1<qe){for(var Ae=Array(qe),ze=0;ze<qe;ze++)Ae[ze]=arguments[ze+2];xe.children=Ae}if(G&&G.defaultProps)for(ue in qe=G.defaultProps,qe)xe[ue]===void 0&&(xe[ue]=qe[ue]);return{$$typeof:t,type:G,key:Re,ref:Ce,props:xe,_owner:O.current}}function L(G,ne){return{$$typeof:t,type:G.type,key:ne,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function j(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ne[ye]})}var H=/\/+/g;function q(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?j(""+G.key):ne.toString(36)}function X(G,ne,ye,ue,xe){var Re=typeof G;(Re==="undefined"||Re==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(Re){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,xe=xe(Ce),G=ue===""?"."+q(Ce,0):ue,A(xe)?(ye="",G!=null&&(ye=G.replace(H,"$&/")+"/"),X(xe,ne,ye,"",function(ze){return ze})):xe!=null&&(F(xe)&&(xe=L(xe,ye+(!xe.key||Ce&&Ce.key===xe.key?"":(""+xe.key).replace(H,"$&/")+"/")+G)),ne.push(xe)),1;if(Ce=0,ue=ue===""?".":ue+":",A(G))for(var qe=0;qe<G.length;qe++){Re=G[qe];var Ae=ue+q(Re,qe);Ce+=X(Re,ne,ye,Ae,xe)}else if(Ae=p(G),typeof Ae=="function")for(G=Ae.call(G),qe=0;!(Re=G.next()).done;)Re=Re.value,Ae=ue+q(Re,qe++),Ce+=X(Re,ne,ye,Ae,xe);else if(Re==="object")throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ce}function J(G,ne,ye){if(G==null)return G;var ue=[],xe=0;return X(G,ue,"","",function(Re){return ne.call(ye,Re,xe++)}),ue}function Z(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var ee={current:null},V={transition:null},K={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:V,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return sn.Children={map:J,forEach:function(G,ne,ye){J(G,function(){ne.apply(this,arguments)},ye)},count:function(G){var ne=0;return J(G,function(){ne++}),ne},toArray:function(G){return J(G,function(ne){return ne})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},sn.Component=y,sn.Fragment=n,sn.Profiler=i,sn.PureComponent=M,sn.StrictMode=r,sn.Suspense=l,sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,sn.act=Q,sn.cloneElement=function(G,ne,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ue=x({},G.props),xe=G.key,Re=G.ref,Ce=G._owner;if(ne!=null){if(ne.ref!==void 0&&(Re=ne.ref,Ce=O.current),ne.key!==void 0&&(xe=""+ne.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ae in ne)P.call(ne,Ae)&&!I.hasOwnProperty(Ae)&&(ue[Ae]=ne[Ae]===void 0&&qe!==void 0?qe[Ae]:ne[Ae])}var Ae=arguments.length-2;if(Ae===1)ue.children=ye;else if(1<Ae){qe=Array(Ae);for(var ze=0;ze<Ae;ze++)qe[ze]=arguments[ze+2];ue.children=qe}return{$$typeof:t,type:G.type,key:xe,ref:Re,props:ue,_owner:Ce}},sn.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},sn.createElement=k,sn.createFactory=function(G){var ne=k.bind(null,G);return ne.type=G,ne},sn.createRef=function(){return{current:null}},sn.forwardRef=function(G){return{$$typeof:a,render:G}},sn.isValidElement=F,sn.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:Z}},sn.memo=function(G,ne){return{$$typeof:u,type:G,compare:ne===void 0?null:ne}},sn.startTransition=function(G){var ne=V.transition;V.transition={};try{G()}finally{V.transition=ne}},sn.unstable_act=Q,sn.useCallback=function(G,ne){return ee.current.useCallback(G,ne)},sn.useContext=function(G){return ee.current.useContext(G)},sn.useDebugValue=function(){},sn.useDeferredValue=function(G){return ee.current.useDeferredValue(G)},sn.useEffect=function(G,ne){return ee.current.useEffect(G,ne)},sn.useId=function(){return ee.current.useId()},sn.useImperativeHandle=function(G,ne,ye){return ee.current.useImperativeHandle(G,ne,ye)},sn.useInsertionEffect=function(G,ne){return ee.current.useInsertionEffect(G,ne)},sn.useLayoutEffect=function(G,ne){return ee.current.useLayoutEffect(G,ne)},sn.useMemo=function(G,ne){return ee.current.useMemo(G,ne)},sn.useReducer=function(G,ne,ye){return ee.current.useReducer(G,ne,ye)},sn.useRef=function(G){return ee.current.useRef(G)},sn.useState=function(G){return ee.current.useState(G)},sn.useSyncExternalStore=function(G,ne,ye){return ee.current.useSyncExternalStore(G,ne,ye)},sn.useTransition=function(){return ee.current.useTransition()},sn.version="18.3.1",sn}var zL;function Wy(){return zL||(zL=1,P1.exports=_K()),P1.exports}var VL;function bK(){if(VL)return Cg;VL=1;var t=Wy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,d={},p=null,v=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(d[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)d[f]===void 0&&(d[f]=l[f]);return{$$typeof:e,type:a,key:p,ref:v,props:d,_owner:i.current}}return Cg.Fragment=n,Cg.jsx=o,Cg.jsxs=o,Cg}var HL;function wK(){return HL||(HL=1,A1.exports=bK()),A1.exports}var C=wK(),yx={},C1={exports:{}},As={},R1={exports:{}},O1={};var WL;function SK(){return WL||(WL=1,(function(t){function e(V,K){var Q=V.length;V.push(K);e:for(;0<Q;){var G=Q-1>>>1,ne=V[G];if(0<i(ne,K))V[G]=K,V[Q]=ne,Q=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Q=V.pop();if(Q!==K){V[0]=Q;e:for(var G=0,ne=V.length,ye=ne>>>1;G<ye;){var ue=2*(G+1)-1,xe=V[ue],Re=ue+1,Ce=V[Re];if(0>i(xe,Q))Re<ne&&0>i(Ce,xe)?(V[G]=Ce,V[Re]=Q,G=Re):(V[G]=xe,V[ue]=Q,G=ue);else if(Re<ne&&0>i(Ce,Q))V[G]=Ce,V[Re]=Q,G=Re;else break e}}return K}function i(V,K){var Q=V.sortIndex-K.sortIndex;return Q!==0?Q:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function A(V){if(b=!1,S(V),!x)if(n(l)!==null)x=!0,Z(P);else{var K=n(u);K!==null&&ee(A,K.startTime-V)}}function P(V,K){x=!1,b&&(b=!1,w(k),k=-1),v=!0;var Q=p;try{for(S(K),d=n(l);d!==null&&(!(d.expirationTime>K)||V&&!j());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var ne=G(d.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(l)&&r(l),S(K)}else r(l);d=n(l)}if(d!==null)var ye=!0;else{var ue=n(u);ue!==null&&ee(A,ue.startTime-K),ye=!1}return ye}finally{d=null,p=Q,v=!1}}var O=!1,I=null,k=-1,L=5,F=-1;function j(){return!(t.unstable_now()-F<L)}function H(){if(I!==null){var V=t.unstable_now();F=V;var K=!0;try{K=I(!0,V)}finally{K?q():(O=!1,I=null)}}else O=!1}var q;if(typeof M=="function")q=function(){M(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=H,q=function(){J.postMessage(null)}}else q=function(){y(H,0)};function Z(V){I=V,O||(O=!0,q())}function ee(V,K){k=y(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Z(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Q=p;p=K;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return K()}finally{p=Q}},t.unstable_scheduleCallback=function(V,K,Q){var G=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?G+Q:G):Q=G,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,V={id:f++,callback:K,priorityLevel:V,startTime:Q,expirationTime:ne,sortIndex:-1},Q>G?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(b?(w(k),k=-1):b=!0,ee(A,Q-G))):(V.sortIndex=ne,e(l,V),x||v||(x=!0,Z(P))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var K=p;return function(){var Q=p;p=K;try{return V.apply(this,arguments)}finally{p=Q}}}})(O1)),O1}var GL;function MK(){return GL||(GL=1,R1.exports=SK()),R1.exports}var $L;function EK(){if($L)return As;$L=1;var t=Wy(),e=MK();function n(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(i[c]=h,c=0;c<h.length;c++)r.add(h[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(c){return l.call(d,c)?!0:l.call(f,c)?!1:u.test(c)?d[c]=!0:(f[c]=!0,!1)}function v(c,h,_,T){if(_!==null&&_.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return T?!1:_!==null?!_.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,h,_,T){if(h===null||typeof h>"u"||v(c,h,_,T))return!0;if(T)return!1;if(_!==null)switch(_.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(c,h,_,T,N,U,W){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=T,this.attributeNamespace=N,this.mustUseProperty=_,this.propertyName=c,this.type=h,this.sanitizeURL=U,this.removeEmptyString=W}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];y[h]=new b(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function M(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(w,M);y[h]=new b(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(w,M);y[h]=new b(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(w,M);y[h]=new b(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,h,_,T){var N=y.hasOwnProperty(h)?y[h]:null;(N!==null?N.type!==0:T||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,_,N,T)&&(_=null),T||N===null?p(h)&&(_===null?c.removeAttribute(h):c.setAttribute(h,""+_)):N.mustUseProperty?c[N.propertyName]=_===null?N.type===3?!1:"":_:(h=N.attributeName,T=N.attributeNamespace,_===null?c.removeAttribute(h):(N=N.type,_=N===3||N===4&&_===!0?"":""+_,T?c.setAttributeNS(T,h,_):c.setAttribute(h,_))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),V=Symbol.iterator;function K(c){return c===null||typeof c!="object"?null:(c=V&&c[V]||c["@@iterator"],typeof c=="function"?c:null)}var Q=Object.assign,G;function ne(c){if(G===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||""}return`
`+G+c}var ye=!1;function ue(c,h){if(!c||ye)return"";ye=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Te){var T=Te}Reflect.construct(c,[],h)}else{try{h.call()}catch(Te){T=Te}c.call(h.prototype)}else{try{throw Error()}catch(Te){T=Te}c()}}catch(Te){if(Te&&T&&typeof Te.stack=="string"){for(var N=Te.stack.split(`
`),U=T.stack.split(`
`),W=N.length-1,oe=U.length-1;1<=W&&0<=oe&&N[W]!==U[oe];)oe--;for(;1<=W&&0<=oe;W--,oe--)if(N[W]!==U[oe]){if(W!==1||oe!==1)do if(W--,oe--,0>oe||N[W]!==U[oe]){var le=`
`+N[W].replace(" at new "," at ");return c.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",c.displayName)),le}while(1<=W&&0<=oe);break}}}finally{ye=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?ne(c):""}function xe(c){switch(c.tag){case 5:return ne(c.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return c=ue(c.type,!1),c;case 11:return c=ue(c.type.render,!1),c;case 1:return c=ue(c.type,!0),c;default:return""}}function Re(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case I:return"Fragment";case O:return"Portal";case L:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case j:return(c.displayName||"Context")+".Consumer";case F:return(c._context.displayName||"Context")+".Provider";case H:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case J:return h=c.displayName||null,h!==null?h:Re(c.type)||"Memo";case Z:h=c._payload,c=c._init;try{return Re(c(h))}catch{}}return null}function Ce(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(h);case 8:return h===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function qe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ae(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ze(c){var h=Ae(c)?"checked":"value",_=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),T=""+c[h];if(!c.hasOwnProperty(h)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var N=_.get,U=_.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return N.call(this)},set:function(W){T=""+W,U.call(this,W)}}),Object.defineProperty(c,h,{enumerable:_.enumerable}),{getValue:function(){return T},setValue:function(W){T=""+W},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function se(c){c._valueTracker||(c._valueTracker=ze(c))}function ae(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var _=h.getValue(),T="";return c&&(T=Ae(c)?c.checked?"true":"false":c.value),c=T,c!==_?(h.setValue(c),!0):!1}function Me(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ne(c,h){var _=h.checked;return Q({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??c._wrapperState.initialChecked})}function De(c,h){var _=h.defaultValue==null?"":h.defaultValue,T=h.checked!=null?h.checked:h.defaultChecked;_=qe(h.value!=null?h.value:_),c._wrapperState={initialChecked:T,initialValue:_,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ke(c,h){h=h.checked,h!=null&&S(c,"checked",h,!1)}function Ze(c,h){ke(c,h);var _=qe(h.value),T=h.type;if(_!=null)T==="number"?(_===0&&c.value===""||c.value!=_)&&(c.value=""+_):c.value!==""+_&&(c.value=""+_);else if(T==="submit"||T==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?At(c,h.type,_):h.hasOwnProperty("defaultValue")&&At(c,h.type,qe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function et(c,h,_){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var T=h.type;if(!(T!=="submit"&&T!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,_||h===c.value||(c.value=h),c.defaultValue=h}_=c.name,_!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,_!==""&&(c.name=_)}function At(c,h,_){(h!=="number"||Me(c.ownerDocument)!==c)&&(_==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+_&&(c.defaultValue=""+_))}var ie=Array.isArray;function $(c,h,_,T){if(c=c.options,h){h={};for(var N=0;N<_.length;N++)h["$"+_[N]]=!0;for(_=0;_<c.length;_++)N=h.hasOwnProperty("$"+c[_].value),c[_].selected!==N&&(c[_].selected=N),N&&T&&(c[_].defaultSelected=!0)}else{for(_=""+qe(_),h=null,N=0;N<c.length;N++){if(c[N].value===_){c[N].selected=!0,T&&(c[N].defaultSelected=!0);return}h!==null||c[N].disabled||(h=c[N])}h!==null&&(h.selected=!0)}}function be(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Be(c,h){var _=h.value;if(_==null){if(_=h.children,h=h.defaultValue,_!=null){if(h!=null)throw Error(n(92));if(ie(_)){if(1<_.length)throw Error(n(93));_=_[0]}h=_}h==null&&(h=""),_=h}c._wrapperState={initialValue:qe(_)}}function Fe(c,h){var _=qe(h.value),T=qe(h.defaultValue);_!=null&&(_=""+_,_!==c.value&&(c.value=_),h.defaultValue==null&&c.defaultValue!==_&&(c.defaultValue=_)),T!=null&&(c.defaultValue=""+T)}function Ve(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function Et(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?Et(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var rt,Bt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,_,T,N){MSApp.execUnsafeLocalFunction(function(){return c(h,_,T,N)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=rt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function $e(c,h){if(h){var _=c.firstChild;if(_&&_===c.lastChild&&_.nodeType===3){_.nodeValue=h;return}}c.textContent=h}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(c){tn.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),mt[h]=mt[c]})});function It(c,h,_){return h==null||typeof h=="boolean"||h===""?"":_||typeof h!="number"||h===0||mt.hasOwnProperty(c)&&mt[c]?(""+h).trim():h+"px"}function ot(c,h){c=c.style;for(var _ in h)if(h.hasOwnProperty(_)){var T=_.indexOf("--")===0,N=It(_,h[_],T);_==="float"&&(_="cssFloat"),T?c.setProperty(_,N):c[_]=N}}var Wt=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yt(c,h){if(h){if(Wt[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Dn(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ce=null;function at(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Le=null,Ue=null,Xe=null;function Lt(c){if(c=Vo(c)){if(typeof Le!="function")throw Error(n(280));var h=c.stateNode;h&&(h=ph(h),Le(c.stateNode,c.type,h))}}function on(c){Ue?Xe?Xe.push(c):Xe=[c]:Ue=c}function Vn(){if(Ue){var c=Ue,h=Xe;if(Xe=Ue=null,Lt(c),h)for(c=0;c<h.length;c++)Lt(h[c])}}function lr(c,h){return c(h)}function hn(){}var di=!1;function Ci(c,h,_){if(di)return c(h,_);di=!0;try{return lr(c,h,_)}finally{di=!1,(Ue!==null||Xe!==null)&&(hn(),Vn())}}function Gi(c,h){var _=c.stateNode;if(_===null)return null;var T=ph(_);if(T===null)return null;_=T[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(c=c.type,T=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!T;break e;default:c=!1}if(c)return null;if(_&&typeof _!="function")throw Error(n(231,h,typeof _));return _}var il=!1;if(a)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){il=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{il=!1}function Uc(c,h,_,T,N,U,W,oe,le){var Te=Array.prototype.slice.call(arguments,3);try{h.apply(_,Te)}catch(We){this.onError(We)}}var ms=!1,sl=null,$i=!1,_u=null,Dd={onError:function(c){ms=!0,sl=c}};function Nm(c,h,_,T,N,U,W,oe,le){ms=!1,sl=null,Uc.apply(Dd,arguments)}function Im(c,h,_,T,N,U,W,oe,le){if(Nm.apply(this,arguments),ms){if(ms){var Te=sl;ms=!1,sl=null}else throw Error(n(198));$i||($i=!0,_u=Te)}}function No(c){var h=c,_=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(_=h.return),c=h.return;while(c)}return h.tag===3?_:null}function Y(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function pe(c){if(No(c)!==c)throw Error(n(188))}function Se(c){var h=c.alternate;if(!h){if(h=No(c),h===null)throw Error(n(188));return h!==c?null:c}for(var _=c,T=h;;){var N=_.return;if(N===null)break;var U=N.alternate;if(U===null){if(T=N.return,T!==null){_=T;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===_)return pe(N),c;if(U===T)return pe(N),h;U=U.sibling}throw Error(n(188))}if(_.return!==T.return)_=N,T=U;else{for(var W=!1,oe=N.child;oe;){if(oe===_){W=!0,_=N,T=U;break}if(oe===T){W=!0,T=N,_=U;break}oe=oe.sibling}if(!W){for(oe=U.child;oe;){if(oe===_){W=!0,_=U,T=N;break}if(oe===T){W=!0,T=U,_=N;break}oe=oe.sibling}if(!W)throw Error(n(189))}}if(_.alternate!==T)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?c:h}function Ee(c){return c=Se(c),c!==null?ge(c):null}function ge(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=ge(c);if(h!==null)return h;c=c.sibling}return null}var Je=e.unstable_scheduleCallback,lt=e.unstable_cancelCallback,gt=e.unstable_shouldYield,_t=e.unstable_requestPaint,ut=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,Tt=e.unstable_ImmediatePriority,an=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,kn=e.unstable_LowPriority,ur=e.unstable_IdlePriority,Gt=null,Ye=null;function Vt(c){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Gt,c,void 0,(c.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:hi,Fn=Math.log,Sr=Math.LN2;function hi(c){return c>>>=0,c===0?32:31-(Fn(c)/Sr|0)|0}var qi=64,rn=4194304;function jr(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Io(c,h){var _=c.pendingLanes;if(_===0)return 0;var T=0,N=c.suspendedLanes,U=c.pingedLanes,W=_&268435455;if(W!==0){var oe=W&~N;oe!==0?T=jr(oe):(U&=W,U!==0&&(T=jr(U)))}else W=_&~N,W!==0?T=jr(W):U!==0&&(T=jr(U));if(T===0)return 0;if(h!==0&&h!==T&&(h&N)===0&&(N=T&-T,U=h&-h,N>=U||N===16&&(U&4194240)!==0))return h;if((T&4)!==0&&(T|=_&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=T;0<h;)_=31-Ft(h),N=1<<_,T|=c[_],h&=~N;return T}function pi(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(c,h){for(var _=c.suspendedLanes,T=c.pingedLanes,N=c.expirationTimes,U=c.pendingLanes;0<U;){var W=31-Ft(U),oe=1<<W,le=N[W];le===-1?((oe&_)===0||(oe&T)!==0)&&(N[W]=pi(oe,h)):le<=h&&(c.expiredLanes|=oe),U&=~oe}}function bu(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function mi(){var c=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),c}function Lm(c){for(var h=[],_=0;31>_;_++)h.push(c);return h}function Bc(c,h,_){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Ft(h),c[h]=_}function ZS(c,h){var _=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var T=c.eventTimes;for(c=c.expirationTimes;0<_;){var N=31-Ft(_),U=1<<N;h[N]=0,T[N]=-1,c[N]=-1,_&=~U}}function wu(c,h){var _=c.entangledLanes|=h;for(c=c.entanglements;_;){var T=31-Ft(_),N=1<<T;N&h|c[T]&h&&(c[T]|=h),_&=~N}}var pn=0;function Su(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var jc,Dm,E0,kd,Fd,ol=!1,Ud=[],io=null,Zt=null,Lo=null,al=new Map,Mu=new Map,Ea=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mr(c,h){switch(c){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":al.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(h.pointerId)}}function ll(c,h,_,T,N,U){return c===null||c.nativeEvent!==U?(c={blockedOn:h,domEventName:_,eventSystemFlags:T,nativeEvent:U,targetContainers:[N]},h!==null&&(h=Vo(h),h!==null&&Dm(h)),c):(c.eventSystemFlags|=T,h=c.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),c)}function JS(c,h,_,T,N){switch(h){case"focusin":return io=ll(io,c,h,_,T,N),!0;case"dragenter":return Zt=ll(Zt,c,h,_,T,N),!0;case"mouseover":return Lo=ll(Lo,c,h,_,T,N),!0;case"pointerover":var U=N.pointerId;return al.set(U,ll(al.get(U)||null,c,h,_,T,N)),!0;case"gotpointercapture":return U=N.pointerId,Mu.set(U,ll(Mu.get(U)||null,c,h,_,T,N)),!0}return!1}function Bd(c){var h=Na(c.target);if(h!==null){var _=No(h);if(_!==null){if(h=_.tag,h===13){if(h=Y(_),h!==null){c.blockedOn=h,Fd(c.priority,function(){E0(_)});return}}else if(h===3&&_.stateNode.current.memoizedState.isDehydrated){c.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}c.blockedOn=null}function jd(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var _=vs(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(_===null){_=c.nativeEvent;var T=new _.constructor(_.type,_);ce=T,_.target.dispatchEvent(T),ce=null}else return h=Vo(_),h!==null&&Dm(h),c.blockedOn=_,!1;h.shift()}return!0}function zc(c,h,_){jd(c)&&_.delete(h)}function so(){ol=!1,io!==null&&jd(io)&&(io=null),Zt!==null&&jd(Zt)&&(Zt=null),Lo!==null&&jd(Lo)&&(Lo=null),al.forEach(zc),Mu.forEach(zc)}function Vc(c,h){c.blockedOn===h&&(c.blockedOn=null,ol||(ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,so)))}function Hc(c){function h(N){return Vc(N,c)}if(0<Ud.length){Vc(Ud[0],c);for(var _=1;_<Ud.length;_++){var T=Ud[_];T.blockedOn===c&&(T.blockedOn=null)}}for(io!==null&&Vc(io,c),Zt!==null&&Vc(Zt,c),Lo!==null&&Vc(Lo,c),al.forEach(h),Mu.forEach(h),_=0;_<Ea.length;_++)T=Ea[_],T.blockedOn===c&&(T.blockedOn=null);for(;0<Ea.length&&(_=Ea[0],_.blockedOn===null);)Bd(_),_.blockedOn===null&&Ea.shift()}var gi=A.ReactCurrentBatchConfig,gs=!0;function zd(c,h,_,T){var N=pn,U=gi.transition;gi.transition=null;try{pn=1,Vd(c,h,_,T)}finally{pn=N,gi.transition=U}}function km(c,h,_,T){var N=pn,U=gi.transition;gi.transition=null;try{pn=4,Vd(c,h,_,T)}finally{pn=N,gi.transition=U}}function Vd(c,h,_,T){if(gs){var N=vs(c,h,_,T);if(N===null)lh(c,h,T,Hd,_),Mr(c,T);else if(JS(N,c,h,_,T))T.stopPropagation();else if(Mr(c,T),h&4&&-1<QS.indexOf(c)){for(;N!==null;){var U=Vo(N);if(U!==null&&jc(U),U=vs(c,h,_,T),U===null&&lh(c,h,T,Hd,_),U===N)break;N=U}N!==null&&T.stopPropagation()}else lh(c,h,T,null,_)}}var Hd=null;function vs(c,h,_,T){if(Hd=null,c=at(T),c=Na(c),c!==null)if(h=No(c),h===null)c=null;else if(_=h.tag,_===13){if(c=Y(h),c!==null)return c;c=null}else if(_===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return Hd=c,null}function T0(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pt()){case Tt:return 1;case an:return 4;case On:case kn:return 16;case ur:return 536870912;default:return 16}default:return 16}}var Ls=null,Fm=null,Ri=null;function Wc(){if(Ri)return Ri;var c,h=Fm,_=h.length,T,N="value"in Ls?Ls.value:Ls.textContent,U=N.length;for(c=0;c<_&&h[c]===N[c];c++);var W=_-c;for(T=1;T<=W&&h[_-T]===N[U-T];T++);return Ri=N.slice(c,1<T?1-T:void 0)}function ul(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Do(){return!0}function Wd(){return!1}function vi(c){function h(_,T,N,U,W){this._reactName=_,this._targetInst=N,this.type=T,this.nativeEvent=U,this.target=W,this.currentTarget=null;for(var oe in c)c.hasOwnProperty(oe)&&(_=c[oe],this[oe]=_?_(U):U[oe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Do:Wd,this.isPropagationStopped=Wd,this}return Q(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),h}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=vi(cl),fl=Q({},cl,{view:0,detail:0}),Eu=vi(fl),Oi,ys,xs,Tu=Q({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==xs&&(xs&&c.type==="mousemove"?(Oi=c.screenX-xs.screenX,ys=c.screenY-xs.screenY):ys=Oi=0,xs=c),Oi)},movementY:function(c){return"movementY"in c?c.movementY:ys}}),Um=vi(Tu),ko=Q({},Tu,{dataTransfer:0}),Ta=vi(ko),Gd=Q({},fl,{relatedTarget:0}),$d=vi(Gd),qd=Q({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=vi(qd),P0=Q({},cl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Bm=vi(P0),Xd=Q({},cl,{data:0}),jm=vi(Xd),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=zm[c])?!!h[c]:!1}function Aa(){return Au}var Kd=Q({},fl,{key:function(c){if(c.key){var h=C0[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=ul(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?R0[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(c){return c.type==="keypress"?ul(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ul(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Yd=vi(Kd),_s=Q({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=vi(_s),dl=Q({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),Fo=vi(dl),Uo=Q({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),hl=vi(Uo),O0=Q({},Tu,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Vm=vi(O0),Hm=[9,13,27,32],yi=a&&"CompositionEvent"in window,zr=null;a&&"documentMode"in document&&(zr=document.documentMode);var $n=a&&"TextEvent"in window&&!zr,Pu=a&&(!yi||zr&&8<zr&&11>=zr),bs=" ",Wm=!1;function Gm(c,h){switch(c){case"keyup":return Hm.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Pa=!1;function N0(c,h){switch(c){case"compositionend":return Zd(h);case"keypress":return h.which!==32?null:(Wm=!0,bs);case"textInput":return c=h.data,c===bs&&Wm?null:c;default:return null}}function $c(c,h){if(Pa)return c==="compositionend"||!yi&&Gm(c,h)?(c=Wc(),Ri=Fm=Ls=null,Pa=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Pu&&h.locale!=="ko"?null:h.data;default:return null}}var Cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Cu[c.type]:h==="textarea"}function Ru(c,h,_,T){on(T),h=uh(h,"onChange"),0<h.length&&(_=new Gc("onChange","change",null,_,T),c.push({event:_,listeners:h}))}var Ca=null,Ou=null;function I0(c){Du(c,0)}function Bo(c){var h=cr(c);if(ae(h))return c}function L0(c,h){if(c==="change")return h}var Nu=!1;if(a){var Ni;if(a){var pl="oninput"in document;if(!pl){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),pl=typeof ml.oninput=="function"}Ni=pl}else Ni=!1;Nu=Ni&&(!document.documentMode||9<document.documentMode)}function Ds(){Ca&&(Ca.detachEvent("onpropertychange",Jd),Ou=Ca=null)}function Jd(c){if(c.propertyName==="value"&&Bo(Ou)){var h=[];Ru(h,Ou,c,at(c)),Ci(I0,h)}}function Iu(c,h,_){c==="focusin"?(Ds(),Ca=h,Ou=_,Ca.attachEvent("onpropertychange",Jd)):c==="focusout"&&Ds()}function D0(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Bo(Ou)}function $m(c,h){if(c==="click")return Bo(h)}function Yn(c,h){if(c==="input"||c==="change")return Bo(h)}function eh(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Ki=typeof Object.is=="function"?Object.is:eh;function gl(c,h){if(Ki(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var _=Object.keys(c),T=Object.keys(h);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var N=_[T];if(!l.call(h,N)||!Ki(c[N],h[N]))return!1}return!0}function qc(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Yi(c,h){var _=qc(c);c=0;for(var T;_;){if(_.nodeType===3){if(T=c+_.textContent.length,c<=h&&T>=h)return{node:_,offset:h-c};c=T}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=qc(_)}}function vl(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?vl(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Zn(){for(var c=window,h=Me();h instanceof c.HTMLIFrameElement;){try{var _=typeof h.contentWindow.location.href=="string"}catch{_=!1}if(_)c=h.contentWindow;else break;h=Me(c.document)}return h}function Cr(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function Rr(c){var h=Zn(),_=c.focusedElem,T=c.selectionRange;if(h!==_&&_&&_.ownerDocument&&vl(_.ownerDocument.documentElement,_)){if(T!==null&&Cr(_)){if(h=T.start,c=T.end,c===void 0&&(c=h),"selectionStart"in _)_.selectionStart=h,_.selectionEnd=Math.min(c,_.value.length);else if(c=(h=_.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var N=_.textContent.length,U=Math.min(T.start,N);T=T.end===void 0?U:Math.min(T.end,N),!c.extend&&U>T&&(N=T,T=U,U=N),N=Yi(_,U);var W=Yi(_,T);N&&W&&(c.rangeCount!==1||c.anchorNode!==N.node||c.anchorOffset!==N.offset||c.focusNode!==W.node||c.focusOffset!==W.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),c.removeAllRanges(),U>T?(c.addRange(h),c.extend(W.node,W.offset)):(h.setEnd(W.node,W.offset),c.addRange(h)))}}for(h=[],c=_;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<h.length;_++)c=h[_],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var th=a&&"documentMode"in document&&11>=document.documentMode,oo=null,yl=null,Xc=null,Or=!1;function nh(c,h,_){var T=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Or||oo==null||oo!==Me(T)||(T=oo,"selectionStart"in T&&Cr(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Xc&&gl(Xc,T)||(Xc=T,T=uh(yl,"onSelect"),0<T.length&&(h=new Gc("onSelect","select",null,h,_),c.push({event:h,listeners:T}),h.target=oo)))}function Lu(c,h){var _={};return _[c.toLowerCase()]=h.toLowerCase(),_["Webkit"+c]="webkit"+h,_["Moz"+c]="moz"+h,_}var Ra={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},ks={},Fs={};a&&(Fs=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function ao(c){if(ks[c])return ks[c];if(!Ra[c])return c;var h=Ra[c],_;for(_ in h)if(h.hasOwnProperty(_)&&_ in Fs)return ks[c]=h[_];return c}var Kc=ao("animationend"),Yc=ao("animationiteration"),qm=ao("animationstart"),Xm=ao("transitionend"),Km=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(c,h){Km.set(c,h),s(h,[c])}for(var rh=0;rh<Ym.length;rh++){var Zc=Ym[rh],Qc=Zc.toLowerCase(),k0=Zc[0].toUpperCase()+Zc.slice(1);jo(Qc,"on"+k0)}jo(Kc,"onAnimationEnd"),jo(Yc,"onAnimationIteration"),jo(qm,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(Xm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ih=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function sh(c,h,_){var T=c.type||"unknown-event";c.currentTarget=_,Im(T,h,void 0,c),c.currentTarget=null}function Du(c,h){h=(h&4)!==0;for(var _=0;_<c.length;_++){var T=c[_],N=T.event;T=T.listeners;e:{var U=void 0;if(h)for(var W=T.length-1;0<=W;W--){var oe=T[W],le=oe.instance,Te=oe.currentTarget;if(oe=oe.listener,le!==U&&N.isPropagationStopped())break e;sh(N,oe,Te),U=le}else for(W=0;W<T.length;W++){if(oe=T[W],le=oe.instance,Te=oe.currentTarget,oe=oe.listener,le!==U&&N.isPropagationStopped())break e;sh(N,oe,Te),U=le}}}if($i)throw c=_u,$i=!1,_u=null,c}function Un(c,h){var _=h[bl];_===void 0&&(_=h[bl]=new Set);var T=c+"__bubble";_.has(T)||(ah(h,c,2,!1),_.add(T))}function oh(c,h,_){var T=0;h&&(T|=4),ah(_,c,T,h)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function ku(c){if(!c[Jc]){c[Jc]=!0,r.forEach(function(_){_!=="selectionchange"&&(ih.has(_)||oh(_,!1,c),oh(_,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Jc]||(h[Jc]=!0,oh("selectionchange",!1,h))}}function ah(c,h,_,T){switch(T0(h)){case 1:var N=zd;break;case 4:N=km;break;default:N=Vd}_=N.bind(null,h,_,c),N=void 0,!il||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),T?N!==void 0?c.addEventListener(h,_,{capture:!0,passive:N}):c.addEventListener(h,_,!0):N!==void 0?c.addEventListener(h,_,{passive:N}):c.addEventListener(h,_,!1)}function lh(c,h,_,T,N){var U=T;if((h&1)===0&&(h&2)===0&&T!==null)e:for(;;){if(T===null)return;var W=T.tag;if(W===3||W===4){var oe=T.stateNode.containerInfo;if(oe===N||oe.nodeType===8&&oe.parentNode===N)break;if(W===4)for(W=T.return;W!==null;){var le=W.tag;if((le===3||le===4)&&(le=W.stateNode.containerInfo,le===N||le.nodeType===8&&le.parentNode===N))return;W=W.return}for(;oe!==null;){if(W=Na(oe),W===null)return;if(le=W.tag,le===5||le===6){T=U=W;continue e}oe=oe.parentNode}}T=T.return}Ci(function(){var Te=U,We=at(_),Ge=[];e:{var He=Km.get(c);if(He!==void 0){var ft=Gc,xt=c;switch(c){case"keypress":if(ul(_)===0)break e;case"keydown":case"keyup":ft=Yd;break;case"focusin":xt="focus",ft=$d;break;case"focusout":xt="blur",ft=$d;break;case"beforeblur":case"afterblur":ft=$d;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Fo;break;case Kc:case Yc:case qm:ft=A0;break;case Xm:ft=hl;break;case"scroll":ft=Eu;break;case"wheel":ft=Vm;break;case"copy":case"cut":case"paste":ft=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Xi}var bt=(h&4)!==0,Tr=!bt&&c==="scroll",ve=bt?He!==null?He+"Capture":null:He;bt=[];for(var de=Te,_e;de!==null;){_e=de;var Qe=_e.stateNode;if(_e.tag===5&&Qe!==null&&(_e=Qe,ve!==null&&(Qe=Gi(de,ve),Qe!=null&&bt.push(Fu(de,Qe,_e)))),Tr)break;de=de.return}0<bt.length&&(He=new ft(He,xt,null,_,We),Ge.push({event:He,listeners:bt}))}}if((h&7)===0){e:{if(He=c==="mouseover"||c==="pointerover",ft=c==="mouseout"||c==="pointerout",He&&_!==ce&&(xt=_.relatedTarget||_.fromElement)&&(Na(xt)||xt[Zi]))break e;if((ft||He)&&(He=We.window===We?We:(He=We.ownerDocument)?He.defaultView||He.parentWindow:window,ft?(xt=_.relatedTarget||_.toElement,ft=Te,xt=xt?Na(xt):null,xt!==null&&(Tr=No(xt),xt!==Tr||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(ft=null,xt=Te),ft!==xt)){if(bt=Um,Qe="onMouseLeave",ve="onMouseEnter",de="mouse",(c==="pointerout"||c==="pointerover")&&(bt=Xi,Qe="onPointerLeave",ve="onPointerEnter",de="pointer"),Tr=ft==null?He:cr(ft),_e=xt==null?He:cr(xt),He=new bt(Qe,de+"leave",ft,_,We),He.target=Tr,He.relatedTarget=_e,Qe=null,Na(We)===Te&&(bt=new bt(ve,de+"enter",xt,_,We),bt.target=_e,bt.relatedTarget=Tr,Qe=bt),Tr=Qe,ft&&xt)t:{for(bt=ft,ve=xt,de=0,_e=bt;_e;_e=xl(_e))de++;for(_e=0,Qe=ve;Qe;Qe=xl(Qe))_e++;for(;0<de-_e;)bt=xl(bt),de--;for(;0<_e-de;)ve=xl(ve),_e--;for(;de--;){if(bt===ve||ve!==null&&bt===ve.alternate)break t;bt=xl(bt),ve=xl(ve)}bt=null}else bt=null;ft!==null&&F0(Ge,He,ft,bt,!1),xt!==null&&Tr!==null&&F0(Ge,Tr,xt,bt,!0)}}e:{if(He=Te?cr(Te):window,ft=He.nodeName&&He.nodeName.toLowerCase(),ft==="select"||ft==="input"&&He.type==="file")var Mt=L0;else if(Qd(He))if(Nu)Mt=Yn;else{Mt=D0;var Rt=Iu}else(ft=He.nodeName)&&ft.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Mt=$m);if(Mt&&(Mt=Mt(c,Te))){Ru(Ge,Mt,_,We);break e}Rt&&Rt(c,He,Te),c==="focusout"&&(Rt=He._wrapperState)&&Rt.controlled&&He.type==="number"&&At(He,"number",He.value)}switch(Rt=Te?cr(Te):window,c){case"focusin":(Qd(Rt)||Rt.contentEditable==="true")&&(oo=Rt,yl=Te,Xc=null);break;case"focusout":Xc=yl=oo=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,nh(Ge,_,We);break;case"selectionchange":if(th)break;case"keydown":case"keyup":nh(Ge,_,We)}var Ot;if(yi)e:{switch(c){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Pa?Gm(c,_)&&(Ut="onCompositionEnd"):c==="keydown"&&_.keyCode===229&&(Ut="onCompositionStart");Ut&&(Pu&&_.locale!=="ko"&&(Pa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Pa&&(Ot=Wc()):(Ls=We,Fm="value"in Ls?Ls.value:Ls.textContent,Pa=!0)),Rt=uh(Te,Ut),0<Rt.length&&(Ut=new jm(Ut,c,null,_,We),Ge.push({event:Ut,listeners:Rt}),Ot?Ut.data=Ot:(Ot=Zd(_),Ot!==null&&(Ut.data=Ot)))),(Ot=$n?N0(c,_):$c(c,_))&&(Te=uh(Te,"onBeforeInput"),0<Te.length&&(We=new jm("onBeforeInput","beforeinput",null,_,We),Ge.push({event:We,listeners:Te}),We.data=Ot))}Du(Ge,h)})}function Fu(c,h,_){return{instance:c,listener:h,currentTarget:_}}function uh(c,h){for(var _=h+"Capture",T=[];c!==null;){var N=c,U=N.stateNode;N.tag===5&&U!==null&&(N=U,U=Gi(c,_),U!=null&&T.unshift(Fu(c,U,N)),U=Gi(c,h),U!=null&&T.push(Fu(c,U,N))),c=c.return}return T}function xl(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function F0(c,h,_,T,N){for(var U=h._reactName,W=[];_!==null&&_!==T;){var oe=_,le=oe.alternate,Te=oe.stateNode;if(le!==null&&le===T)break;oe.tag===5&&Te!==null&&(oe=Te,N?(le=Gi(_,U),le!=null&&W.unshift(Fu(_,le,oe))):N||(le=Gi(_,U),le!=null&&W.push(Fu(_,le,oe)))),_=_.return}W.length!==0&&c.push({event:h,listeners:W})}var e1=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Zm(c){return(typeof c=="string"?c:""+c).replace(e1,`
`).replace(U0,"")}function ef(c,h,_){if(h=Zm(h),Zm(c)!==h&&_)throw Error(n(425))}function tf(){}var Uu=null,Qm=null;function Jm(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,tg=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(c){return ch.resolve(null).then(c).catch(B0)}:eg;function B0(c){setTimeout(function(){throw c})}function fh(c,h){var _=h,T=0;do{var N=_.nextSibling;if(c.removeChild(_),N&&N.nodeType===8)if(_=N.data,_==="/$"){if(T===0){c.removeChild(N),Hc(h);return}T--}else _!=="$"&&_!=="$?"&&_!=="$!"||T++;_=N}while(_);Hc(h)}function zo(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function ng(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var _=c.data;if(_==="$"||_==="$!"||_==="$?"){if(h===0)return c;h--}else _==="/$"&&h++}c=c.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Er="__reactFiber$"+_l,Bu="__reactProps$"+_l,Zi="__reactContainer$"+_l,bl="__reactEvents$"+_l,dh="__reactListeners$"+_l,hh="__reactHandles$"+_l;function Na(c){var h=c[Er];if(h)return h;for(var _=c.parentNode;_;){if(h=_[Zi]||_[Er]){if(_=h.alternate,h.child!==null||_!==null&&_.child!==null)for(c=ng(c);c!==null;){if(_=c[Er])return _;c=ng(c)}return h}c=_,_=c.parentNode}return null}function Vo(c){return c=c[Er]||c[Zi],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function cr(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function ph(c){return c[Bu]||null}var rg=[],Nr=-1;function rr(c){return{current:c}}function Bn(c){0>Nr||(c.current=rg[Nr],rg[Nr]=null,Nr--)}function Nn(c,h){Nr++,rg[Nr]=c.current,c.current=h}var Ho={},Vr=rr(Ho),xi=rr(!1),Wo=Ho;function wl(c,h){var _=c.type.contextTypes;if(!_)return Ho;var T=c.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var N={},U;for(U in _)N[U]=h[U];return T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=N),N}function ei(c){return c=c.childContextTypes,c!=null}function nf(){Bn(xi),Bn(Vr)}function ig(c,h,_){if(Vr.current!==Ho)throw Error(n(168));Nn(Vr,h),Nn(xi,_)}function rf(c,h,_){var T=c.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return _;T=T.getChildContext();for(var N in T)if(!(N in h))throw Error(n(108,Ce(c)||"Unknown",N));return Q({},_,T)}function Sl(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ho,Wo=Vr.current,Nn(Vr,c),Nn(xi,xi.current),!0}function sg(c,h,_){var T=c.stateNode;if(!T)throw Error(n(169));_?(c=rf(c,h,Wo),T.__reactInternalMemoizedMergedChildContext=c,Bn(xi),Bn(Vr),Nn(Vr,c)):Bn(xi),Nn(xi,_)}var Us=null,sf=!1,mh=!1;function of(c){Us===null?Us=[c]:Us.push(c)}function j0(c){sf=!0,of(c)}function lo(){if(!mh&&Us!==null){mh=!0;var c=0,h=pn;try{var _=Us;for(pn=1;c<_.length;c++){var T=_[c];do T=T(!0);while(T!==null)}Us=null,sf=!1}catch(N){throw Us!==null&&(Us=Us.slice(c+1)),Je(Tt,lo),N}finally{pn=h,mh=!1}}return null}var Ml=[],Ii=0,gh=null,vh=0,_i=[],Ir=0,El=null,tt=1,ws="";function Go(c,h){Ml[Ii++]=vh,Ml[Ii++]=gh,gh=c,vh=h}function og(c,h,_){_i[Ir++]=tt,_i[Ir++]=ws,_i[Ir++]=El,El=c;var T=tt;c=ws;var N=32-Ft(T)-1;T&=~(1<<N),_+=1;var U=32-Ft(h)+N;if(30<U){var W=N-N%5;U=(T&(1<<W)-1).toString(32),T>>=W,N-=W,tt=1<<32-Ft(h)+N|_<<N|T,ws=U+c}else tt=1<<U|_<<N|T,ws=c}function ag(c){c.return!==null&&(Go(c,1),og(c,1,0))}function $o(c){for(;c===gh;)gh=Ml[--Ii],Ml[Ii]=null,vh=Ml[--Ii],Ml[Ii]=null;for(;c===El;)El=_i[--Ir],_i[Ir]=null,ws=_i[--Ir],_i[Ir]=null,tt=_i[--Ir],_i[Ir]=null}var Hr=null,bi=null,Hn=!1,Ss=null;function lg(c,h){var _=po(5,null,null,0);_.elementType="DELETED",_.stateNode=h,_.return=c,h=c.deletions,h===null?(c.deletions=[_],c.flags|=16):h.push(_)}function ug(c,h){switch(c.tag){case 5:var _=c.type;return h=h.nodeType!==1||_.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Hr=c,bi=zo(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Hr=c,bi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(_=El!==null?{id:tt,overflow:ws}:null,c.memoizedState={dehydrated:h,treeContext:_,retryLane:1073741824},_=po(18,null,null,0),_.stateNode=h,_.return=c,c.child=_,Hr=c,bi=null,!0):!1;default:return!1}}function yh(c){return(c.mode&1)!==0&&(c.flags&128)===0}function xh(c){if(Hn){var h=bi;if(h){var _=h;if(!ug(c,h)){if(yh(c))throw Error(n(418));h=zo(_.nextSibling);var T=Hr;h&&ug(c,h)?lg(T,_):(c.flags=c.flags&-4097|2,Hn=!1,Hr=c)}}else{if(yh(c))throw Error(n(418));c.flags=c.flags&-4097|2,Hn=!1,Hr=c}}}function _h(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Hr=c}function ju(c){if(c!==Hr)return!1;if(!Hn)return _h(c),Hn=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!Jm(c.type,c.memoizedProps)),h&&(h=bi)){if(yh(c))throw cg(),Error(n(418));for(;h;)lg(c,h),h=zo(h.nextSibling)}if(_h(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var _=c.data;if(_==="/$"){if(h===0){bi=zo(c.nextSibling);break e}h--}else _!=="$"&&_!=="$!"&&_!=="$?"||h++}c=c.nextSibling}bi=null}}else bi=Hr?zo(c.stateNode.nextSibling):null;return!0}function cg(){for(var c=bi;c;)c=zo(c.nextSibling)}function Ia(){bi=Hr=null,Hn=!1}function zu(c){Ss===null?Ss=[c]:Ss.push(c)}var n1=A.ReactCurrentBatchConfig;function af(c,h,_){if(c=_.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(n(309));var T=_.stateNode}if(!T)throw Error(n(147,c));var N=T,U=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(W){var oe=N.refs;W===null?delete oe[U]:oe[U]=W},h._stringRef=U,h)}if(typeof c!="string")throw Error(n(284));if(!_._owner)throw Error(n(290,c))}return c}function lf(c,h){throw c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function fg(c){var h=c._init;return h(c._payload)}function dg(c){function h(ve,de){if(c){var _e=ve.deletions;_e===null?(ve.deletions=[de],ve.flags|=16):_e.push(de)}}function _(ve,de){if(!c)return null;for(;de!==null;)h(ve,de),de=de.sibling;return null}function T(ve,de){for(ve=new Map;de!==null;)de.key!==null?ve.set(de.key,de):ve.set(de.index,de),de=de.sibling;return ve}function N(ve,de){return ve=Qu(ve,de),ve.index=0,ve.sibling=null,ve}function U(ve,de,_e){return ve.index=_e,c?(_e=ve.alternate,_e!==null?(_e=_e.index,_e<de?(ve.flags|=2,de):_e):(ve.flags|=2,de)):(ve.flags|=1048576,de)}function W(ve){return c&&ve.alternate===null&&(ve.flags|=2),ve}function oe(ve,de,_e,Qe){return de===null||de.tag!==6?(de=b1(_e,ve.mode,Qe),de.return=ve,de):(de=N(de,_e),de.return=ve,de)}function le(ve,de,_e,Qe){var Mt=_e.type;return Mt===I?We(ve,de,_e.props.children,Qe,_e.key):de!==null&&(de.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Z&&fg(Mt)===de.type)?(Qe=N(de,_e.props),Qe.ref=af(ve,de,_e),Qe.return=ve,Qe):(Qe=ux(_e.type,_e.key,_e.props,null,ve.mode,Qe),Qe.ref=af(ve,de,_e),Qe.return=ve,Qe)}function Te(ve,de,_e,Qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==_e.containerInfo||de.stateNode.implementation!==_e.implementation?(de=w1(_e,ve.mode,Qe),de.return=ve,de):(de=N(de,_e.children||[]),de.return=ve,de)}function We(ve,de,_e,Qe,Mt){return de===null||de.tag!==7?(de=Ef(_e,ve.mode,Qe,Mt),de.return=ve,de):(de=N(de,_e),de.return=ve,de)}function Ge(ve,de,_e){if(typeof de=="string"&&de!==""||typeof de=="number")return de=b1(""+de,ve.mode,_e),de.return=ve,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case P:return _e=ux(de.type,de.key,de.props,null,ve.mode,_e),_e.ref=af(ve,null,de),_e.return=ve,_e;case O:return de=w1(de,ve.mode,_e),de.return=ve,de;case Z:var Qe=de._init;return Ge(ve,Qe(de._payload),_e)}if(ie(de)||K(de))return de=Ef(de,ve.mode,_e,null),de.return=ve,de;lf(ve,de)}return null}function He(ve,de,_e,Qe){var Mt=de!==null?de.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Mt!==null?null:oe(ve,de,""+_e,Qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case P:return _e.key===Mt?le(ve,de,_e,Qe):null;case O:return _e.key===Mt?Te(ve,de,_e,Qe):null;case Z:return Mt=_e._init,He(ve,de,Mt(_e._payload),Qe)}if(ie(_e)||K(_e))return Mt!==null?null:We(ve,de,_e,Qe,null);lf(ve,_e)}return null}function ft(ve,de,_e,Qe,Mt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ve=ve.get(_e)||null,oe(de,ve,""+Qe,Mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case P:return ve=ve.get(Qe.key===null?_e:Qe.key)||null,le(de,ve,Qe,Mt);case O:return ve=ve.get(Qe.key===null?_e:Qe.key)||null,Te(de,ve,Qe,Mt);case Z:var Rt=Qe._init;return ft(ve,de,_e,Rt(Qe._payload),Mt)}if(ie(Qe)||K(Qe))return ve=ve.get(_e)||null,We(de,ve,Qe,Mt,null);lf(de,Qe)}return null}function xt(ve,de,_e,Qe){for(var Mt=null,Rt=null,Ot=de,Ut=de=0,ii=null;Ot!==null&&Ut<_e.length;Ut++){Ot.index>Ut?(ii=Ot,Ot=null):ii=Ot.sibling;var wn=He(ve,Ot,_e[Ut],Qe);if(wn===null){Ot===null&&(Ot=ii);break}c&&Ot&&wn.alternate===null&&h(ve,Ot),de=U(wn,de,Ut),Rt===null?Mt=wn:Rt.sibling=wn,Rt=wn,Ot=ii}if(Ut===_e.length)return _(ve,Ot),Hn&&Go(ve,Ut),Mt;if(Ot===null){for(;Ut<_e.length;Ut++)Ot=Ge(ve,_e[Ut],Qe),Ot!==null&&(de=U(Ot,de,Ut),Rt===null?Mt=Ot:Rt.sibling=Ot,Rt=Ot);return Hn&&Go(ve,Ut),Mt}for(Ot=T(ve,Ot);Ut<_e.length;Ut++)ii=ft(Ot,ve,Ut,_e[Ut],Qe),ii!==null&&(c&&ii.alternate!==null&&Ot.delete(ii.key===null?Ut:ii.key),de=U(ii,de,Ut),Rt===null?Mt=ii:Rt.sibling=ii,Rt=ii);return c&&Ot.forEach(function(Ju){return h(ve,Ju)}),Hn&&Go(ve,Ut),Mt}function bt(ve,de,_e,Qe){var Mt=K(_e);if(typeof Mt!="function")throw Error(n(150));if(_e=Mt.call(_e),_e==null)throw Error(n(151));for(var Rt=Mt=null,Ot=de,Ut=de=0,ii=null,wn=_e.next();Ot!==null&&!wn.done;Ut++,wn=_e.next()){Ot.index>Ut?(ii=Ot,Ot=null):ii=Ot.sibling;var Ju=He(ve,Ot,wn.value,Qe);if(Ju===null){Ot===null&&(Ot=ii);break}c&&Ot&&Ju.alternate===null&&h(ve,Ot),de=U(Ju,de,Ut),Rt===null?Mt=Ju:Rt.sibling=Ju,Rt=Ju,Ot=ii}if(wn.done)return _(ve,Ot),Hn&&Go(ve,Ut),Mt;if(Ot===null){for(;!wn.done;Ut++,wn=_e.next())wn=Ge(ve,wn.value,Qe),wn!==null&&(de=U(wn,de,Ut),Rt===null?Mt=wn:Rt.sibling=wn,Rt=wn);return Hn&&Go(ve,Ut),Mt}for(Ot=T(ve,Ot);!wn.done;Ut++,wn=_e.next())wn=ft(Ot,ve,Ut,wn.value,Qe),wn!==null&&(c&&wn.alternate!==null&&Ot.delete(wn.key===null?Ut:wn.key),de=U(wn,de,Ut),Rt===null?Mt=wn:Rt.sibling=wn,Rt=wn);return c&&Ot.forEach(function(yK){return h(ve,yK)}),Hn&&Go(ve,Ut),Mt}function Tr(ve,de,_e,Qe){if(typeof _e=="object"&&_e!==null&&_e.type===I&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case P:e:{for(var Mt=_e.key,Rt=de;Rt!==null;){if(Rt.key===Mt){if(Mt=_e.type,Mt===I){if(Rt.tag===7){_(ve,Rt.sibling),de=N(Rt,_e.props.children),de.return=ve,ve=de;break e}}else if(Rt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Z&&fg(Mt)===Rt.type){_(ve,Rt.sibling),de=N(Rt,_e.props),de.ref=af(ve,Rt,_e),de.return=ve,ve=de;break e}_(ve,Rt);break}else h(ve,Rt);Rt=Rt.sibling}_e.type===I?(de=Ef(_e.props.children,ve.mode,Qe,_e.key),de.return=ve,ve=de):(Qe=ux(_e.type,_e.key,_e.props,null,ve.mode,Qe),Qe.ref=af(ve,de,_e),Qe.return=ve,ve=Qe)}return W(ve);case O:e:{for(Rt=_e.key;de!==null;){if(de.key===Rt)if(de.tag===4&&de.stateNode.containerInfo===_e.containerInfo&&de.stateNode.implementation===_e.implementation){_(ve,de.sibling),de=N(de,_e.children||[]),de.return=ve,ve=de;break e}else{_(ve,de);break}else h(ve,de);de=de.sibling}de=w1(_e,ve.mode,Qe),de.return=ve,ve=de}return W(ve);case Z:return Rt=_e._init,Tr(ve,de,Rt(_e._payload),Qe)}if(ie(_e))return xt(ve,de,_e,Qe);if(K(_e))return bt(ve,de,_e,Qe);lf(ve,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,de!==null&&de.tag===6?(_(ve,de.sibling),de=N(de,_e),de.return=ve,ve=de):(_(ve,de),de=b1(_e,ve.mode,Qe),de.return=ve,ve=de),W(ve)):_(ve,de)}return Tr}var Tl=dg(!0),uf=dg(!1),Al=rr(null),Pl=null,qo=null,Vu=null;function Cl(){Vu=qo=Pl=null}function cf(c){var h=Al.current;Bn(Al),c._currentValue=h}function ff(c,h,_){for(;c!==null;){var T=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),c===_)break;c=c.return}}function La(c,h){Pl=c,Vu=qo=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(qt=!0),c.firstContext=null)}function Qi(c){var h=c._currentValue;if(Vu!==c)if(c={context:c,memoizedValue:h,next:null},qo===null){if(Pl===null)throw Error(n(308));qo=c,Pl.dependencies={lanes:0,firstContext:c}}else qo=qo.next=c;return h}var Xo=null;function hg(c){Xo===null?Xo=[c]:Xo.push(c)}function df(c,h,_,T){var N=h.interleaved;return N===null?(_.next=_,hg(h)):(_.next=N.next,N.next=_),h.interleaved=_,Bs(c,T)}function Bs(c,h){c.lanes|=h;var _=c.alternate;for(_!==null&&(_.lanes|=h),_=c,c=c.return;c!==null;)c.childLanes|=h,_=c.alternate,_!==null&&(_.childLanes|=h),_=c,c=c.return;return _.tag===3?_.stateNode:null}var An=!1;function $t(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fr(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Pn(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function qn(c,h,_){var T=c.updateQueue;if(T===null)return null;if(T=T.shared,(vn&2)!==0){var N=T.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),T.pending=h,Bs(c,_)}return N=T.interleaved,N===null?(h.next=h,hg(T)):(h.next=N.next,N.next=h),T.interleaved=h,Bs(c,_)}function ti(c,h,_){if(h=h.updateQueue,h!==null&&(h=h.shared,(_&4194240)!==0)){var T=h.lanes;T&=c.pendingLanes,_|=T,h.lanes=_,wu(c,_)}}function Rl(c,h){var _=c.updateQueue,T=c.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var N=null,U=null;if(_=_.firstBaseUpdate,_!==null){do{var W={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};U===null?N=U=W:U=U.next=W,_=_.next}while(_!==null);U===null?N=U=h:U=U.next=h}else N=U=h;_={baseState:T.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:T.shared,effects:T.effects},c.updateQueue=_;return}c=_.lastBaseUpdate,c===null?_.firstBaseUpdate=h:c.next=h,_.lastBaseUpdate=h}function ir(c,h,_,T){var N=c.updateQueue;An=!1;var U=N.firstBaseUpdate,W=N.lastBaseUpdate,oe=N.shared.pending;if(oe!==null){N.shared.pending=null;var le=oe,Te=le.next;le.next=null,W===null?U=Te:W.next=Te,W=le;var We=c.alternate;We!==null&&(We=We.updateQueue,oe=We.lastBaseUpdate,oe!==W&&(oe===null?We.firstBaseUpdate=Te:oe.next=Te,We.lastBaseUpdate=le))}if(U!==null){var Ge=N.baseState;W=0,We=Te=le=null,oe=U;do{var He=oe.lane,ft=oe.eventTime;if((T&He)===He){We!==null&&(We=We.next={eventTime:ft,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var xt=c,bt=oe;switch(He=h,ft=_,bt.tag){case 1:if(xt=bt.payload,typeof xt=="function"){Ge=xt.call(ft,Ge,He);break e}Ge=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=bt.payload,He=typeof xt=="function"?xt.call(ft,Ge,He):xt,He==null)break e;Ge=Q({},Ge,He);break e;case 2:An=!0}}oe.callback!==null&&oe.lane!==0&&(c.flags|=64,He=N.effects,He===null?N.effects=[oe]:He.push(oe))}else ft={eventTime:ft,lane:He,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},We===null?(Te=We=ft,le=Ge):We=We.next=ft,W|=He;if(oe=oe.next,oe===null){if(oe=N.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,N.lastBaseUpdate=He,N.shared.pending=null}}while(!0);if(We===null&&(le=Ge),N.baseState=le,N.firstBaseUpdate=Te,N.lastBaseUpdate=We,h=N.shared.interleaved,h!==null){N=h;do W|=N.lane,N=N.next;while(N!==h)}else U===null&&(N.shared.lanes=0);bf|=W,c.lanes=W,c.memoizedState=Ge}}function Hu(c,h,_){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var T=c[h],N=T.callback;if(N!==null){if(T.callback=null,T=_,typeof N!="function")throw Error(n(191,N));N.call(T)}}}var uo={},Ji=rr(uo),Ol=rr(uo),Ko=rr(uo);function gr(c){if(c===uo)throw Error(n(174));return c}function hf(c,h){switch(Nn(Ko,h),Nn(Ol,c),Nn(Ji,uo),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:nt(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=nt(h,c)}Bn(Ji),Nn(Ji,h)}function Da(){Bn(Ji),Bn(Ol),Bn(Ko)}function Nl(c){gr(Ko.current);var h=gr(Ji.current),_=nt(h,c.type);h!==_&&(Nn(Ol,c),Nn(Ji,_))}function Wu(c){Ol.current===c&&(Bn(Ji),Bn(Ol))}var Wn=rr(0);function js(c){for(var h=c;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Gu=[];function co(){for(var c=0;c<Gu.length;c++)Gu[c]._workInProgressVersionPrimary=null;Gu.length=0}var Il=A.ReactCurrentDispatcher,Ll=A.ReactCurrentBatchConfig,Yo=0,jn=null,sr=null,mn=null,zs=!1,ni=!1,ka=0,Li=0;function Wr(){throw Error(n(321))}function pf(c,h){if(h===null)return!1;for(var _=0;_<h.length&&_<c.length;_++)if(!Ki(c[_],h[_]))return!1;return!0}function mf(c,h,_,T,N,U){if(Yo=U,jn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Il.current=c===null||c.memoizedState===null?q0:X0,c=_(T,N),ni){U=0;do{if(ni=!1,ka=0,25<=U)throw Error(n(301));U+=1,mn=sr=null,h.updateQueue=null,Il.current=K0,c=_(T,N)}while(ni)}if(Il.current=Ah,h=sr!==null&&sr.next!==null,Yo=0,mn=sr=jn=null,zs=!1,h)throw Error(n(300));return c}function pg(){var c=ka!==0;return ka=0,c}function Gr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jn.memoizedState=mn=c:mn=mn.next=c,mn}function es(){if(sr===null){var c=jn.alternate;c=c!==null?c.memoizedState:null}else c=sr.next;var h=mn===null?jn.memoizedState:mn.next;if(h!==null)mn=h,sr=c;else{if(c===null)throw Error(n(310));sr=c,c={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mn===null?jn.memoizedState=mn=c:mn=mn.next=c}return mn}function $u(c,h){return typeof h=="function"?h(c):h}function gf(c){var h=es(),_=h.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=c;var T=sr,N=T.baseQueue,U=_.pending;if(U!==null){if(N!==null){var W=N.next;N.next=U.next,U.next=W}T.baseQueue=N=U,_.pending=null}if(N!==null){U=N.next,T=T.baseState;var oe=W=null,le=null,Te=U;do{var We=Te.lane;if((Yo&We)===We)le!==null&&(le=le.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),T=Te.hasEagerState?Te.eagerState:c(T,Te.action);else{var Ge={lane:We,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};le===null?(oe=le=Ge,W=T):le=le.next=Ge,jn.lanes|=We,bf|=We}Te=Te.next}while(Te!==null&&Te!==U);le===null?W=T:le.next=oe,Ki(T,h.memoizedState)||(qt=!0),h.memoizedState=T,h.baseState=W,h.baseQueue=le,_.lastRenderedState=T}if(c=_.interleaved,c!==null){N=c;do U=N.lane,jn.lanes|=U,bf|=U,N=N.next;while(N!==c)}else N===null&&(_.lanes=0);return[h.memoizedState,_.dispatch]}function Zo(c){var h=es(),_=h.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=c;var T=_.dispatch,N=_.pending,U=h.memoizedState;if(N!==null){_.pending=null;var W=N=N.next;do U=c(U,W.action),W=W.next;while(W!==N);Ki(U,h.memoizedState)||(qt=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),_.lastRenderedState=U}return[U,T]}function mg(){}function gg(c,h){var _=jn,T=es(),N=h(),U=!Ki(T.memoizedState,N);if(U&&(T.memoizedState=N,qt=!0),T=T.queue,xg(z0.bind(null,_,T,c),[c]),T.getSnapshot!==h||U||mn!==null&&mn.memoizedState.tag&1){if(_.flags|=2048,Vs(9,vf.bind(null,_,T,N,h),void 0,null),ri===null)throw Error(n(349));(Yo&30)!==0||bh(_,h,N)}return N}function bh(c,h,_){c.flags|=16384,c={getSnapshot:h,value:_},h=jn.updateQueue,h===null?(h={lastEffect:null,stores:null},jn.updateQueue=h,h.stores=[c]):(_=h.stores,_===null?h.stores=[c]:_.push(c))}function vf(c,h,_,T){h.value=_,h.getSnapshot=T,V0(h)&&vg(c)}function z0(c,h,_){return _(function(){V0(h)&&vg(c)})}function V0(c){var h=c.getSnapshot;c=c.value;try{var _=h();return!Ki(c,_)}catch{return!0}}function vg(c){var h=Bs(c,1);h!==null&&na(h,c,1,-1)}function yg(c){var h=Gr();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:c},h.queue=c,c=c.dispatch=Dl.bind(null,jn,c),[h.memoizedState,c]}function Vs(c,h,_,T){return c={tag:c,create:h,destroy:_,deps:T,next:null},h=jn.updateQueue,h===null?(h={lastEffect:null,stores:null},jn.updateQueue=h,h.lastEffect=c.next=c):(_=h.lastEffect,_===null?h.lastEffect=c.next=c:(T=_.next,_.next=c,c.next=T,h.lastEffect=c)),c}function H0(){return es().memoizedState}function fo(c,h,_,T){var N=Gr();jn.flags|=c,N.memoizedState=Vs(1|h,_,void 0,T===void 0?null:T)}function yf(c,h,_,T){var N=es();T=T===void 0?null:T;var U=void 0;if(sr!==null){var W=sr.memoizedState;if(U=W.destroy,T!==null&&pf(T,W.deps)){N.memoizedState=Vs(h,_,U,T);return}}jn.flags|=c,N.memoizedState=Vs(1|h,_,U,T)}function wi(c,h){return fo(8390656,8,c,h)}function xg(c,h){return yf(2048,8,c,h)}function _g(c,h){return yf(4,2,c,h)}function W0(c,h){return yf(4,4,c,h)}function G0(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function bg(c,h,_){return _=_!=null?_.concat([c]):null,yf(4,4,G0.bind(null,h,c),_)}function wh(){}function $0(c,h){var _=es();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&pf(h,T[1])?T[0]:(_.memoizedState=[c,h],c)}function ts(c,h){var _=es();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&pf(h,T[1])?T[0]:(c=c(),_.memoizedState=[c,h],c)}function Sh(c,h,_){return(Yo&21)===0?(c.baseState&&(c.baseState=!1,qt=!0),c.memoizedState=_):(Ki(_,h)||(_=mi(),jn.lanes|=_,bf|=_,c.baseState=!0),h)}function r1(c,h){var _=pn;pn=_!==0&&4>_?_:4,c(!0);var T=Ll.transition;Ll.transition={};try{c(!1),h()}finally{pn=_,Ll.transition=T}}function Qo(){return es().memoizedState}function Mh(c,h,_){var T=Yu(c);if(_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},xf(c))Eh(h,_);else if(_=df(c,h,_,T),_!==null){var N=rs();na(_,c,T,N),Th(_,h,T)}}function Dl(c,h,_){var T=Yu(c),N={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(xf(c))Eh(h,N);else{var U=c.alternate;if(c.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var W=h.lastRenderedState,oe=U(W,_);if(N.hasEagerState=!0,N.eagerState=oe,Ki(oe,W)){var le=h.interleaved;le===null?(N.next=N,hg(h)):(N.next=le.next,le.next=N),h.interleaved=N;return}}catch{}_=df(c,h,N,T),_!==null&&(N=rs(),na(_,c,T,N),Th(_,h,T))}}function xf(c){var h=c.alternate;return c===jn||h!==null&&h===jn}function Eh(c,h){ni=zs=!0;var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}function Th(c,h,_){if((_&4194240)!==0){var T=h.lanes;T&=c.pendingLanes,_|=T,h.lanes=_,wu(c,_)}}var Ah={readContext:Qi,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},q0={readContext:Qi,useCallback:function(c,h){return Gr().memoizedState=[c,h===void 0?null:h],c},useContext:Qi,useEffect:wi,useImperativeHandle:function(c,h,_){return _=_!=null?_.concat([c]):null,fo(4194308,4,G0.bind(null,h,c),_)},useLayoutEffect:function(c,h){return fo(4194308,4,c,h)},useInsertionEffect:function(c,h){return fo(4,2,c,h)},useMemo:function(c,h){var _=Gr();return h=h===void 0?null:h,c=c(),_.memoizedState=[c,h],c},useReducer:function(c,h,_){var T=Gr();return h=_!==void 0?_(h):h,T.memoizedState=T.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},T.queue=c,c=c.dispatch=Mh.bind(null,jn,c),[T.memoizedState,c]},useRef:function(c){var h=Gr();return c={current:c},h.memoizedState=c},useState:yg,useDebugValue:wh,useDeferredValue:function(c){return Gr().memoizedState=c},useTransition:function(){var c=yg(!1),h=c[0];return c=r1.bind(null,c[1]),Gr().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,_){var T=jn,N=Gr();if(Hn){if(_===void 0)throw Error(n(407));_=_()}else{if(_=h(),ri===null)throw Error(n(349));(Yo&30)!==0||bh(T,h,_)}N.memoizedState=_;var U={value:_,getSnapshot:h};return N.queue=U,wi(z0.bind(null,T,U,c),[c]),T.flags|=2048,Vs(9,vf.bind(null,T,U,_,h),void 0,null),_},useId:function(){var c=Gr(),h=ri.identifierPrefix;if(Hn){var _=ws,T=tt;_=(T&~(1<<32-Ft(T)-1)).toString(32)+_,h=":"+h+"R"+_,_=ka++,0<_&&(h+="H"+_.toString(32)),h+=":"}else _=Li++,h=":"+h+"r"+_.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},X0={readContext:Qi,useCallback:$0,useContext:Qi,useEffect:xg,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:W0,useMemo:ts,useReducer:gf,useRef:H0,useState:function(){return gf($u)},useDebugValue:wh,useDeferredValue:function(c){var h=es();return Sh(h,sr.memoizedState,c)},useTransition:function(){var c=gf($u)[0],h=es().memoizedState;return[c,h]},useMutableSource:mg,useSyncExternalStore:gg,useId:Qo,unstable_isNewReconciler:!1},K0={readContext:Qi,useCallback:$0,useContext:Qi,useEffect:xg,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:W0,useMemo:ts,useReducer:Zo,useRef:H0,useState:function(){return Zo($u)},useDebugValue:wh,useDeferredValue:function(c){var h=es();return sr===null?h.memoizedState=c:Sh(h,sr.memoizedState,c)},useTransition:function(){var c=Zo($u)[0],h=es().memoizedState;return[c,h]},useMutableSource:mg,useSyncExternalStore:gg,useId:Qo,unstable_isNewReconciler:!1};function Ms(c,h){if(c&&c.defaultProps){h=Q({},h),c=c.defaultProps;for(var _ in c)h[_]===void 0&&(h[_]=c[_]);return h}return h}function _f(c,h,_,T){h=c.memoizedState,_=_(T,h),_=_==null?h:Q({},h,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var Ph={isMounted:function(c){return(c=c._reactInternals)?No(c)===c:!1},enqueueSetState:function(c,h,_){c=c._reactInternals;var T=rs(),N=Yu(c),U=Pn(T,N);U.payload=h,_!=null&&(U.callback=_),h=qn(c,U,N),h!==null&&(na(h,c,N,T),ti(h,c,N))},enqueueReplaceState:function(c,h,_){c=c._reactInternals;var T=rs(),N=Yu(c),U=Pn(T,N);U.tag=1,U.payload=h,_!=null&&(U.callback=_),h=qn(c,U,N),h!==null&&(na(h,c,N,T),ti(h,c,N))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var _=rs(),T=Yu(c),N=Pn(_,T);N.tag=2,h!=null&&(N.callback=h),h=qn(c,N,T),h!==null&&(na(h,c,T,_),ti(h,c,T))}};function Y0(c,h,_,T,N,U,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,U,W):h.prototype&&h.prototype.isPureReactComponent?!gl(_,T)||!gl(N,U):!0}function m(c,h,_){var T=!1,N=Ho,U=h.contextType;return typeof U=="object"&&U!==null?U=Qi(U):(N=ei(h)?Wo:Vr.current,T=h.contextTypes,U=(T=T!=null)?wl(c,N):Ho),h=new h(_,U),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ph,c.stateNode=h,h._reactInternals=c,T&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=N,c.__reactInternalMemoizedMaskedChildContext=U),h}function g(c,h,_,T){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,T),h.state!==c&&Ph.enqueueReplaceState(h,h.state,null)}function E(c,h,_,T){var N=c.stateNode;N.props=_,N.state=c.memoizedState,N.refs={},$t(c);var U=h.contextType;typeof U=="object"&&U!==null?N.context=Qi(U):(U=ei(h)?Wo:Vr.current,N.context=wl(c,U)),N.state=c.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(_f(c,h,U,_),N.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&Ph.enqueueReplaceState(N,N.state,null),ir(c,_,N,T),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308)}function R(c,h){try{var _="",T=h;do _+=xe(T),T=T.return;while(T);var N=_}catch(U){N=`
Error generating stack: `+U.message+`
`+U.stack}return{value:c,source:h,stack:N,digest:null}}function D(c,h,_){return{value:c,source:null,stack:_??null,digest:h??null}}function z(c,h){try{console.error(h.value)}catch(_){setTimeout(function(){throw _})}}var re=typeof WeakMap=="function"?WeakMap:Map;function he(c,h,_){_=Pn(-1,_),_.tag=3,_.payload={element:null};var T=h.value;return _.callback=function(){rx||(rx=!0,h1=T),z(c,h)},_}function Oe(c,h,_){_=Pn(-1,_),_.tag=3;var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var N=h.value;_.payload=function(){return T(N)},_.callback=function(){z(c,h)}}var U=c.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(_.callback=function(){z(c,h),typeof T!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),_}function Ke(c,h,_){var T=c.pingCache;if(T===null){T=c.pingCache=new re;var N=new Set;T.set(h,N)}else N=T.get(h),N===void 0&&(N=new Set,T.set(h,N));N.has(_)||(N.add(_),c=aK.bind(null,c,h,_),h.then(c,c))}function pt(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function jt(c,h,_,T,N){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(h=Pn(-1,1),h.tag=2,qn(_,h,1))),_.lanes|=1),c):(c.flags|=65536,c.lanes=N,c)}var Ct=A.ReactCurrentOwner,qt=!1;function ct(c,h,_,T){h.child=c===null?uf(h,null,_,T):Tl(h,c.child,_,T)}function $r(c,h,_,T,N){_=_.render;var U=h.ref;return La(h,N),T=mf(c,h,_,T,U,N),_=pg(),c!==null&&!qt?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~N,kl(c,h,N)):(Hn&&_&&ag(h),h.flags|=1,ct(c,h,T,N),h.child)}function ns(c,h,_,T,N){if(c===null){var U=_.type;return typeof U=="function"&&!_1(U)&&U.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(h.tag=15,h.type=U,we(c,h,U,T,N)):(c=ux(_.type,null,T,h,h.mode,N),c.ref=h.ref,c.return=h,h.child=c)}if(U=c.child,(c.lanes&N)===0){var W=U.memoizedProps;if(_=_.compare,_=_!==null?_:gl,_(W,T)&&c.ref===h.ref)return kl(c,h,N)}return h.flags|=1,c=Qu(U,T),c.ref=h.ref,c.return=h,h.child=c}function we(c,h,_,T,N){if(c!==null){var U=c.memoizedProps;if(gl(U,T)&&c.ref===h.ref)if(qt=!1,h.pendingProps=T=U,(c.lanes&N)!==0)(c.flags&131072)!==0&&(qt=!0);else return h.lanes=c.lanes,kl(c,h,N)}return it(c,h,_,T,N)}function me(c,h,_){var T=h.pendingProps,N=T.children,U=c!==null?c.memoizedState:null;if(T.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(Rh,Hs),Hs|=_;else{if((_&1073741824)===0)return c=U!==null?U.baseLanes|_:_,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,Nn(Rh,Hs),Hs|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=U!==null?U.baseLanes:_,Nn(Rh,Hs),Hs|=T}else U!==null?(T=U.baseLanes|_,h.memoizedState=null):T=_,Nn(Rh,Hs),Hs|=T;return ct(c,h,N,_),h.child}function Pe(c,h){var _=h.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(h.flags|=512,h.flags|=2097152)}function it(c,h,_,T,N){var U=ei(_)?Wo:Vr.current;return U=wl(h,U),La(h,N),_=mf(c,h,_,T,U,N),T=pg(),c!==null&&!qt?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~N,kl(c,h,N)):(Hn&&T&&ag(h),h.flags|=1,ct(c,h,_,N),h.child)}function wt(c,h,_,T,N){if(ei(_)){var U=!0;Sl(h)}else U=!1;if(La(h,N),h.stateNode===null)Q0(c,h),m(h,_,T),E(h,_,T,N),T=!0;else if(c===null){var W=h.stateNode,oe=h.memoizedProps;W.props=oe;var le=W.context,Te=_.contextType;typeof Te=="object"&&Te!==null?Te=Qi(Te):(Te=ei(_)?Wo:Vr.current,Te=wl(h,Te));var We=_.getDerivedStateFromProps,Ge=typeof We=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ge||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(oe!==T||le!==Te)&&g(h,W,T,Te),An=!1;var He=h.memoizedState;W.state=He,ir(h,T,W,N),le=h.memoizedState,oe!==T||He!==le||xi.current||An?(typeof We=="function"&&(_f(h,_,We,T),le=h.memoizedState),(oe=An||Y0(h,_,oe,T,He,le,Te))?(Ge||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=le),W.props=T,W.state=le,W.context=Te,T=oe):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{W=h.stateNode,fr(c,h),oe=h.memoizedProps,Te=h.type===h.elementType?oe:Ms(h.type,oe),W.props=Te,Ge=h.pendingProps,He=W.context,le=_.contextType,typeof le=="object"&&le!==null?le=Qi(le):(le=ei(_)?Wo:Vr.current,le=wl(h,le));var ft=_.getDerivedStateFromProps;(We=typeof ft=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(oe!==Ge||He!==le)&&g(h,W,T,le),An=!1,He=h.memoizedState,W.state=He,ir(h,T,W,N);var xt=h.memoizedState;oe!==Ge||He!==xt||xi.current||An?(typeof ft=="function"&&(_f(h,_,ft,T),xt=h.memoizedState),(Te=An||Y0(h,_,Te,T,He,xt,le)||!1)?(We||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(T,xt,le),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(T,xt,le)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||oe===c.memoizedProps&&He===c.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&He===c.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=xt),W.props=T,W.state=xt,W.context=le,T=Te):(typeof W.componentDidUpdate!="function"||oe===c.memoizedProps&&He===c.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&He===c.memoizedState||(h.flags|=1024),T=!1)}return Ht(c,h,_,T,U,N)}function Ht(c,h,_,T,N,U){Pe(c,h);var W=(h.flags&128)!==0;if(!T&&!W)return N&&sg(h,_,!1),kl(c,h,U);T=h.stateNode,Ct.current=h;var oe=W&&typeof _.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,c!==null&&W?(h.child=Tl(h,c.child,null,U),h.child=Tl(h,null,oe,U)):ct(c,h,oe,U),h.memoizedState=T.state,N&&sg(h,_,!0),h.child}function zt(c){var h=c.stateNode;h.pendingContext?ig(c,h.pendingContext,h.pendingContext!==h.context):h.context&&ig(c,h.context,!1),hf(c,h.containerInfo)}function fn(c,h,_,T,N){return Ia(),zu(N),h.flags|=256,ct(c,h,_,T),h.child}var vr={dehydrated:null,treeContext:null,retryLane:0};function un(c){return{baseLanes:c,cachePool:null,transitions:null}}function Jo(c,h,_){var T=h.pendingProps,N=Wn.current,U=!1,W=(h.flags&128)!==0,oe;if((oe=W)||(oe=c!==null&&c.memoizedState===null?!1:(N&2)!==0),oe?(U=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(N|=1),Nn(Wn,N&1),c===null)return xh(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(W=T.children,c=T.fallback,U?(T=h.mode,U=h.child,W={mode:"hidden",children:W},(T&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=W):U=cx(W,T,0,null),c=Ef(c,T,_,null),U.return=h,c.return=h,U.sibling=c,h.child=U,h.child.memoizedState=un(_),h.memoizedState=vr,c):wg(h,W));if(N=c.memoizedState,N!==null&&(oe=N.dehydrated,oe!==null))return KX(c,h,W,T,oe,N,_);if(U){U=T.fallback,W=h.mode,N=c.child,oe=N.sibling;var le={mode:"hidden",children:T.children};return(W&1)===0&&h.child!==N?(T=h.child,T.childLanes=0,T.pendingProps=le,h.deletions=null):(T=Qu(N,le),T.subtreeFlags=N.subtreeFlags&14680064),oe!==null?U=Qu(oe,U):(U=Ef(U,W,_,null),U.flags|=2),U.return=h,T.return=h,T.sibling=U,h.child=T,T=U,U=h.child,W=c.child.memoizedState,W=W===null?un(_):{baseLanes:W.baseLanes|_,cachePool:null,transitions:W.transitions},U.memoizedState=W,U.childLanes=c.childLanes&~_,h.memoizedState=vr,T}return U=c.child,c=U.sibling,T=Qu(U,{mode:"visible",children:T.children}),(h.mode&1)===0&&(T.lanes=_),T.return=h,T.sibling=null,c!==null&&(_=h.deletions,_===null?(h.deletions=[c],h.flags|=16):_.push(c)),h.child=T,h.memoizedState=null,T}function wg(c,h){return h=cx({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Z0(c,h,_,T){return T!==null&&zu(T),Tl(h,c.child,null,_),c=wg(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function KX(c,h,_,T,N,U,W){if(_)return h.flags&256?(h.flags&=-257,T=D(Error(n(422))),Z0(c,h,W,T)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(U=T.fallback,N=h.mode,T=cx({mode:"visible",children:T.children},N,0,null),U=Ef(U,N,W,null),U.flags|=2,T.return=h,U.return=h,T.sibling=U,h.child=T,(h.mode&1)!==0&&Tl(h,c.child,null,W),h.child.memoizedState=un(W),h.memoizedState=vr,U);if((h.mode&1)===0)return Z0(c,h,W,null);if(N.data==="$!"){if(T=N.nextSibling&&N.nextSibling.dataset,T)var oe=T.dgst;return T=oe,U=Error(n(419)),T=D(U,T,void 0),Z0(c,h,W,T)}if(oe=(W&c.childLanes)!==0,qt||oe){if(T=ri,T!==null){switch(W&-W){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(T.suspendedLanes|W))!==0?0:N,N!==0&&N!==U.retryLane&&(U.retryLane=N,Bs(c,N),na(T,c,N,-1))}return x1(),T=D(Error(n(421))),Z0(c,h,W,T)}return N.data==="$?"?(h.flags|=128,h.child=c.child,h=lK.bind(null,c),N._reactRetry=h,null):(c=U.treeContext,bi=zo(N.nextSibling),Hr=h,Hn=!0,Ss=null,c!==null&&(_i[Ir++]=tt,_i[Ir++]=ws,_i[Ir++]=El,tt=c.id,ws=c.overflow,El=h),h=wg(h,T.children),h.flags|=4096,h)}function uL(c,h,_){c.lanes|=h;var T=c.alternate;T!==null&&(T.lanes|=h),ff(c.return,h,_)}function i1(c,h,_,T,N){var U=c.memoizedState;U===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:N}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=T,U.tail=_,U.tailMode=N)}function cL(c,h,_){var T=h.pendingProps,N=T.revealOrder,U=T.tail;if(ct(c,h,T.children,_),T=Wn.current,(T&2)!==0)T=T&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&uL(c,_,h);else if(c.tag===19)uL(c,_,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}if(Nn(Wn,T),(h.mode&1)===0)h.memoizedState=null;else switch(N){case"forwards":for(_=h.child,N=null;_!==null;)c=_.alternate,c!==null&&js(c)===null&&(N=_),_=_.sibling;_=N,_===null?(N=h.child,h.child=null):(N=_.sibling,_.sibling=null),i1(h,!1,N,_,U);break;case"backwards":for(_=null,N=h.child,h.child=null;N!==null;){if(c=N.alternate,c!==null&&js(c)===null){h.child=N;break}c=N.sibling,N.sibling=_,_=N,N=c}i1(h,!0,_,null,U);break;case"together":i1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Q0(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function kl(c,h,_){if(c!==null&&(h.dependencies=c.dependencies),bf|=h.lanes,(_&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,_=Qu(c,c.pendingProps),h.child=_,_.return=h;c.sibling!==null;)c=c.sibling,_=_.sibling=Qu(c,c.pendingProps),_.return=h;_.sibling=null}return h.child}function YX(c,h,_){switch(h.tag){case 3:zt(h),Ia();break;case 5:Nl(h);break;case 1:ei(h.type)&&Sl(h);break;case 4:hf(h,h.stateNode.containerInfo);break;case 10:var T=h.type._context,N=h.memoizedProps.value;Nn(Al,T._currentValue),T._currentValue=N;break;case 13:if(T=h.memoizedState,T!==null)return T.dehydrated!==null?(Nn(Wn,Wn.current&1),h.flags|=128,null):(_&h.child.childLanes)!==0?Jo(c,h,_):(Nn(Wn,Wn.current&1),c=kl(c,h,_),c!==null?c.sibling:null);Nn(Wn,Wn.current&1);break;case 19:if(T=(_&h.childLanes)!==0,(c.flags&128)!==0){if(T)return cL(c,h,_);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Nn(Wn,Wn.current),T)break;return null;case 22:case 23:return h.lanes=0,me(c,h,_)}return kl(c,h,_)}var fL,s1,dL,hL;fL=function(c,h){for(var _=h.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},s1=function(){},dL=function(c,h,_,T){var N=c.memoizedProps;if(N!==T){c=h.stateNode,gr(Ji.current);var U=null;switch(_){case"input":N=Ne(c,N),T=Ne(c,T),U=[];break;case"select":N=Q({},N,{value:void 0}),T=Q({},T,{value:void 0}),U=[];break;case"textarea":N=be(c,N),T=be(c,T),U=[];break;default:typeof N.onClick!="function"&&typeof T.onClick=="function"&&(c.onclick=tf)}Yt(_,T);var W;_=null;for(Te in N)if(!T.hasOwnProperty(Te)&&N.hasOwnProperty(Te)&&N[Te]!=null)if(Te==="style"){var oe=N[Te];for(W in oe)oe.hasOwnProperty(W)&&(_||(_={}),_[W]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(i.hasOwnProperty(Te)?U||(U=[]):(U=U||[]).push(Te,null));for(Te in T){var le=T[Te];if(oe=N?.[Te],T.hasOwnProperty(Te)&&le!==oe&&(le!=null||oe!=null))if(Te==="style")if(oe){for(W in oe)!oe.hasOwnProperty(W)||le&&le.hasOwnProperty(W)||(_||(_={}),_[W]="");for(W in le)le.hasOwnProperty(W)&&oe[W]!==le[W]&&(_||(_={}),_[W]=le[W])}else _||(U||(U=[]),U.push(Te,_)),_=le;else Te==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,oe=oe?oe.__html:void 0,le!=null&&oe!==le&&(U=U||[]).push(Te,le)):Te==="children"?typeof le!="string"&&typeof le!="number"||(U=U||[]).push(Te,""+le):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(i.hasOwnProperty(Te)?(le!=null&&Te==="onScroll"&&Un("scroll",c),U||oe===le||(U=[])):(U=U||[]).push(Te,le))}_&&(U=U||[]).push("style",_);var Te=U;(h.updateQueue=Te)&&(h.flags|=4)}},hL=function(c,h,_,T){_!==T&&(h.flags|=4)};function Sg(c,h){if(!Hn)switch(c.tailMode){case"hidden":h=c.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function Di(c){var h=c.alternate!==null&&c.alternate.child===c.child,_=0,T=0;if(h)for(var N=c.child;N!==null;)_|=N.lanes|N.childLanes,T|=N.subtreeFlags&14680064,T|=N.flags&14680064,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)_|=N.lanes|N.childLanes,T|=N.subtreeFlags,T|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=T,c.childLanes=_,h}function ZX(c,h,_){var T=h.pendingProps;switch($o(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(h),null;case 1:return ei(h.type)&&nf(),Di(h),null;case 3:return T=h.stateNode,Da(),Bn(xi),Bn(Vr),co(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(c===null||c.child===null)&&(ju(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ss!==null&&(g1(Ss),Ss=null))),s1(c,h),Di(h),null;case 5:Wu(h);var N=gr(Ko.current);if(_=h.type,c!==null&&h.stateNode!=null)dL(c,h,_,T,N),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(n(166));return Di(h),null}if(c=gr(Ji.current),ju(h)){T=h.stateNode,_=h.type;var U=h.memoizedProps;switch(T[Er]=h,T[Bu]=U,c=(h.mode&1)!==0,_){case"dialog":Un("cancel",T),Un("close",T);break;case"iframe":case"object":case"embed":Un("load",T);break;case"video":case"audio":for(N=0;N<Oa.length;N++)Un(Oa[N],T);break;case"source":Un("error",T);break;case"img":case"image":case"link":Un("error",T),Un("load",T);break;case"details":Un("toggle",T);break;case"input":De(T,U),Un("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!U.multiple},Un("invalid",T);break;case"textarea":Be(T,U),Un("invalid",T)}Yt(_,U),N=null;for(var W in U)if(U.hasOwnProperty(W)){var oe=U[W];W==="children"?typeof oe=="string"?T.textContent!==oe&&(U.suppressHydrationWarning!==!0&&ef(T.textContent,oe,c),N=["children",oe]):typeof oe=="number"&&T.textContent!==""+oe&&(U.suppressHydrationWarning!==!0&&ef(T.textContent,oe,c),N=["children",""+oe]):i.hasOwnProperty(W)&&oe!=null&&W==="onScroll"&&Un("scroll",T)}switch(_){case"input":se(T),et(T,U,!0);break;case"textarea":se(T),Ve(T);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(T.onclick=tf)}T=N,h.updateQueue=T,T!==null&&(h.flags|=4)}else{W=N.nodeType===9?N:N.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Et(_)),c==="http://www.w3.org/1999/xhtml"?_==="script"?(c=W.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof T.is=="string"?c=W.createElement(_,{is:T.is}):(c=W.createElement(_),_==="select"&&(W=c,T.multiple?W.multiple=!0:T.size&&(W.size=T.size))):c=W.createElementNS(c,_),c[Er]=h,c[Bu]=T,fL(c,h,!1,!1),h.stateNode=c;e:{switch(W=Dn(_,T),_){case"dialog":Un("cancel",c),Un("close",c),N=T;break;case"iframe":case"object":case"embed":Un("load",c),N=T;break;case"video":case"audio":for(N=0;N<Oa.length;N++)Un(Oa[N],c);N=T;break;case"source":Un("error",c),N=T;break;case"img":case"image":case"link":Un("error",c),Un("load",c),N=T;break;case"details":Un("toggle",c),N=T;break;case"input":De(c,T),N=Ne(c,T),Un("invalid",c);break;case"option":N=T;break;case"select":c._wrapperState={wasMultiple:!!T.multiple},N=Q({},T,{value:void 0}),Un("invalid",c);break;case"textarea":Be(c,T),N=be(c,T),Un("invalid",c);break;default:N=T}Yt(_,N),oe=N;for(U in oe)if(oe.hasOwnProperty(U)){var le=oe[U];U==="style"?ot(c,le):U==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&Bt(c,le)):U==="children"?typeof le=="string"?(_!=="textarea"||le!=="")&&$e(c,le):typeof le=="number"&&$e(c,""+le):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?le!=null&&U==="onScroll"&&Un("scroll",c):le!=null&&S(c,U,le,W))}switch(_){case"input":se(c),et(c,T,!1);break;case"textarea":se(c),Ve(c);break;case"option":T.value!=null&&c.setAttribute("value",""+qe(T.value));break;case"select":c.multiple=!!T.multiple,U=T.value,U!=null?$(c,!!T.multiple,U,!1):T.defaultValue!=null&&$(c,!!T.multiple,T.defaultValue,!0);break;default:typeof N.onClick=="function"&&(c.onclick=tf)}switch(_){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Di(h),null;case 6:if(c&&h.stateNode!=null)hL(c,h,c.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(n(166));if(_=gr(Ko.current),gr(Ji.current),ju(h)){if(T=h.stateNode,_=h.memoizedProps,T[Er]=h,(U=T.nodeValue!==_)&&(c=Hr,c!==null))switch(c.tag){case 3:ef(T.nodeValue,_,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ef(T.nodeValue,_,(c.mode&1)!==0)}U&&(h.flags|=4)}else T=(_.nodeType===9?_:_.ownerDocument).createTextNode(T),T[Er]=h,h.stateNode=T}return Di(h),null;case 13:if(Bn(Wn),T=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Hn&&bi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)cg(),Ia(),h.flags|=98560,U=!1;else if(U=ju(h),T!==null&&T.dehydrated!==null){if(c===null){if(!U)throw Error(n(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Er]=h}else Ia(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Di(h),U=!1}else Ss!==null&&(g1(Ss),Ss=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=_,h):(T=T!==null,T!==(c!==null&&c.memoizedState!==null)&&T&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Wn.current&1)!==0?qr===0&&(qr=3):x1())),h.updateQueue!==null&&(h.flags|=4),Di(h),null);case 4:return Da(),s1(c,h),c===null&&ku(h.stateNode.containerInfo),Di(h),null;case 10:return cf(h.type._context),Di(h),null;case 17:return ei(h.type)&&nf(),Di(h),null;case 19:if(Bn(Wn),U=h.memoizedState,U===null)return Di(h),null;if(T=(h.flags&128)!==0,W=U.rendering,W===null)if(T)Sg(U,!1);else{if(qr!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(W=js(c),W!==null){for(h.flags|=128,Sg(U,!1),T=W.updateQueue,T!==null&&(h.updateQueue=T,h.flags|=4),h.subtreeFlags=0,T=_,_=h.child;_!==null;)U=_,c=T,U.flags&=14680066,W=U.alternate,W===null?(U.childLanes=0,U.lanes=c,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=W.childLanes,U.lanes=W.lanes,U.child=W.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=W.memoizedProps,U.memoizedState=W.memoizedState,U.updateQueue=W.updateQueue,U.type=W.type,c=W.dependencies,U.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),_=_.sibling;return Nn(Wn,Wn.current&1|2),h.child}c=c.sibling}U.tail!==null&&ut()>Oh&&(h.flags|=128,T=!0,Sg(U,!1),h.lanes=4194304)}else{if(!T)if(c=js(W),c!==null){if(h.flags|=128,T=!0,_=c.updateQueue,_!==null&&(h.updateQueue=_,h.flags|=4),Sg(U,!0),U.tail===null&&U.tailMode==="hidden"&&!W.alternate&&!Hn)return Di(h),null}else 2*ut()-U.renderingStartTime>Oh&&_!==1073741824&&(h.flags|=128,T=!0,Sg(U,!1),h.lanes=4194304);U.isBackwards?(W.sibling=h.child,h.child=W):(_=U.last,_!==null?_.sibling=W:h.child=W,U.last=W)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=ut(),h.sibling=null,_=Wn.current,Nn(Wn,T?_&1|2:_&1),h):(Di(h),null);case 22:case 23:return y1(),T=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==T&&(h.flags|=8192),T&&(h.mode&1)!==0?(Hs&1073741824)!==0&&(Di(h),h.subtreeFlags&6&&(h.flags|=8192)):Di(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function QX(c,h){switch($o(h),h.tag){case 1:return ei(h.type)&&nf(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Da(),Bn(xi),Bn(Vr),co(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return Wu(h),null;case 13:if(Bn(Wn),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Ia()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return Bn(Wn),null;case 4:return Da(),null;case 10:return cf(h.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var J0=!1,ki=!1,JX=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Ch(c,h){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){yr(c,h,T)}else _.current=null}function o1(c,h,_){try{_()}catch(T){yr(c,h,T)}}var pL=!1;function eK(c,h){if(Uu=gs,c=Zn(),Cr(c)){if("selectionStart"in c)var _={start:c.selectionStart,end:c.selectionEnd};else e:{_=(_=c.ownerDocument)&&_.defaultView||window;var T=_.getSelection&&_.getSelection();if(T&&T.rangeCount!==0){_=T.anchorNode;var N=T.anchorOffset,U=T.focusNode;T=T.focusOffset;try{_.nodeType,U.nodeType}catch{_=null;break e}var W=0,oe=-1,le=-1,Te=0,We=0,Ge=c,He=null;t:for(;;){for(var ft;Ge!==_||N!==0&&Ge.nodeType!==3||(oe=W+N),Ge!==U||T!==0&&Ge.nodeType!==3||(le=W+T),Ge.nodeType===3&&(W+=Ge.nodeValue.length),(ft=Ge.firstChild)!==null;)He=Ge,Ge=ft;for(;;){if(Ge===c)break t;if(He===_&&++Te===N&&(oe=W),He===U&&++We===T&&(le=W),(ft=Ge.nextSibling)!==null)break;Ge=He,He=Ge.parentNode}Ge=ft}_=oe===-1||le===-1?null:{start:oe,end:le}}else _=null}_=_||{start:0,end:0}}else _=null;for(Qm={focusedElem:c,selectionRange:_},gs=!1,vt=h;vt!==null;)if(h=vt,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,vt=c;else for(;vt!==null;){h=vt;try{var xt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var bt=xt.memoizedProps,Tr=xt.memoizedState,ve=h.stateNode,de=ve.getSnapshotBeforeUpdate(h.elementType===h.type?bt:Ms(h.type,bt),Tr);ve.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var _e=h.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Qe){yr(h,h.return,Qe)}if(c=h.sibling,c!==null){c.return=h.return,vt=c;break}vt=h.return}return xt=pL,pL=!1,xt}function Mg(c,h,_){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var N=T=T.next;do{if((N.tag&c)===c){var U=N.destroy;N.destroy=void 0,U!==void 0&&o1(h,_,U)}N=N.next}while(N!==T)}}function ex(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&c)===c){var T=_.create;_.destroy=T()}_=_.next}while(_!==h)}}function a1(c){var h=c.ref;if(h!==null){var _=c.stateNode;c.tag,c=_,typeof h=="function"?h(c):h.current=c}}function mL(c){var h=c.alternate;h!==null&&(c.alternate=null,mL(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Er],delete h[Bu],delete h[bl],delete h[dh],delete h[hh])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function gL(c){return c.tag===5||c.tag===3||c.tag===4}function vL(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||gL(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function l1(c,h,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?_.nodeType===8?_.parentNode.insertBefore(c,h):_.insertBefore(c,h):(_.nodeType===8?(h=_.parentNode,h.insertBefore(c,_)):(h=_,h.appendChild(c)),_=_._reactRootContainer,_!=null||h.onclick!==null||(h.onclick=tf));else if(T!==4&&(c=c.child,c!==null))for(l1(c,h,_),c=c.sibling;c!==null;)l1(c,h,_),c=c.sibling}function u1(c,h,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?_.insertBefore(c,h):_.appendChild(c);else if(T!==4&&(c=c.child,c!==null))for(u1(c,h,_),c=c.sibling;c!==null;)u1(c,h,_),c=c.sibling}var Si=null,ea=!1;function qu(c,h,_){for(_=_.child;_!==null;)yL(c,h,_),_=_.sibling}function yL(c,h,_){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Gt,_)}catch{}switch(_.tag){case 5:ki||Ch(_,h);case 6:var T=Si,N=ea;Si=null,qu(c,h,_),Si=T,ea=N,Si!==null&&(ea?(c=Si,_=_.stateNode,c.nodeType===8?c.parentNode.removeChild(_):c.removeChild(_)):Si.removeChild(_.stateNode));break;case 18:Si!==null&&(ea?(c=Si,_=_.stateNode,c.nodeType===8?fh(c.parentNode,_):c.nodeType===1&&fh(c,_),Hc(c)):fh(Si,_.stateNode));break;case 4:T=Si,N=ea,Si=_.stateNode.containerInfo,ea=!0,qu(c,h,_),Si=T,ea=N;break;case 0:case 11:case 14:case 15:if(!ki&&(T=_.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){N=T=T.next;do{var U=N,W=U.destroy;U=U.tag,W!==void 0&&((U&2)!==0||(U&4)!==0)&&o1(_,h,W),N=N.next}while(N!==T)}qu(c,h,_);break;case 1:if(!ki&&(Ch(_,h),T=_.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=_.memoizedProps,T.state=_.memoizedState,T.componentWillUnmount()}catch(oe){yr(_,h,oe)}qu(c,h,_);break;case 21:qu(c,h,_);break;case 22:_.mode&1?(ki=(T=ki)||_.memoizedState!==null,qu(c,h,_),ki=T):qu(c,h,_);break;default:qu(c,h,_)}}function xL(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new JX),h.forEach(function(T){var N=uK.bind(null,c,T);_.has(T)||(_.add(T),T.then(N,N))})}}function ta(c,h){var _=h.deletions;if(_!==null)for(var T=0;T<_.length;T++){var N=_[T];try{var U=c,W=h,oe=W;e:for(;oe!==null;){switch(oe.tag){case 5:Si=oe.stateNode,ea=!1;break e;case 3:Si=oe.stateNode.containerInfo,ea=!0;break e;case 4:Si=oe.stateNode.containerInfo,ea=!0;break e}oe=oe.return}if(Si===null)throw Error(n(160));yL(U,W,N),Si=null,ea=!1;var le=N.alternate;le!==null&&(le.return=null),N.return=null}catch(Te){yr(N,h,Te)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)_L(h,c),h=h.sibling}function _L(c,h){var _=c.alternate,T=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ta(h,c),Fa(c),T&4){try{Mg(3,c,c.return),ex(3,c)}catch(bt){yr(c,c.return,bt)}try{Mg(5,c,c.return)}catch(bt){yr(c,c.return,bt)}}break;case 1:ta(h,c),Fa(c),T&512&&_!==null&&Ch(_,_.return);break;case 5:if(ta(h,c),Fa(c),T&512&&_!==null&&Ch(_,_.return),c.flags&32){var N=c.stateNode;try{$e(N,"")}catch(bt){yr(c,c.return,bt)}}if(T&4&&(N=c.stateNode,N!=null)){var U=c.memoizedProps,W=_!==null?_.memoizedProps:U,oe=c.type,le=c.updateQueue;if(c.updateQueue=null,le!==null)try{oe==="input"&&U.type==="radio"&&U.name!=null&&ke(N,U),Dn(oe,W);var Te=Dn(oe,U);for(W=0;W<le.length;W+=2){var We=le[W],Ge=le[W+1];We==="style"?ot(N,Ge):We==="dangerouslySetInnerHTML"?Bt(N,Ge):We==="children"?$e(N,Ge):S(N,We,Ge,Te)}switch(oe){case"input":Ze(N,U);break;case"textarea":Fe(N,U);break;case"select":var He=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!U.multiple;var ft=U.value;ft!=null?$(N,!!U.multiple,ft,!1):He!==!!U.multiple&&(U.defaultValue!=null?$(N,!!U.multiple,U.defaultValue,!0):$(N,!!U.multiple,U.multiple?[]:"",!1))}N[Bu]=U}catch(bt){yr(c,c.return,bt)}}break;case 6:if(ta(h,c),Fa(c),T&4){if(c.stateNode===null)throw Error(n(162));N=c.stateNode,U=c.memoizedProps;try{N.nodeValue=U}catch(bt){yr(c,c.return,bt)}}break;case 3:if(ta(h,c),Fa(c),T&4&&_!==null&&_.memoizedState.isDehydrated)try{Hc(h.containerInfo)}catch(bt){yr(c,c.return,bt)}break;case 4:ta(h,c),Fa(c);break;case 13:ta(h,c),Fa(c),N=c.child,N.flags&8192&&(U=N.memoizedState!==null,N.stateNode.isHidden=U,!U||N.alternate!==null&&N.alternate.memoizedState!==null||(d1=ut())),T&4&&xL(c);break;case 22:if(We=_!==null&&_.memoizedState!==null,c.mode&1?(ki=(Te=ki)||We,ta(h,c),ki=Te):ta(h,c),Fa(c),T&8192){if(Te=c.memoizedState!==null,(c.stateNode.isHidden=Te)&&!We&&(c.mode&1)!==0)for(vt=c,We=c.child;We!==null;){for(Ge=vt=We;vt!==null;){switch(He=vt,ft=He.child,He.tag){case 0:case 11:case 14:case 15:Mg(4,He,He.return);break;case 1:Ch(He,He.return);var xt=He.stateNode;if(typeof xt.componentWillUnmount=="function"){T=He,_=He.return;try{h=T,xt.props=h.memoizedProps,xt.state=h.memoizedState,xt.componentWillUnmount()}catch(bt){yr(T,_,bt)}}break;case 5:Ch(He,He.return);break;case 22:if(He.memoizedState!==null){SL(Ge);continue}}ft!==null?(ft.return=He,vt=ft):SL(Ge)}We=We.sibling}e:for(We=null,Ge=c;;){if(Ge.tag===5){if(We===null){We=Ge;try{N=Ge.stateNode,Te?(U=N.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(oe=Ge.stateNode,le=Ge.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null,oe.style.display=It("display",W))}catch(bt){yr(c,c.return,bt)}}}else if(Ge.tag===6){if(We===null)try{Ge.stateNode.nodeValue=Te?"":Ge.memoizedProps}catch(bt){yr(c,c.return,bt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===c)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===c)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===c)break e;We===Ge&&(We=null),Ge=Ge.return}We===Ge&&(We=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:ta(h,c),Fa(c),T&4&&xL(c);break;case 21:break;default:ta(h,c),Fa(c)}}function Fa(c){var h=c.flags;if(h&2){try{e:{for(var _=c.return;_!==null;){if(gL(_)){var T=_;break e}_=_.return}throw Error(n(160))}switch(T.tag){case 5:var N=T.stateNode;T.flags&32&&($e(N,""),T.flags&=-33);var U=vL(c);u1(c,U,N);break;case 3:case 4:var W=T.stateNode.containerInfo,oe=vL(c);l1(c,oe,W);break;default:throw Error(n(161))}}catch(le){yr(c,c.return,le)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function tK(c,h,_){vt=c,bL(c)}function bL(c,h,_){for(var T=(c.mode&1)!==0;vt!==null;){var N=vt,U=N.child;if(N.tag===22&&T){var W=N.memoizedState!==null||J0;if(!W){var oe=N.alternate,le=oe!==null&&oe.memoizedState!==null||ki;oe=J0;var Te=ki;if(J0=W,(ki=le)&&!Te)for(vt=N;vt!==null;)W=vt,le=W.child,W.tag===22&&W.memoizedState!==null?ML(N):le!==null?(le.return=W,vt=le):ML(N);for(;U!==null;)vt=U,bL(U),U=U.sibling;vt=N,J0=oe,ki=Te}wL(c)}else(N.subtreeFlags&8772)!==0&&U!==null?(U.return=N,vt=U):wL(c)}}function wL(c){for(;vt!==null;){var h=vt;if((h.flags&8772)!==0){var _=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:ki||ex(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!ki)if(_===null)T.componentDidMount();else{var N=h.elementType===h.type?_.memoizedProps:Ms(h.type,_.memoizedProps);T.componentDidUpdate(N,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&Hu(h,U,T);break;case 3:var W=h.updateQueue;if(W!==null){if(_=null,h.child!==null)switch(h.child.tag){case 5:_=h.child.stateNode;break;case 1:_=h.child.stateNode}Hu(h,W,_)}break;case 5:var oe=h.stateNode;if(_===null&&h.flags&4){_=oe;var le=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&_.focus();break;case"img":le.src&&(_.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Te=h.alternate;if(Te!==null){var We=Te.memoizedState;if(We!==null){var Ge=We.dehydrated;Ge!==null&&Hc(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ki||h.flags&512&&a1(h)}catch(He){yr(h,h.return,He)}}if(h===c){vt=null;break}if(_=h.sibling,_!==null){_.return=h.return,vt=_;break}vt=h.return}}function SL(c){for(;vt!==null;){var h=vt;if(h===c){vt=null;break}var _=h.sibling;if(_!==null){_.return=h.return,vt=_;break}vt=h.return}}function ML(c){for(;vt!==null;){var h=vt;try{switch(h.tag){case 0:case 11:case 15:var _=h.return;try{ex(4,h)}catch(le){yr(h,_,le)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var N=h.return;try{T.componentDidMount()}catch(le){yr(h,N,le)}}var U=h.return;try{a1(h)}catch(le){yr(h,U,le)}break;case 5:var W=h.return;try{a1(h)}catch(le){yr(h,W,le)}}}catch(le){yr(h,h.return,le)}if(h===c){vt=null;break}var oe=h.sibling;if(oe!==null){oe.return=h.return,vt=oe;break}vt=h.return}}var nK=Math.ceil,tx=A.ReactCurrentDispatcher,c1=A.ReactCurrentOwner,ho=A.ReactCurrentBatchConfig,vn=0,ri=null,Lr=null,Mi=0,Hs=0,Rh=rr(0),qr=0,Eg=null,bf=0,nx=0,f1=0,Tg=null,Es=null,d1=0,Oh=1/0,Fl=null,rx=!1,h1=null,Xu=null,ix=!1,Ku=null,sx=0,Ag=0,p1=null,ox=-1,ax=0;function rs(){return(vn&6)!==0?ut():ox!==-1?ox:ox=ut()}function Yu(c){return(c.mode&1)===0?1:(vn&2)!==0&&Mi!==0?Mi&-Mi:n1.transition!==null?(ax===0&&(ax=mi()),ax):(c=pn,c!==0||(c=window.event,c=c===void 0?16:T0(c.type)),c)}function na(c,h,_,T){if(50<Ag)throw Ag=0,p1=null,Error(n(185));Bc(c,_,T),((vn&2)===0||c!==ri)&&(c===ri&&((vn&2)===0&&(nx|=_),qr===4&&Zu(c,Mi)),Ts(c,T),_===1&&vn===0&&(h.mode&1)===0&&(Oh=ut()+500,sf&&lo()))}function Ts(c,h){var _=c.callbackNode;Ma(c,h);var T=Io(c,c===ri?Mi:0);if(T===0)_!==null&&lt(_),c.callbackNode=null,c.callbackPriority=0;else if(h=T&-T,c.callbackPriority!==h){if(_!=null&&lt(_),h===1)c.tag===0?j0(TL.bind(null,c)):of(TL.bind(null,c)),t1(function(){(vn&6)===0&&lo()}),_=null;else{switch(Su(T)){case 1:_=Tt;break;case 4:_=an;break;case 16:_=On;break;case 536870912:_=ur;break;default:_=On}_=LL(_,EL.bind(null,c))}c.callbackPriority=h,c.callbackNode=_}}function EL(c,h){if(ox=-1,ax=0,(vn&6)!==0)throw Error(n(327));var _=c.callbackNode;if(Nh()&&c.callbackNode!==_)return null;var T=Io(c,c===ri?Mi:0);if(T===0)return null;if((T&30)!==0||(T&c.expiredLanes)!==0||h)h=lx(c,T);else{h=T;var N=vn;vn|=2;var U=PL();(ri!==c||Mi!==h)&&(Fl=null,Oh=ut()+500,Sf(c,h));do try{sK();break}catch(oe){AL(c,oe)}while(!0);Cl(),tx.current=U,vn=N,Lr!==null?h=0:(ri=null,Mi=0,h=qr)}if(h!==0){if(h===2&&(N=bu(c),N!==0&&(T=N,h=m1(c,N))),h===1)throw _=Eg,Sf(c,0),Zu(c,T),Ts(c,ut()),_;if(h===6)Zu(c,T);else{if(N=c.current.alternate,(T&30)===0&&!rK(N)&&(h=lx(c,T),h===2&&(U=bu(c),U!==0&&(T=U,h=m1(c,U))),h===1))throw _=Eg,Sf(c,0),Zu(c,T),Ts(c,ut()),_;switch(c.finishedWork=N,c.finishedLanes=T,h){case 0:case 1:throw Error(n(345));case 2:Mf(c,Es,Fl);break;case 3:if(Zu(c,T),(T&130023424)===T&&(h=d1+500-ut(),10<h)){if(Io(c,0)!==0)break;if(N=c.suspendedLanes,(N&T)!==T){rs(),c.pingedLanes|=c.suspendedLanes&N;break}c.timeoutHandle=eg(Mf.bind(null,c,Es,Fl),h);break}Mf(c,Es,Fl);break;case 4:if(Zu(c,T),(T&4194240)===T)break;for(h=c.eventTimes,N=-1;0<T;){var W=31-Ft(T);U=1<<W,W=h[W],W>N&&(N=W),T&=~U}if(T=N,T=ut()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*nK(T/1960))-T,10<T){c.timeoutHandle=eg(Mf.bind(null,c,Es,Fl),T);break}Mf(c,Es,Fl);break;case 5:Mf(c,Es,Fl);break;default:throw Error(n(329))}}}return Ts(c,ut()),c.callbackNode===_?EL.bind(null,c):null}function m1(c,h){var _=Tg;return c.current.memoizedState.isDehydrated&&(Sf(c,h).flags|=256),c=lx(c,h),c!==2&&(h=Es,Es=_,h!==null&&g1(h)),c}function g1(c){Es===null?Es=c:Es.push.apply(Es,c)}function rK(c){for(var h=c;;){if(h.flags&16384){var _=h.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var T=0;T<_.length;T++){var N=_[T],U=N.getSnapshot;N=N.value;try{if(!Ki(U(),N))return!1}catch{return!1}}}if(_=h.child,h.subtreeFlags&16384&&_!==null)_.return=h,h=_;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Zu(c,h){for(h&=~f1,h&=~nx,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var _=31-Ft(h),T=1<<_;c[_]=-1,h&=~T}}function TL(c){if((vn&6)!==0)throw Error(n(327));Nh();var h=Io(c,0);if((h&1)===0)return Ts(c,ut()),null;var _=lx(c,h);if(c.tag!==0&&_===2){var T=bu(c);T!==0&&(h=T,_=m1(c,T))}if(_===1)throw _=Eg,Sf(c,0),Zu(c,h),Ts(c,ut()),_;if(_===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Mf(c,Es,Fl),Ts(c,ut()),null}function v1(c,h){var _=vn;vn|=1;try{return c(h)}finally{vn=_,vn===0&&(Oh=ut()+500,sf&&lo())}}function wf(c){Ku!==null&&Ku.tag===0&&(vn&6)===0&&Nh();var h=vn;vn|=1;var _=ho.transition,T=pn;try{if(ho.transition=null,pn=1,c)return c()}finally{pn=T,ho.transition=_,vn=h,(vn&6)===0&&lo()}}function y1(){Hs=Rh.current,Bn(Rh)}function Sf(c,h){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==-1&&(c.timeoutHandle=-1,tg(_)),Lr!==null)for(_=Lr.return;_!==null;){var T=_;switch($o(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&nf();break;case 3:Da(),Bn(xi),Bn(Vr),co();break;case 5:Wu(T);break;case 4:Da();break;case 13:Bn(Wn);break;case 19:Bn(Wn);break;case 10:cf(T.type._context);break;case 22:case 23:y1()}_=_.return}if(ri=c,Lr=c=Qu(c.current,null),Mi=Hs=h,qr=0,Eg=null,f1=nx=bf=0,Es=Tg=null,Xo!==null){for(h=0;h<Xo.length;h++)if(_=Xo[h],T=_.interleaved,T!==null){_.interleaved=null;var N=T.next,U=_.pending;if(U!==null){var W=U.next;U.next=N,T.next=W}_.pending=T}Xo=null}return c}function AL(c,h){do{var _=Lr;try{if(Cl(),Il.current=Ah,zs){for(var T=jn.memoizedState;T!==null;){var N=T.queue;N!==null&&(N.pending=null),T=T.next}zs=!1}if(Yo=0,mn=sr=jn=null,ni=!1,ka=0,c1.current=null,_===null||_.return===null){qr=1,Eg=h,Lr=null;break}e:{var U=c,W=_.return,oe=_,le=h;if(h=Mi,oe.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Te=le,We=oe,Ge=We.tag;if((We.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var He=We.alternate;He?(We.updateQueue=He.updateQueue,We.memoizedState=He.memoizedState,We.lanes=He.lanes):(We.updateQueue=null,We.memoizedState=null)}var ft=pt(W);if(ft!==null){ft.flags&=-257,jt(ft,W,oe,U,h),ft.mode&1&&Ke(U,Te,h),h=ft,le=Te;var xt=h.updateQueue;if(xt===null){var bt=new Set;bt.add(le),h.updateQueue=bt}else xt.add(le);break e}else{if((h&1)===0){Ke(U,Te,h),x1();break e}le=Error(n(426))}}else if(Hn&&oe.mode&1){var Tr=pt(W);if(Tr!==null){(Tr.flags&65536)===0&&(Tr.flags|=256),jt(Tr,W,oe,U,h),zu(R(le,oe));break e}}U=le=R(le,oe),qr!==4&&(qr=2),Tg===null?Tg=[U]:Tg.push(U),U=W;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var ve=he(U,le,h);Rl(U,ve);break e;case 1:oe=le;var de=U.type,_e=U.stateNode;if((U.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Xu===null||!Xu.has(_e)))){U.flags|=65536,h&=-h,U.lanes|=h;var Qe=Oe(U,oe,h);Rl(U,Qe);break e}}U=U.return}while(U!==null)}RL(_)}catch(Mt){h=Mt,Lr===_&&_!==null&&(Lr=_=_.return);continue}break}while(!0)}function PL(){var c=tx.current;return tx.current=Ah,c===null?Ah:c}function x1(){(qr===0||qr===3||qr===2)&&(qr=4),ri===null||(bf&268435455)===0&&(nx&268435455)===0||Zu(ri,Mi)}function lx(c,h){var _=vn;vn|=2;var T=PL();(ri!==c||Mi!==h)&&(Fl=null,Sf(c,h));do try{iK();break}catch(N){AL(c,N)}while(!0);if(Cl(),vn=_,tx.current=T,Lr!==null)throw Error(n(261));return ri=null,Mi=0,qr}function iK(){for(;Lr!==null;)CL(Lr)}function sK(){for(;Lr!==null&&!gt();)CL(Lr)}function CL(c){var h=IL(c.alternate,c,Hs);c.memoizedProps=c.pendingProps,h===null?RL(c):Lr=h,c1.current=null}function RL(c){var h=c;do{var _=h.alternate;if(c=h.return,(h.flags&32768)===0){if(_=ZX(_,h,Hs),_!==null){Lr=_;return}}else{if(_=QX(_,h),_!==null){_.flags&=32767,Lr=_;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{qr=6,Lr=null;return}}if(h=h.sibling,h!==null){Lr=h;return}Lr=h=c}while(h!==null);qr===0&&(qr=5)}function Mf(c,h,_){var T=pn,N=ho.transition;try{ho.transition=null,pn=1,oK(c,h,_,T)}finally{ho.transition=N,pn=T}return null}function oK(c,h,_,T){do Nh();while(Ku!==null);if((vn&6)!==0)throw Error(n(327));_=c.finishedWork;var N=c.finishedLanes;if(_===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var U=_.lanes|_.childLanes;if(ZS(c,U),c===ri&&(Lr=ri=null,Mi=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||ix||(ix=!0,LL(On,function(){return Nh(),null})),U=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||U){U=ho.transition,ho.transition=null;var W=pn;pn=1;var oe=vn;vn|=4,c1.current=null,eK(c,_),_L(_,c),Rr(Qm),gs=!!Uu,Qm=Uu=null,c.current=_,tK(_),_t(),vn=oe,pn=W,ho.transition=U}else c.current=_;if(ix&&(ix=!1,Ku=c,sx=N),U=c.pendingLanes,U===0&&(Xu=null),Vt(_.stateNode),Ts(c,ut()),h!==null)for(T=c.onRecoverableError,_=0;_<h.length;_++)N=h[_],T(N.value,{componentStack:N.stack,digest:N.digest});if(rx)throw rx=!1,c=h1,h1=null,c;return(sx&1)!==0&&c.tag!==0&&Nh(),U=c.pendingLanes,(U&1)!==0?c===p1?Ag++:(Ag=0,p1=c):Ag=0,lo(),null}function Nh(){if(Ku!==null){var c=Su(sx),h=ho.transition,_=pn;try{if(ho.transition=null,pn=16>c?16:c,Ku===null)var T=!1;else{if(c=Ku,Ku=null,sx=0,(vn&6)!==0)throw Error(n(331));var N=vn;for(vn|=4,vt=c.current;vt!==null;){var U=vt,W=U.child;if((vt.flags&16)!==0){var oe=U.deletions;if(oe!==null){for(var le=0;le<oe.length;le++){var Te=oe[le];for(vt=Te;vt!==null;){var We=vt;switch(We.tag){case 0:case 11:case 15:Mg(8,We,U)}var Ge=We.child;if(Ge!==null)Ge.return=We,vt=Ge;else for(;vt!==null;){We=vt;var He=We.sibling,ft=We.return;if(mL(We),We===Te){vt=null;break}if(He!==null){He.return=ft,vt=He;break}vt=ft}}}var xt=U.alternate;if(xt!==null){var bt=xt.child;if(bt!==null){xt.child=null;do{var Tr=bt.sibling;bt.sibling=null,bt=Tr}while(bt!==null)}}vt=U}}if((U.subtreeFlags&2064)!==0&&W!==null)W.return=U,vt=W;else e:for(;vt!==null;){if(U=vt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Mg(9,U,U.return)}var ve=U.sibling;if(ve!==null){ve.return=U.return,vt=ve;break e}vt=U.return}}var de=c.current;for(vt=de;vt!==null;){W=vt;var _e=W.child;if((W.subtreeFlags&2064)!==0&&_e!==null)_e.return=W,vt=_e;else e:for(W=de;vt!==null;){if(oe=vt,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:ex(9,oe)}}catch(Mt){yr(oe,oe.return,Mt)}if(oe===W){vt=null;break e}var Qe=oe.sibling;if(Qe!==null){Qe.return=oe.return,vt=Qe;break e}vt=oe.return}}if(vn=N,lo(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Gt,c)}catch{}T=!0}return T}finally{pn=_,ho.transition=h}}return!1}function OL(c,h,_){h=R(_,h),h=he(c,h,1),c=qn(c,h,1),h=rs(),c!==null&&(Bc(c,1,h),Ts(c,h))}function yr(c,h,_){if(c.tag===3)OL(c,c,_);else for(;h!==null;){if(h.tag===3){OL(h,c,_);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Xu===null||!Xu.has(T))){c=R(_,c),c=Oe(h,c,1),h=qn(h,c,1),c=rs(),h!==null&&(Bc(h,1,c),Ts(h,c));break}}h=h.return}}function aK(c,h,_){var T=c.pingCache;T!==null&&T.delete(h),h=rs(),c.pingedLanes|=c.suspendedLanes&_,ri===c&&(Mi&_)===_&&(qr===4||qr===3&&(Mi&130023424)===Mi&&500>ut()-d1?Sf(c,0):f1|=_),Ts(c,h)}function NL(c,h){h===0&&((c.mode&1)===0?h=1:(h=rn,rn<<=1,(rn&130023424)===0&&(rn=4194304)));var _=rs();c=Bs(c,h),c!==null&&(Bc(c,h,_),Ts(c,_))}function lK(c){var h=c.memoizedState,_=0;h!==null&&(_=h.retryLane),NL(c,_)}function uK(c,h){var _=0;switch(c.tag){case 13:var T=c.stateNode,N=c.memoizedState;N!==null&&(_=N.retryLane);break;case 19:T=c.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(h),NL(c,_)}var IL;IL=function(c,h,_){if(c!==null)if(c.memoizedProps!==h.pendingProps||xi.current)qt=!0;else{if((c.lanes&_)===0&&(h.flags&128)===0)return qt=!1,YX(c,h,_);qt=(c.flags&131072)!==0}else qt=!1,Hn&&(h.flags&1048576)!==0&&og(h,vh,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;Q0(c,h),c=h.pendingProps;var N=wl(h,Vr.current);La(h,_),N=mf(null,h,T,c,N,_);var U=pg();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ei(T)?(U=!0,Sl(h)):U=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,$t(h),N.updater=Ph,h.stateNode=N,N._reactInternals=h,E(h,T,c,_),h=Ht(null,h,T,!0,U,_)):(h.tag=0,Hn&&U&&ag(h),ct(null,h,N,_),h=h.child),h;case 16:T=h.elementType;e:{switch(Q0(c,h),c=h.pendingProps,N=T._init,T=N(T._payload),h.type=T,N=h.tag=fK(T),c=Ms(T,c),N){case 0:h=it(null,h,T,c,_);break e;case 1:h=wt(null,h,T,c,_);break e;case 11:h=$r(null,h,T,c,_);break e;case 14:h=ns(null,h,T,Ms(T.type,c),_);break e}throw Error(n(306,T,""))}return h;case 0:return T=h.type,N=h.pendingProps,N=h.elementType===T?N:Ms(T,N),it(c,h,T,N,_);case 1:return T=h.type,N=h.pendingProps,N=h.elementType===T?N:Ms(T,N),wt(c,h,T,N,_);case 3:e:{if(zt(h),c===null)throw Error(n(387));T=h.pendingProps,U=h.memoizedState,N=U.element,fr(c,h),ir(h,T,null,_);var W=h.memoizedState;if(T=W.element,U.isDehydrated)if(U={element:T,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){N=R(Error(n(423)),h),h=fn(c,h,T,_,N);break e}else if(T!==N){N=R(Error(n(424)),h),h=fn(c,h,T,_,N);break e}else for(bi=zo(h.stateNode.containerInfo.firstChild),Hr=h,Hn=!0,Ss=null,_=uf(h,null,T,_),h.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ia(),T===N){h=kl(c,h,_);break e}ct(c,h,T,_)}h=h.child}return h;case 5:return Nl(h),c===null&&xh(h),T=h.type,N=h.pendingProps,U=c!==null?c.memoizedProps:null,W=N.children,Jm(T,N)?W=null:U!==null&&Jm(T,U)&&(h.flags|=32),Pe(c,h),ct(c,h,W,_),h.child;case 6:return c===null&&xh(h),null;case 13:return Jo(c,h,_);case 4:return hf(h,h.stateNode.containerInfo),T=h.pendingProps,c===null?h.child=Tl(h,null,T,_):ct(c,h,T,_),h.child;case 11:return T=h.type,N=h.pendingProps,N=h.elementType===T?N:Ms(T,N),$r(c,h,T,N,_);case 7:return ct(c,h,h.pendingProps,_),h.child;case 8:return ct(c,h,h.pendingProps.children,_),h.child;case 12:return ct(c,h,h.pendingProps.children,_),h.child;case 10:e:{if(T=h.type._context,N=h.pendingProps,U=h.memoizedProps,W=N.value,Nn(Al,T._currentValue),T._currentValue=W,U!==null)if(Ki(U.value,W)){if(U.children===N.children&&!xi.current){h=kl(c,h,_);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var oe=U.dependencies;if(oe!==null){W=U.child;for(var le=oe.firstContext;le!==null;){if(le.context===T){if(U.tag===1){le=Pn(-1,_&-_),le.tag=2;var Te=U.updateQueue;if(Te!==null){Te=Te.shared;var We=Te.pending;We===null?le.next=le:(le.next=We.next,We.next=le),Te.pending=le}}U.lanes|=_,le=U.alternate,le!==null&&(le.lanes|=_),ff(U.return,_,h),oe.lanes|=_;break}le=le.next}}else if(U.tag===10)W=U.type===h.type?null:U.child;else if(U.tag===18){if(W=U.return,W===null)throw Error(n(341));W.lanes|=_,oe=W.alternate,oe!==null&&(oe.lanes|=_),ff(W,_,h),W=U.sibling}else W=U.child;if(W!==null)W.return=U;else for(W=U;W!==null;){if(W===h){W=null;break}if(U=W.sibling,U!==null){U.return=W.return,W=U;break}W=W.return}U=W}ct(c,h,N.children,_),h=h.child}return h;case 9:return N=h.type,T=h.pendingProps.children,La(h,_),N=Qi(N),T=T(N),h.flags|=1,ct(c,h,T,_),h.child;case 14:return T=h.type,N=Ms(T,h.pendingProps),N=Ms(T.type,N),ns(c,h,T,N,_);case 15:return we(c,h,h.type,h.pendingProps,_);case 17:return T=h.type,N=h.pendingProps,N=h.elementType===T?N:Ms(T,N),Q0(c,h),h.tag=1,ei(T)?(c=!0,Sl(h)):c=!1,La(h,_),m(h,T,N),E(h,T,N,_),Ht(null,h,T,!0,c,_);case 19:return cL(c,h,_);case 22:return me(c,h,_)}throw Error(n(156,h.tag))};function LL(c,h){return Je(c,h)}function cK(c,h,_,T){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(c,h,_,T){return new cK(c,h,_,T)}function _1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function fK(c){if(typeof c=="function")return _1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===H)return 11;if(c===J)return 14}return 2}function Qu(c,h){var _=c.alternate;return _===null?(_=po(c.tag,h,c.key,c.mode),_.elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=h,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=c.flags&14680064,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,h=c.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function ux(c,h,_,T,N,U){var W=2;if(T=c,typeof c=="function")_1(c)&&(W=1);else if(typeof c=="string")W=5;else e:switch(c){case I:return Ef(_.children,N,U,h);case k:W=8,N|=8;break;case L:return c=po(12,_,h,N|2),c.elementType=L,c.lanes=U,c;case q:return c=po(13,_,h,N),c.elementType=q,c.lanes=U,c;case X:return c=po(19,_,h,N),c.elementType=X,c.lanes=U,c;case ee:return cx(_,N,U,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case F:W=10;break e;case j:W=9;break e;case H:W=11;break e;case J:W=14;break e;case Z:W=16,T=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return h=po(W,_,h,N),h.elementType=c,h.type=T,h.lanes=U,h}function Ef(c,h,_,T){return c=po(7,c,T,h),c.lanes=_,c}function cx(c,h,_,T){return c=po(22,c,T,h),c.elementType=ee,c.lanes=_,c.stateNode={isHidden:!1},c}function b1(c,h,_){return c=po(6,c,null,h),c.lanes=_,c}function w1(c,h,_){return h=po(4,c.children!==null?c.children:[],c.key,h),h.lanes=_,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function dK(c,h,_,T,N){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=T,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function S1(c,h,_,T,N,U,W,oe,le){return c=new dK(c,h,_,oe,le),h===1?(h=1,U===!0&&(h|=8)):h=0,U=po(3,null,null,h),c.current=U,U.stateNode=c,U.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},$t(U),c}function hK(c,h,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:T==null?null:""+T,children:c,containerInfo:h,implementation:_}}function DL(c){if(!c)return Ho;c=c._reactInternals;e:{if(No(c)!==c||c.tag!==1)throw Error(n(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ei(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(c.tag===1){var _=c.type;if(ei(_))return rf(c,_,h)}return h}function kL(c,h,_,T,N,U,W,oe,le){return c=S1(_,T,!0,c,N,U,W,oe,le),c.context=DL(null),_=c.current,T=rs(),N=Yu(_),U=Pn(T,N),U.callback=h??null,qn(_,U,N),c.current.lanes=N,Bc(c,N,T),Ts(c,T),c}function fx(c,h,_,T){var N=h.current,U=rs(),W=Yu(N);return _=DL(_),h.context===null?h.context=_:h.pendingContext=_,h=Pn(U,W),h.payload={element:c},T=T===void 0?null:T,T!==null&&(h.callback=T),c=qn(N,h,W),c!==null&&(na(c,N,W,U),ti(c,N,W)),W}function dx(c){return c=c.current,c.child?(c.child.tag===5,c.child.stateNode):null}function FL(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<h?_:h}}function M1(c,h){FL(c,h),(c=c.alternate)&&FL(c,h)}function pK(){return null}var UL=typeof reportError=="function"?reportError:function(c){console.error(c)};function E1(c){this._internalRoot=c}hx.prototype.render=E1.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));fx(c,h,null,null)},hx.prototype.unmount=E1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;wf(function(){fx(null,c,null,null)}),h[Zi]=null}};function hx(c){this._internalRoot=c}hx.prototype.unstable_scheduleHydration=function(c){if(c){var h=kd();c={blockedOn:null,target:c,priority:h};for(var _=0;_<Ea.length&&h!==0&&h<Ea[_].priority;_++);Ea.splice(_,0,c),_===0&&Bd(c)}};function T1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function px(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function BL(){}function mK(c,h,_,T,N){if(N){if(typeof T=="function"){var U=T;T=function(){var Te=dx(W);U.call(Te)}}var W=kL(h,T,c,0,null,!1,!1,"",BL);return c._reactRootContainer=W,c[Zi]=W.current,ku(c.nodeType===8?c.parentNode:c),wf(),W}for(;N=c.lastChild;)c.removeChild(N);if(typeof T=="function"){var oe=T;T=function(){var Te=dx(le);oe.call(Te)}}var le=S1(c,0,!1,null,null,!1,!1,"",BL);return c._reactRootContainer=le,c[Zi]=le.current,ku(c.nodeType===8?c.parentNode:c),wf(function(){fx(h,le,_,T)}),le}function mx(c,h,_,T,N){var U=_._reactRootContainer;if(U){var W=U;if(typeof N=="function"){var oe=N;N=function(){var le=dx(W);oe.call(le)}}fx(h,W,c,N)}else W=mK(_,h,c,N,T);return dx(W)}jc=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var _=jr(h.pendingLanes);_!==0&&(wu(h,_|1),Ts(h,ut()),(vn&6)===0&&(Oh=ut()+500,lo()))}break;case 13:wf(function(){var T=Bs(c,1);if(T!==null){var N=rs();na(T,c,1,N)}}),M1(c,1)}},Dm=function(c){if(c.tag===13){var h=Bs(c,134217728);if(h!==null){var _=rs();na(h,c,134217728,_)}M1(c,134217728)}},E0=function(c){if(c.tag===13){var h=Yu(c),_=Bs(c,h);if(_!==null){var T=rs();na(_,c,h,T)}M1(c,h)}},kd=function(){return pn},Fd=function(c,h){var _=pn;try{return pn=c,h()}finally{pn=_}},Le=function(c,h,_){switch(h){case"input":if(Ze(c,_),h=_.name,_.type==="radio"&&h!=null){for(_=c;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<_.length;h++){var T=_[h];if(T!==c&&T.form===c.form){var N=ph(T);if(!N)throw Error(n(90));ae(T),Ze(T,N)}}}break;case"textarea":Fe(c,_);break;case"select":h=_.value,h!=null&&$(c,!!_.multiple,h,!1)}},lr=v1,hn=wf;var gK={usingClientEntryPoint:!1,Events:[Vo,cr,ph,on,Vn,v1]},Pg={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vK={bundleType:Pg.bundleType,version:Pg.version,rendererPackageName:Pg.rendererPackageName,rendererConfig:Pg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ee(c),c===null?null:c.stateNode},findFiberByHostInstance:Pg.findFiberByHostInstance||pK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gx.isDisabled&&gx.supportsFiber)try{Gt=gx.inject(vK),Ye=gx}catch{}}return As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gK,As.createPortal=function(c,h){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T1(h))throw Error(n(200));return hK(c,h,null,_)},As.createRoot=function(c,h){if(!T1(c))throw Error(n(299));var _=!1,T="",N=UL;return h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=S1(c,1,!1,null,null,_,!1,T,N),c[Zi]=h.current,ku(c.nodeType===8?c.parentNode:c),new E1(h)},As.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Ee(h),c=c===null?null:c.stateNode,c},As.flushSync=function(c){return wf(c)},As.hydrate=function(c,h,_){if(!px(h))throw Error(n(200));return mx(null,c,h,!0,_)},As.hydrateRoot=function(c,h,_){if(!T1(c))throw Error(n(405));var T=_!=null&&_.hydratedSources||null,N=!1,U="",W=UL;if(_!=null&&(_.unstable_strictMode===!0&&(N=!0),_.identifierPrefix!==void 0&&(U=_.identifierPrefix),_.onRecoverableError!==void 0&&(W=_.onRecoverableError)),h=kL(h,null,c,1,_??null,N,!1,U,W),c[Zi]=h.current,ku(c),T)for(c=0;c<T.length;c++)_=T[c],N=_._getVersion,N=N(_._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[_,N]:h.mutableSourceEagerHydrationData.push(_,N);return new hx(h)},As.render=function(c,h,_){if(!px(h))throw Error(n(200));return mx(null,c,h,!1,_)},As.unmountComponentAtNode=function(c){if(!px(c))throw Error(n(40));return c._reactRootContainer?(wf(function(){mx(null,null,c,!1,function(){c._reactRootContainer=null,c[Zi]=null})}),!0):!1},As.unstable_batchedUpdates=v1,As.unstable_renderSubtreeIntoContainer=function(c,h,_,T){if(!px(_))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return mx(c,h,_,!1,T)},As.version="18.3.1-next-f1338f8080-20240426",As}var qL;function jV(){if(qL)return C1.exports;qL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C1.exports=EK(),C1.exports}var XL;function TK(){if(XL)return yx;XL=1;var t=jV();return yx.createRoot=t.createRoot,yx.hydrateRoot=t.hydrateRoot,yx}var AK=TK();function PK(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var B=Wy();const fe=Tn(B),zV=xK({__proto__:null,default:fe},[B]);var N1={exports:{}},I1={};var KL;function CK(){if(KL)return I1;KL=1;var t=Wy();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,p){var v=p(),x=r({inst:{value:v,getSnapshot:p}}),b=x[0].inst,y=x[1];return s(function(){b.value=v,b.getSnapshot=p,l(b)&&y({inst:b})},[d,v,p]),i(function(){return l(b)&&y({inst:b}),d(function(){l(b)&&y({inst:b})})},[d]),o(v),v}function l(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!n(d,v)}catch{return!0}}function u(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return I1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,I1}var YL;function RK(){return YL||(YL=1,N1.exports=CK()),N1.exports}var OK=RK();const NK=zV.useInsertionEffect,IK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LK=IK?B.useLayoutEffect:B.useEffect,DK=NK||LK,VV=t=>{const e=B.useRef([t,(...n)=>e[0](...n)]).current;return DK(()=>{e[0]=t}),e[1]},kK="popstate",uO="pushState",cO="replaceState",FK="hashchange",ZL=[kK,uO,cO,FK],UK=t=>{for(const e of ZL)addEventListener(e,t);return()=>{for(const e of ZL)removeEventListener(e,t)}},HV=(t,e)=>OK.useSyncExternalStore(UK,t,e),BK=()=>location.search,jK=({ssrSearch:t=""}={})=>HV(BK,()=>t),QL=()=>location.pathname,zK=({ssrPath:t}={})=>HV(QL,t?()=>t:QL),VK=(t,{replace:e=!1,state:n=null}={})=>history[e?cO:uO](n,"",t),HK=(t={})=>[zK(t),VK],JL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[JL]>"u"){for(const t of[uO,cO]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,JL,{value:!0})}const WK=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",WV=(t="")=>t==="/"?"":t,GK=(t,e)=>t[0]==="~"?t.slice(1):WV(e)+t,$K=(t="",e)=>WK(eD(WV(t)),eD(e)),eD=t=>{try{return decodeURI(t)}catch{return t}},GV={hook:HK,searchHook:jK,parser:PK,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},$V=B.createContext(GV),Gy=()=>B.useContext($V),qV={},XV=B.createContext(qV),qK=()=>B.useContext(XV),yw=t=>{const[e,n]=t.hook(t);return[$K(t.base,e),VV((r,i)=>n(GK(r,t.base),i))]},KV=()=>yw(Gy()),YV=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((d,p)=>[d,l[p]])):o.groups;let f={...l};return u&&Object.assign(f,u),f})(),...r?[a]:[]]:[!1,null]},XK=({children:t,...e})=>{const n=Gy(),r=e.hook?GV:n;let i=r;const[s,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let a=B.useRef({}),l=a.current,u=l;for(let f in r){const d=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===u&&d!==u[f]&&(a.current=u={...u}),u[f]=d,d!==r[f]&&(i=u)}return B.createElement($V.Provider,{value:i,children:t})},tD=({children:t,component:e},n)=>e?B.createElement(e,{params:n}):typeof t=="function"?t(n):t,KK=t=>{let e=B.useRef(qV),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},L1=({path:t,nest:e,match:n,...r})=>{const i=Gy(),[s]=yw(i),[o,a,l]=n??YV(i.parser,t,s,e),u=KK({...qK(),...a});if(!o)return null;const f=l?B.createElement(XK,{base:l},tD(r,u)):tD(r,u);return B.createElement(XV.Provider,{value:u,children:f})};B.forwardRef((t,e)=>{const n=Gy(),[r,i]=yw(n),{to:s="",href:o=s,onClick:a,asChild:l,children:u,className:f,replace:d,state:p,...v}=t,x=VV(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a?.(y),y.defaultPrevented||(y.preventDefault(),i(o,t)))}),b=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&B.isValidElement(u)?B.cloneElement(u,{onClick:x,href:b}):B.createElement("a",{...v,onClick:x,href:b,className:f?.call?f(r===o):f,children:u,ref:e})});const ZV=t=>Array.isArray(t)?t.flatMap(e=>ZV(e&&e.type===B.Fragment?e.props.children:e)):[t],YK=({children:t,location:e})=>{const n=Gy(),[r]=yw(n);for(const i of ZV(t)){let s=0;if(B.isValidElement(i)&&(s=YV(n.parser,i.props.path,e||r,i.props.nest))[0])return B.cloneElement(i,{match:s})}return null};var pm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pd=typeof window>"u"||"Deno"in globalThis;function So(){}function ZK(t,e){return typeof t=="function"?t(e):t}function hC(t){return typeof t=="number"&&t>=0&&t!==1/0}function QV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sp(t,e){return typeof t=="function"?t(e):t}function ca(t,e){return typeof t=="function"?t(e):t}function nD(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==fO(o,e.options))return!1}else if(!Ov(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function rD(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(md(e.options.mutationKey)!==md(s))return!1}else if(!Ov(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fO(t,e){return(e?.queryKeyHashFn||md)(t)}function md(t){return JSON.stringify(t,(e,n)=>pC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ov(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ov(t[n],e[n])):!1}function JV(t,e){if(t===e)return t;const n=iD(t)&&iD(e);if(n||pC(t)&&pC(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const f=n?u:s[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=JV(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Q_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function iD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pC(t){if(!sD(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sD(t){return Object.prototype.toString.call(t)==="[object Object]"}function QK(t){return new Promise(e=>{setTimeout(e,t)})}function mC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JV(t,e):e}function JK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function eY(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dO=Symbol();function eH(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===dO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tY=class extends pm{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!pd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},hO=new tY,nY=class extends pm{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!pd&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},J_=new nY;function gC(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function rY(t){return Math.min(1e3*2**t,3e4)}function tH(t){return(t??"online")==="online"?J_.isOnline():!0}var nH=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function D1(t){return t instanceof nH}function rH(t){let e=!1,n=0,r=!1,i;const s=gC(),o=b=>{r||(p(new nH(b)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},u=()=>hO.isFocused()&&(t.networkMode==="always"||J_.isOnline())&&t.canRun(),f=()=>tH(t.networkMode)&&t.canRun(),d=b=>{r||(r=!0,t.onSuccess?.(b),i?.(),s.resolve(b))},p=b=>{r||(r=!0,t.onError?.(b),i?.(),s.reject(b))},v=()=>new Promise(b=>{i=y=>{(r||u())&&b(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),x=()=>{if(r)return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(d).catch(w=>{if(r)return;const M=t.retry??(pd?0:3),S=t.retryDelay??rY,A=typeof S=="function"?S(n,w):S,P=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,w);if(e||!P){p(w);return}n++,t.onFail?.(n,w),QK(A).then(()=>u()?void 0:v()).then(()=>{e?p(w):x()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?x():v().then(x),s)}}function iY(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Kr=iY(),iH=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hC(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(pd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},sY=class extends iH{#e;#t;#r;#n;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=oY(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=mC(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(So).catch(So):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ca(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!QV(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const a=eH(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return r(l),this.#s=!1,this.options.persister?this.options.persister(a,l,this):a(l)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const o=a=>{D1(a)&&a.silent||this.#i({type:"error",error:a}),D1(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#n=rH({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(l){o(l);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:o,onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sH(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return D1(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Kr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function sH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function oY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var aY=class extends pm{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??fO(r,e);let s=this.get(i);return s||(s=new sY({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nD(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>nD(t,n)):e}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},lY=class extends iH{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||oH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=rH({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Kr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function oH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uY=class extends pm{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new lY({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=xx(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=xx(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(xx(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(xx(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>rD(e,n))}findAll(t={}){return this.getAll().filter(e=>rD(t,e))}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kr.batch(()=>Promise.all(t.map(e=>e.continue().catch(So))))}};function xx(t){return t.options.scope?.id??String(t.mutationId)}function oD(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let f=!1;const d=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},p=eH(e.options,e.fetchOptions),v=async(x,b,y)=>{if(f)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const w={queryKey:e.queryKey,pageParam:b,direction:y?"backward":"forward",meta:e.options.meta};d(w);const M=await p(w),{maxPages:S}=e.options,A=y?eY:JK;return{pages:A(x.pages,M,S),pageParams:A(x.pageParams,b,S)}};if(i&&s.length){const x=i==="backward",b=x?cY:aD,y={pages:s,pageParams:o},w=b(r,y);a=await v(y,w,x)}else{const x=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:aD(r,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function aD(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cY(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var fY=class{#e;#t;#r;#n;#o;#s;#i;#a;constructor(t={}){this.#e=t.queryCache||new aY,this.#t=t.mutationCache||new uY,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=hO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=J_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Sp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=ZK(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Kr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Kr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Kr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(So).catch(So)}invalidateQueries(t={},e={}){return Kr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=Kr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(So)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(So)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Sp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(So).catch(So)}fetchInfiniteQuery(t){return t.behavior=oD(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(So).catch(So)}ensureInfiniteQueryData(t){return t.behavior=oD(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return J_.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(md(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{Ov(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(md(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Ov(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===dO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},dY=class extends pm{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#i=gC(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#s;#i;#a;#m;#d;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),lD(this.#t,this.options)?this.#f():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vC(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vC(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ca(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!Q_(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&uD(this.#t,r,this.options,n)&&this.#f(),this.updateResult(e),i&&(this.#t!==r||ca(this.options.enabled,this.#t)!==ca(n.enabled,this.#t)||Sp(this.options.staleTime,this.#t)!==Sp(n.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==r||ca(this.options.enabled,this.#t)!==ca(n.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return pY(this,n)&&(this.#n=n,this.#s=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#f(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(So)),e}#g(){this.#_();const t=Sp(this.options.staleTime,this.#t);if(pd||this.#n.isStale||!hC(t))return;const n=QV(this.#n.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#l=t,!(pd||ca(this.options.enabled,this.#t)===!1||!hC(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||hO.isFocused())&&this.#f()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#_(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,s=this.#o,o=this.#s,l=t!==n?t.state:this.#r,{state:u}=t;let f={...u},d=!1,p;if(e._optimisticResults){const I=this.hasListeners(),k=!I&&lD(t,e),L=I&&uD(t,n,e,r);(k||L)&&(f={...f,...sH(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:b}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#m)p=this.#d;else try{this.#m=e.select,p=e.select(f.data),p=mC(i?.data,p,e),this.#d=p,this.#a=null}catch(I){this.#a=I}else p=f.data;if(e.placeholderData!==void 0&&p===void 0&&b==="pending"){let I;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)I=i.data;else if(I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&I!==void 0)try{I=e.select(I),this.#a=null}catch(k){this.#a=k}I!==void 0&&(b="success",p=mC(i?.data,I,e),d=!0)}this.#a&&(v=this.#a,p=this.#d,x=Date.now(),b="error");const y=f.fetchStatus==="fetching",w=b==="pending",M=b==="error",S=w&&y,A=p!==void 0,O={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:M,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:M&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:M&&A,isStale:pO(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const I=F=>{O.status==="error"?F.reject(O.error):O.data!==void 0&&F.resolve(O.data)},k=()=>{const F=this.#i=O.promise=gC();I(F)},L=this.#i;switch(L.status){case"pending":t.queryHash===n.queryHash&&I(L);break;case"fulfilled":(O.status==="error"||O.data!==L.value)&&k();break;case"rejected":(O.status!=="error"||O.error!==L.reason)&&k();break}}return O}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#h=this.#t),Q_(n,e))return;this.#n=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#p.size)return!0;const a=new Set(o??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(l=>{const u=l;return this.#n[u]!==e[u]&&a.has(u)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Kr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function hY(t,e){return ca(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lD(t,e){return hY(t,e)||t.state.data!==void 0&&vC(t,e,e.refetchOnMount)}function vC(t,e,n){if(ca(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&pO(t,e)}return!1}function uD(t,e,n,r){return(t!==e||ca(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&pO(t,n)}function pO(t,e){return ca(e.enabled,t)!==!1&&t.isStaleByTime(Sp(e.staleTime,t))}function pY(t,e){return!Q_(t.getCurrentResult(),e)}var mY=class extends pm{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Q_(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&md(n.mutationKey)!==md(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#s()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??oH();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Kr.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},aH=B.createContext(void 0),lH=t=>{const e=B.useContext(aH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gY=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(aH.Provider,{value:t,children:e})),uH=B.createContext(!1),vY=()=>B.useContext(uH);uH.Provider;function yY(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var xY=B.createContext(yY()),_Y=()=>B.useContext(xY);function cH(t,e){return typeof t=="function"?t(...e):!!t}function yC(){}var bY=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wY=t=>{B.useEffect(()=>{t.clearReset()},[t])},SY=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&cH(n,[t.error,r]),MY=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},EY=(t,e)=>t.isLoading&&t.isFetching&&!e,TY=(t,e)=>t?.suspense&&e.isPending,cD=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function AY(t,e,n){const r=lH(),i=vY(),s=_Y(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",MY(o),bY(o,s),wY(s);const a=!r.getQueryCache().get(o.queryHash),[l]=B.useState(()=>new e(r,o)),u=l.getOptimisticResult(o);if(B.useSyncExternalStore(B.useCallback(f=>{const d=i?yC:l.subscribe(Kr.batchCalls(f));return l.updateResult(),d},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),B.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),TY(o,u))throw cD(o,l,s);if(SY({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!pd&&EY(u,i)&&(a?cD(o,l,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(yC).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?u:l.trackResult(u)}function Nv(t,e){return AY(t,dY)}function PY(t,e){const n=lH(),[r]=B.useState(()=>new mY(n,t));B.useEffect(()=>{r.setOptions(t)},[r,t]);const i=B.useSyncExternalStore(B.useCallback(o=>r.subscribe(Kr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=B.useCallback((o,a)=>{r.mutate(o,a).catch(yC)},[r]);if(i.error&&cH(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function CY(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const RY=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await CY(n),await n.json()},xC=new fY({defaultOptions:{queries:{queryFn:RY({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),OY=1,NY=1e6;let k1=0;function IY(){return k1=(k1+1)%Number.MAX_SAFE_INTEGER,k1.toString()}const F1=new Map,fD=t=>{if(F1.has(t))return;const e=setTimeout(()=>{F1.delete(t),pv({type:"REMOVE_TOAST",toastId:t})},NY);F1.set(t,e)},LY=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,OY)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fD(n):t.toasts.forEach(r=>{fD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},F_=[];let U_={toasts:[]};function pv(t){U_=LY(U_,t),F_.forEach(e=>{e(U_)})}function DY({...t}){const e=IY(),n=i=>pv({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>pv({type:"DISMISS_TOAST",toastId:e});return pv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function fH(){const[t,e]=B.useState(U_);return B.useEffect(()=>(F_.push(e),()=>{const n=F_.indexOf(e);n>-1&&F_.splice(n,1)}),[t]),{...t,toast:DY,dismiss:n=>pv({type:"DISMISS_TOAST",toastId:n})}}var xw=jV();const kY=Tn(xw);function dn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function dD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dH(...t){return e=>{let n=!1;const r=t.map(i=>{const s=dD(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():dD(t[i],null)}}}}function ci(...t){return B.useCallback(dH(...t),t)}function Td(t,e=[]){let n=[];function r(s,o){const a=B.createContext(o),l=n.length;n=[...n,o];const u=d=>{const{scope:p,children:v,...x}=d,b=p?.[t]?.[l]||a,y=B.useMemo(()=>x,Object.values(x));return C.jsx(b.Provider,{value:y,children:v})};u.displayName=s+"Provider";function f(d,p){const v=p?.[t]?.[l]||a,x=B.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(o=>B.createContext(o));return function(a){const l=a?.[t]||s;return B.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,FY(i,...e)]}function FY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function eb(t){const e=BY(t),n=B.forwardRef((r,i)=>{const{children:s,...o}=r,a=B.Children.toArray(s),l=a.find(zY);if(l){const u=l.props.children,f=a.map(d=>d===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:d);return C.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,f):null})}return C.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var UY=eb("Slot");function BY(t){const e=B.forwardRef((n,r)=>{const{children:i,...s}=n;if(B.isValidElement(i)){const o=HY(i),a=VY(s,i.props);return i.type!==B.Fragment&&(a.ref=r?dH(r,o):o),B.cloneElement(i,a)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hH=Symbol("radix.slottable");function jY(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=hH,e}function zY(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hH}function VY(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function HY(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pH(t){const e=t+"CollectionProvider",[n,r]=Td(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:y,children:w}=b,M=fe.useRef(null),S=fe.useRef(new Map).current;return C.jsx(i,{scope:y,itemMap:S,collectionRef:M,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=eb(a),u=fe.forwardRef((b,y)=>{const{scope:w,children:M}=b,S=s(a,w),A=ci(y,S.collectionRef);return C.jsx(l,{ref:A,children:M})});u.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",p=eb(f),v=fe.forwardRef((b,y)=>{const{scope:w,children:M,...S}=b,A=fe.useRef(null),P=ci(y,A),O=s(f,w);return fe.useEffect(()=>(O.itemMap.set(A,{ref:A,...S}),()=>{O.itemMap.delete(A)})),C.jsx(p,{[d]:"",ref:P,children:M})});v.displayName=f;function x(b){const y=s(t+"CollectionConsumer",b);return fe.useCallback(()=>{const M=y.collectionRef.current;if(!M)return[];const S=Array.from(M.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((O,I)=>S.indexOf(O.ref.current)-S.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var WY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nr=WY.reduce((t,e)=>{const n=eb(`Primitive.${e}`),r=B.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mH(t,e){t&&xw.flushSync(()=>t.dispatchEvent(e))}function li(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...n)=>e.current?.(...n),[])}function GY(t,e=globalThis?.document){const n=li(t);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $Y="DismissableLayer",_C="dismissableLayer.update",qY="dismissableLayer.pointerDownOutside",XY="dismissableLayer.focusOutside",hD,gH=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mO=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=B.useContext(gH),[f,d]=B.useState(null),p=f?.ownerDocument??globalThis?.document,[,v]=B.useState({}),x=ci(e,I=>d(I)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(y),M=f?b.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=M>=w,P=YY(I=>{const k=I.target,L=[...u.branches].some(F=>F.contains(k));!A||L||(i?.(I),o?.(I),I.defaultPrevented||a?.())},p),O=ZY(I=>{const k=I.target;[...u.branches].some(F=>F.contains(k))||(s?.(I),o?.(I),I.defaultPrevented||a?.())},p);return GY(I=>{M===u.layers.size-1&&(r?.(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),B.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),pD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hD)}},[f,p,n,u]),B.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),pD())},[f,u]),B.useEffect(()=>{const I=()=>v({});return document.addEventListener(_C,I),()=>document.removeEventListener(_C,I)},[]),C.jsx(nr.div,{...l,ref:x,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:dn(t.onFocusCapture,O.onFocusCapture),onBlurCapture:dn(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:dn(t.onPointerDownCapture,P.onPointerDownCapture)})});mO.displayName=$Y;var KY="DismissableLayerBranch",vH=B.forwardRef((t,e)=>{const n=B.useContext(gH),r=B.useRef(null),i=ci(e,r);return B.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(nr.div,{...t,ref:i})});vH.displayName=KY;function YY(t,e=globalThis?.document){const n=li(t),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){yH(qY,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZY(t,e=globalThis?.document){const n=li(t),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&yH(XY,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pD(){const t=new CustomEvent(_C);document.dispatchEvent(t)}function yH(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mH(i,s):i.dispatchEvent(s)}var QY=mO,JY=vH,ru=globalThis?.document?B.useLayoutEffect:()=>{},eZ="Portal",xH=B.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=B.useState(!1);ru(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?kY.createPortal(C.jsx(nr.div,{...r,ref:e}),o):null});xH.displayName=eZ;function tZ(t,e){return B.useReducer((n,r)=>e[n][r]??n,t)}var Ac=t=>{const{present:e,children:n}=t,r=nZ(e),i=typeof n=="function"?n({present:r.isPresent}):B.Children.only(n),s=ci(r.ref,rZ(i));return typeof n=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};Ac.displayName="Presence";function nZ(t){const[e,n]=B.useState(),r=B.useRef({}),i=B.useRef(t),s=B.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=_x(r.current);s.current=a==="mounted"?u:"none"},[a]),ru(()=>{const u=r.current,f=i.current;if(f!==t){const p=s.current,v=_x(u);t?l("MOUNT"):v==="none"||u?.display==="none"?l("UNMOUNT"):l(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ru(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,d=v=>{const b=_x(r.current).includes(v.animationName);if(v.target===e&&b&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=v=>{v.target===e&&(s.current=_x(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function _x(t){return t?.animationName||"none"}function rZ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _w({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=iZ({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=li(n),l=B.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else i(u)},[s,t,i,a]);return[o,l]}function iZ({defaultProp:t,onChange:e}){const n=B.useState(t),[r]=n,i=B.useRef(r),s=li(e);return B.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var sZ="VisuallyHidden",bw=B.forwardRef((t,e)=>C.jsx(nr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));bw.displayName=sZ;var oZ=bw,gO="ToastProvider",[vO,aZ,lZ]=pH("Toast"),[_H]=Td("Toast",[lZ]),[uZ,ww]=_H(gO),bH=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=B.useState(null),[u,f]=B.useState(0),d=B.useRef(!1),p=B.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gO}\`. Expected non-empty \`string\`.`),C.jsx(vO.Provider,{scope:e,children:C.jsx(uZ,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:B.useCallback(()=>f(v=>v+1),[]),onToastRemove:B.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};bH.displayName=gO;var wH="ToastViewport",cZ=["F8"],bC="toast.viewportPause",wC="toast.viewportResume",SH=B.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cZ,label:i="Notifications ({hotkey})",...s}=t,o=ww(wH,n),a=aZ(n),l=B.useRef(null),u=B.useRef(null),f=B.useRef(null),d=B.useRef(null),p=ci(e,d,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;B.useEffect(()=>{const y=w=>{r.length!==0&&r.every(S=>w[S]||w.code===S)&&d.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),B.useEffect(()=>{const y=l.current,w=d.current;if(x&&y&&w){const M=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(bC);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(wC);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!y.contains(O.relatedTarget)&&S()},P=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",M),y.addEventListener("focusout",A),y.addEventListener("pointermove",M),y.addEventListener("pointerleave",P),window.addEventListener("blur",M),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",M),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",M),y.removeEventListener("pointerleave",P),window.removeEventListener("blur",M),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const b=B.useCallback(({tabbingDirection:y})=>{const M=a().map(S=>{const A=S.ref.current,P=[A,...SZ(A)];return y==="forwards"?P:P.reverse()});return(y==="forwards"?M.reverse():M).flat()},[a]);return B.useEffect(()=>{const y=d.current;if(y){const w=M=>{const S=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!S){const P=document.activeElement,O=M.shiftKey;if(M.target===y&&O){u.current?.focus();return}const L=b({tabbingDirection:O?"backwards":"forwards"}),F=L.findIndex(j=>j===P);U1(L.slice(F+1))?M.preventDefault():O?u.current?.focus():f.current?.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,b]),C.jsxs(JY,{ref:l,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&C.jsx(SC,{ref:u,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"forwards"});U1(y)}}),C.jsx(vO.Slot,{scope:n,children:C.jsx(nr.ol,{tabIndex:-1,...s,ref:p})}),x&&C.jsx(SC,{ref:f,onFocusFromOutsideViewport:()=>{const y=b({tabbingDirection:"backwards"});U1(y)}})]})});SH.displayName=wH;var MH="ToastFocusProxy",SC=B.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=ww(MH,n);return C.jsx(bw,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!s.viewport?.contains(a)&&r()}})});SC.displayName=MH;var Sw="Toast",fZ="toast.swipeStart",dZ="toast.swipeMove",hZ="toast.swipeCancel",pZ="toast.swipeEnd",EH=B.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=_w({prop:r,defaultProp:i,onChange:s});return C.jsx(Ac,{present:n||a,children:C.jsx(vZ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:li(t.onPause),onResume:li(t.onResume),onSwipeStart:dn(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dn(t.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:dn(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dn(t.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});EH.displayName=Sw;var[mZ,gZ]=_H(Sw,{onClose(){}}),vZ=B.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:v,...x}=t,b=ww(Sw,n),[y,w]=B.useState(null),M=ci(e,X=>w(X)),S=B.useRef(null),A=B.useRef(null),P=i||b.duration,O=B.useRef(0),I=B.useRef(P),k=B.useRef(0),{onToastAdd:L,onToastRemove:F}=b,j=li(()=>{y?.contains(document.activeElement)&&b.viewport?.focus(),o()}),H=B.useCallback(X=>{!X||X===1/0||(window.clearTimeout(k.current),O.current=new Date().getTime(),k.current=window.setTimeout(j,X))},[j]);B.useEffect(()=>{const X=b.viewport;if(X){const J=()=>{H(I.current),u?.()},Z=()=>{const ee=new Date().getTime()-O.current;I.current=I.current-ee,window.clearTimeout(k.current),l?.()};return X.addEventListener(bC,Z),X.addEventListener(wC,J),()=>{X.removeEventListener(bC,Z),X.removeEventListener(wC,J)}}},[b.viewport,P,l,u,H]),B.useEffect(()=>{s&&!b.isClosePausedRef.current&&H(P)},[s,P,b.isClosePausedRef,H]),B.useEffect(()=>(L(),()=>F()),[L,F]);const q=B.useMemo(()=>y?NH(y):null,[y]);return b.viewport?C.jsxs(C.Fragment,{children:[q&&C.jsx(yZ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),C.jsx(mZ,{scope:n,onClose:j,children:xw.createPortal(C.jsx(vO.ItemSlot,{scope:n,children:C.jsx(QY,{asChild:!0,onEscapeKeyDown:dn(a,()=>{b.isFocusedToastEscapeKeyDownRef.current||j(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(nr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:M,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:dn(t.onKeyDown,X=>{X.key==="Escape"&&(a?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:dn(t.onPointerDown,X=>{X.button===0&&(S.current={x:X.clientX,y:X.clientY})}),onPointerMove:dn(t.onPointerMove,X=>{if(!S.current)return;const J=X.clientX-S.current.x,Z=X.clientY-S.current.y,ee=!!A.current,V=["left","right"].includes(b.swipeDirection),K=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Q=V?K(0,J):0,G=V?0:K(0,Z),ne=X.pointerType==="touch"?10:2,ye={x:Q,y:G},ue={originalEvent:X,delta:ye};ee?(A.current=ye,bx(dZ,d,ue,{discrete:!1})):mD(ye,b.swipeDirection,ne)?(A.current=ye,bx(fZ,f,ue,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(J)>ne||Math.abs(Z)>ne)&&(S.current=null)}),onPointerUp:dn(t.onPointerUp,X=>{const J=A.current,Z=X.target;if(Z.hasPointerCapture(X.pointerId)&&Z.releasePointerCapture(X.pointerId),A.current=null,S.current=null,J){const ee=X.currentTarget,V={originalEvent:X,delta:J};mD(J,b.swipeDirection,b.swipeThreshold)?bx(pZ,v,V,{discrete:!0}):bx(hZ,p,V,{discrete:!0}),ee.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),yZ=t=>{const{__scopeToast:e,children:n,...r}=t,i=ww(Sw,e),[s,o]=B.useState(!1),[a,l]=B.useState(!1);return bZ(()=>o(!0)),B.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:C.jsx(xH,{asChild:!0,children:C.jsx(bw,{...r,children:s&&C.jsxs(C.Fragment,{children:[i.label," ",n]})})})},xZ="ToastTitle",TH=B.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(nr.div,{...r,ref:e})});TH.displayName=xZ;var _Z="ToastDescription",AH=B.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(nr.div,{...r,ref:e})});AH.displayName=_Z;var PH="ToastAction",CH=B.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(OH,{altText:n,asChild:!0,children:C.jsx(yO,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PH}\`. Expected non-empty \`string\`.`),null)});CH.displayName=PH;var RH="ToastClose",yO=B.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=gZ(RH,n);return C.jsx(OH,{asChild:!0,children:C.jsx(nr.button,{type:"button",...r,ref:e,onClick:dn(t.onClick,i.onClose)})})});yO.displayName=RH;var OH=B.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return C.jsx(nr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function NH(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wZ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...NH(r))}}),e}function bx(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mH(i,s):i.dispatchEvent(s)}var mD=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function bZ(t=()=>{}){const e=li(t);ru(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wZ(t){return t.nodeType===t.ELEMENT_NODE}function SZ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function U1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var MZ=bH,IH=SH,LH=EH,DH=TH,kH=AH,FH=CH,UH=yO;function BH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BH(t))&&(r&&(r+=" "),r+=e);return r}const gD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vD=bn,xO=(t,e)=>n=>{var r;if(e?.variants==null)return vD(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=n?.[u],d=s?.[u];if(f===null)return null;const p=gD(f)||gD(d);return i[u][p]}),a=n&&Object.entries(n).reduce((u,f)=>{let[d,p]=f;return p===void 0||(u[d]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:p,...v}=f;return Object.entries(v).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes({...s,...a}[b]):{...s,...a}[b]===y})?[...u,d,p]:u},[]);return vD(t,o,l,n?.class,n?.className)};const EZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jH=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var TZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AZ=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...TZ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jH("lucide",i),...a},[...o.map(([u,f])=>B.createElement(u,f)),...Array.isArray(s)?s:[s]]));const ln=(t,e)=>{const n=B.forwardRef(({className:r,...i},s)=>B.createElement(AZ,{ref:s,iconNode:e,className:jH(`lucide-${EZ(t)}`,r),...i}));return n.displayName=`${t}`,n};const PZ=ln("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const CZ=ln("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const yD=ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const RZ=ln("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const _O=ln("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const OZ=ln("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const NZ=ln("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const IZ=ln("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const bO=ln("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const LZ=ln("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zH=ln("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const VH=ln("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const DZ=ln("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const HH=ln("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const kZ=ln("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const FZ=ln("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const UZ=ln("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const WH=ln("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const BZ=ln("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const GH=ln("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);const jZ=ln("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const Mp=ln("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const $H=ln("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);const zZ=ln("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const VZ=ln("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const HZ=ln("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const WZ=ln("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const MC=ln("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Os=ln("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const qH=ln("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const EC=ln("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const XH=ln("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Mw=ln("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const KH=ln("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const wO=ln("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const SO=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const YH=ln("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),MO="-",GZ=t=>{const e=qZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(MO);return a[0]===""&&a.length!==1&&a.shift(),ZH(a,e)||$Z(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ZH=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ZH(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(MO);return e.validators.find(({validator:o})=>o(s))?.classGroupId},xD=/^\[(.+)\]$/,$Z=t=>{if(xD.test(t)){const e=xD.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qZ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KZ(Object.entries(t.classGroups),n).forEach(([s,o])=>{TC(o,r,s,e)}),r},TC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_D(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(XZ(i)){TC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{TC(o,_D(e,s),n,r)})})},_D=(t,e)=>{let n=t;return e.split(MO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XZ=t=>t.isThemeGetter,KZ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,YZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},QH="!",ZZ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,f=0,d;for(let y=0;y<a.length;y++){let w=a[y];if(u===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(f,y)),f=y+s;continue}if(w==="/"){d=y;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(f),v=p.startsWith(QH),x=v?p.substring(1):p,b=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}};return n?a=>n({className:a,parseClassName:o}):o},QZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JZ=t=>({cache:YZ(t.cacheSize),parseClassName:ZZ(t),...GZ(t)}),eQ=/\s+/,tQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(eQ);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let x=!!v,b=r(x?p.substring(0,v):p);if(!b){if(!x){a=u+(a.length>0?" "+a:a);continue}if(b=r(p),!b){a=u+(a.length>0?" "+a:a);continue}x=!1}const y=QZ(f).join(":"),w=d?y+QH:y,M=w+b;if(s.includes(M))continue;s.push(M);const S=i(b,x);for(let A=0;A<S.length;++A){const P=S[A];s.push(w+P)}a=u+(a.length>0?" "+a:a)}return a};function nQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=JH(e))&&(r&&(r+=" "),r+=n);return r}const JH=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=JH(t[r]))&&(n&&(n+=" "),n+=e);return n};function rQ(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((f,d)=>d(f),t());return n=JZ(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=tQ(l,n);return i(l,f),f}return function(){return s(nQ.apply(null,arguments))}}const Qn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eW=/^\[(?:([a-z-]+):)?(.+)\]$/i,iQ=/^\d+\/\d+$/,sQ=new Set(["px","full","screen"]),oQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=t=>Ep(t)||sQ.has(t)||iQ.test(t),ec=t=>mm(t,"length",yQ),Ep=t=>!!t&&!Number.isNaN(Number(t)),B1=t=>mm(t,"number",Ep),Rg=t=>!!t&&Number.isInteger(Number(t)),fQ=t=>t.endsWith("%")&&Ep(t.slice(0,-1)),Qt=t=>eW.test(t),tc=t=>oQ.test(t),dQ=new Set(["length","size","percentage"]),hQ=t=>mm(t,dQ,tW),pQ=t=>mm(t,"position",tW),mQ=new Set(["image","url"]),gQ=t=>mm(t,mQ,_Q),vQ=t=>mm(t,"",xQ),Og=()=>!0,mm=(t,e,n)=>{const r=eW.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yQ=t=>aQ.test(t)&&!lQ.test(t),tW=()=>!1,xQ=t=>uQ.test(t),_Q=t=>cQ.test(t),bQ=()=>{const t=Qn("colors"),e=Qn("spacing"),n=Qn("blur"),r=Qn("brightness"),i=Qn("borderColor"),s=Qn("borderRadius"),o=Qn("borderSpacing"),a=Qn("borderWidth"),l=Qn("contrast"),u=Qn("grayscale"),f=Qn("hueRotate"),d=Qn("invert"),p=Qn("gap"),v=Qn("gradientColorStops"),x=Qn("gradientColorStopPositions"),b=Qn("inset"),y=Qn("margin"),w=Qn("opacity"),M=Qn("padding"),S=Qn("saturate"),A=Qn("scale"),P=Qn("sepia"),O=Qn("skew"),I=Qn("space"),k=Qn("translate"),L=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Qt,e],H=()=>[Qt,e],q=()=>["",Ul,ec],X=()=>["auto",Ep,Qt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Qt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ep,Qt];return{cacheSize:500,separator:":",theme:{colors:[Og],spacing:[Ul,ec],blur:["none","",tc,Qt],brightness:G(),borderColor:[t],borderRadius:["none","","full",tc,Qt],borderSpacing:H(),borderWidth:q(),contrast:G(),grayscale:K(),hueRotate:G(),invert:K(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[fQ,ec],inset:j(),margin:j(),opacity:G(),padding:H(),saturate:G(),scale:G(),sepia:K(),skew:G(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Qt]}],container:["container"],columns:[{columns:[tc]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Qt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rg,Qt]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Rg,Qt]}],"grid-cols":[{"grid-cols":[Og]}],"col-start-end":[{col:["auto",{span:["full",Rg,Qt]},Qt]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Og]}],"row-start-end":[{row:["auto",{span:[Rg,Qt]},Qt]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qt,e]}],"min-w":[{"min-w":[Qt,e,"min","max","fit"]}],"max-w":[{"max-w":[Qt,e,"none","full","min","max","fit","prose",{screen:[tc]},tc]}],h:[{h:[Qt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",tc,ec]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",B1]}],"font-family":[{font:[Og]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qt]}],"line-clamp":[{"line-clamp":["none",Ep,B1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ul,Qt]}],"list-image":[{"list-image":["none",Qt]}],"list-style-type":[{list:["none","disc","decimal",Qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ul,ec]}],"underline-offset":[{"underline-offset":["auto",Ul,Qt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),pQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Ul,Qt]}],"outline-w":[{outline:[Ul,ec]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ul,ec]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",tc,vQ]}],"shadow-color":[{shadow:[Og]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",tc,Qt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Qt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Rg,Qt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ul,ec,B1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wQ=rQ(bQ);function _n(...t){return wQ(bn(t))}const SQ=MZ,nW=B.forwardRef(({className:t,...e},n)=>C.jsx(IH,{ref:n,className:_n("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nW.displayName=IH.displayName;const MQ=xO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rW=B.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(LH,{ref:r,className:_n(MQ({variant:e}),t),...n}));rW.displayName=LH.displayName;const EQ=B.forwardRef(({className:t,...e},n)=>C.jsx(FH,{ref:n,className:_n("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));EQ.displayName=FH.displayName;const iW=B.forwardRef(({className:t,...e},n)=>C.jsx(UH,{ref:n,className:_n("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(SO,{className:"h-4 w-4"})}));iW.displayName=UH.displayName;const sW=B.forwardRef(({className:t,...e},n)=>C.jsx(DH,{ref:n,className:_n("text-sm font-semibold",t),...e}));sW.displayName=DH.displayName;const oW=B.forwardRef(({className:t,...e},n)=>C.jsx(kH,{ref:n,className:_n("text-sm opacity-90",t),...e}));oW.displayName=kH.displayName;function TQ(){const{toasts:t}=fH();return C.jsxs(SQ,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return C.jsxs(rW,{...s,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(sW,{children:n}),r&&C.jsx(oW,{children:r})]}),i,C.jsx(iW,{})]},e)}),C.jsx(nW,{})]})}var AQ=zV[" useId ".trim().toString()]||(()=>{}),PQ=0;function EO(t){const[e,n]=B.useState(AQ());return ru(()=>{n(r=>r??String(PQ++))},[t]),e?`radix-${e}`:""}const CQ=["top","right","bottom","left"],xc=Math.min,Xs=Math.max,tb=Math.round,wx=Math.floor,Wa=t=>({x:t,y:t}),RQ={left:"right",right:"left",bottom:"top",top:"bottom"},OQ={start:"end",end:"start"};function AC(t,e,n){return Xs(t,xc(e,n))}function iu(t,e){return typeof t=="function"?t(e):t}function su(t){return t.split("-")[0]}function gm(t){return t.split("-")[1]}function TO(t){return t==="x"?"y":"x"}function AO(t){return t==="y"?"height":"width"}function _c(t){return["top","bottom"].includes(su(t))?"y":"x"}function PO(t){return TO(_c(t))}function NQ(t,e,n){n===void 0&&(n=!1);const r=gm(t),i=PO(t),s=AO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=nb(o)),[o,nb(o)]}function IQ(t){const e=nb(t);return[PC(t),e,PC(e)]}function PC(t){return t.replace(/start|end/g,e=>OQ[e])}function LQ(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function DQ(t,e,n,r){const i=gm(t);let s=LQ(su(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(PC)))),s}function nb(t){return t.replace(/left|right|bottom|top/g,e=>RQ[e])}function kQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function aW(t){return typeof t!="number"?kQ(t):{top:t,right:t,bottom:t,left:t}}function rb(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bD(t,e,n){let{reference:r,floating:i}=t;const s=_c(e),o=PO(e),a=AO(o),l=su(e),u=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:d};break;case"left":v={x:r.x-i.width,y:d};break;default:v={x:r.x,y:r.y}}switch(gm(e)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const FQ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=bD(u,r,l),p=r,v={},x=0;for(let b=0;b<a.length;b++){const{name:y,fn:w}=a[b],{x:M,y:S,data:A,reset:P}=await w({x:f,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});f=M??f,d=S??d,v={...v,[y]:{...v[y],...A}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:d}=bD(u,p,l)),b=-1)}return{x:f,y:d,placement:p,strategy:i,middlewareData:v}};async function Iv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:v=0}=iu(e,t),x=aW(v),y=a[p?d==="floating"?"reference":"floating":d],w=rb(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),M=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},P=rb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:S,strategy:l}):M);return{top:(w.top-P.top+x.top)/A.y,bottom:(P.bottom-w.bottom+x.bottom)/A.y,left:(w.left-P.left+x.left)/A.x,right:(P.right-w.right+x.right)/A.x}}const UQ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=iu(t,e)||{};if(u==null)return{};const d=aW(f),p={x:n,y:r},v=PO(i),x=AO(v),b=await o.getDimensions(u),y=v==="y",w=y?"top":"left",M=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=s.reference[x]+s.reference[v]-p[v]-s.floating[x],P=p[v]-s.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[S]||s.floating[x]);const k=A/2-P/2,L=I/2-b[x]/2-1,F=xc(d[w],L),j=xc(d[M],L),H=F,q=I-b[x]-j,X=I/2-b[x]/2+k,J=AC(H,X,q),Z=!l.arrow&&gm(i)!=null&&X!==J&&s.reference[x]/2-(X<H?F:j)-b[x]/2<0,ee=Z?X<H?X-H:X-q:0;return{[v]:p[v]+ee,data:{[v]:J,centerOffset:X-J-ee,...Z&&{alignmentOffset:ee}},reset:Z}}}),BQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...y}=iu(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=su(i),M=_c(a),S=su(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=p||(S||!b?[nb(a)]:IQ(a)),O=x!=="none";!p&&O&&P.push(...DQ(a,b,x,A));const I=[a,...P],k=await Iv(e,y),L=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(k[w]),d){const X=NQ(i,o,A);L.push(k[X[0]],k[X[1]])}if(F=[...F,{placement:i,overflows:L}],!L.every(X=>X<=0)){var j,H;const X=(((j=s.flip)==null?void 0:j.index)||0)+1,J=I[X];if(J)return{data:{index:X,overflows:F},reset:{placement:J}};let Z=(H=F.filter(ee=>ee.overflows[0]<=0).sort((ee,V)=>ee.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!Z)switch(v){case"bestFit":{var q;const ee=(q=F.filter(V=>{if(O){const K=_c(V.placement);return K===M||K==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(K=>K>0).reduce((K,Q)=>K+Q,0)]).sort((V,K)=>V[1]-K[1])[0])==null?void 0:q[0];ee&&(Z=ee);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function wD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function SD(t){return CQ.some(e=>t[e]>=0)}const jQ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=iu(t,e);switch(r){case"referenceHidden":{const s=await Iv(e,{...i,elementContext:"reference"}),o=wD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SD(o)}}}case"escaped":{const s=await Iv(e,{...i,altBoundary:!0}),o=wD(s,n.floating);return{data:{escapedOffsets:o,escaped:SD(o)}}}default:return{}}}}};async function zQ(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=su(n),a=gm(n),l=_c(n)==="y",u=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,d=iu(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*f,y:p*u}:{x:p*u,y:v*f}}const VQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await zQ(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},HQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:M}=y;return{x:w,y:M}}},...l}=iu(t,e),u={x:n,y:r},f=await Iv(e,l),d=_c(su(i)),p=TO(d);let v=u[p],x=u[d];if(s){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",M=v+f[y],S=v-f[w];v=AC(M,v,S)}if(o){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",M=x+f[y],S=x-f[w];x=AC(M,x,S)}const b=a.fn({...e,[p]:v,[d]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:s,[d]:o}}}}}},WQ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=iu(t,e),f={x:n,y:r},d=_c(i),p=TO(d);let v=f[p],x=f[d];const b=iu(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const S=p==="y"?"height":"width",A=s.reference[p]-s.floating[S]+y.mainAxis,P=s.reference[p]+s.reference[S]-y.mainAxis;v<A?v=A:v>P&&(v=P)}if(u){var w,M;const S=p==="y"?"width":"height",A=["top","left"].includes(su(i)),P=s.reference[d]-s.floating[S]+(A&&((w=o.offset)==null?void 0:w[d])||0)+(A?0:y.crossAxis),O=s.reference[d]+s.reference[S]+(A?0:((M=o.offset)==null?void 0:M[d])||0)-(A?y.crossAxis:0);x<P?x=P:x>O&&(x=O)}return{[p]:v,[d]:x}}}},GQ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=iu(t,e),f=await Iv(e,u),d=su(i),p=gm(i),v=_c(i)==="y",{width:x,height:b}=s.floating;let y,w;d==="top"||d==="bottom"?(y=d,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,y=p==="end"?"top":"bottom");const M=b-f.top-f.bottom,S=x-f.left-f.right,A=xc(b-f[y],M),P=xc(x-f[w],S),O=!e.middlewareData.shift;let I=A,k=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=M),O&&!p){const F=Xs(f.left,0),j=Xs(f.right,0),H=Xs(f.top,0),q=Xs(f.bottom,0);v?k=x-2*(F!==0||j!==0?F+j:Xs(f.left,f.right)):I=b-2*(H!==0||q!==0?H+q:Xs(f.top,f.bottom))}await l({...e,availableWidth:k,availableHeight:I});const L=await o.getDimensions(a.floating);return x!==L.width||b!==L.height?{reset:{rects:!0}}:{}}}};function Ew(){return typeof window<"u"}function vm(t){return lW(t)?(t.nodeName||"").toLowerCase():"#document"}function Qs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function el(t){var e;return(e=(lW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lW(t){return Ew()?t instanceof Node||t instanceof Qs(t).Node:!1}function ga(t){return Ew()?t instanceof Element||t instanceof Qs(t).Element:!1}function Za(t){return Ew()?t instanceof HTMLElement||t instanceof Qs(t).HTMLElement:!1}function MD(t){return!Ew()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qs(t).ShadowRoot}function $y(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=va(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function $Q(t){return["table","td","th"].includes(vm(t))}function Tw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function CO(t){const e=RO(),n=ga(t)?va(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qQ(t){let e=bc(t);for(;Za(e)&&!Lp(e);){if(CO(e))return e;if(Tw(e))return null;e=bc(e)}return null}function RO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lp(t){return["html","body","#document"].includes(vm(t))}function va(t){return Qs(t).getComputedStyle(t)}function Aw(t){return ga(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bc(t){if(vm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MD(t)&&t.host||el(t);return MD(e)?e.host:e}function uW(t){const e=bc(t);return Lp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Za(e)&&$y(e)?e:uW(e)}function Lv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uW(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Qs(i);if(s){const a=CC(o);return e.concat(o,o.visualViewport||[],$y(i)?i:[],a&&n?Lv(a):[])}return e.concat(i,Lv(i,[],n))}function CC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cW(t){const e=va(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Za(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=tb(n)!==s||tb(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function OO(t){return ga(t)?t:t.contextElement}function Tp(t){const e=OO(t);if(!Za(e))return Wa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=cW(e);let o=(s?tb(n.width):n.width)/r,a=(s?tb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XQ=Wa(0);function fW(t){const e=Qs(t);return!RO()||!e.visualViewport?XQ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KQ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qs(t)?!1:e}function gd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=OO(t);let o=Wa(1);e&&(r?ga(r)&&(o=Tp(r)):o=Tp(t));const a=KQ(s,n,r)?fW(s):Wa(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const p=Qs(s),v=r&&ga(r)?Qs(r):r;let x=p,b=CC(x);for(;b&&r&&v!==x;){const y=Tp(b),w=b.getBoundingClientRect(),M=va(b),S=w.left+(b.clientLeft+parseFloat(M.paddingLeft))*y.x,A=w.top+(b.clientTop+parseFloat(M.paddingTop))*y.y;l*=y.x,u*=y.y,f*=y.x,d*=y.y,l+=S,u+=A,x=Qs(b),b=CC(x)}}return rb({width:f,height:d,x:l,y:u})}function NO(t,e){const n=Aw(t).scrollLeft;return e?e.left+n:gd(el(t)).left+n}function dW(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:NO(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function YQ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=el(r),a=e?Tw(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Wa(1);const f=Wa(0),d=Za(r);if((d||!d&&!s)&&((vm(r)!=="body"||$y(o))&&(l=Aw(r)),Za(r))){const v=gd(r);u=Tp(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const p=o&&!d&&!s?dW(o,l,!0):Wa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-l.scrollTop*u.y+f.y+p.y}}function ZQ(t){return Array.from(t.getClientRects())}function QQ(t){const e=el(t),n=Aw(t),r=t.ownerDocument.body,i=Xs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NO(t);const a=-n.scrollTop;return va(r).direction==="rtl"&&(o+=Xs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function JQ(t,e){const n=Qs(t),r=el(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=RO();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function eJ(t,e){const n=gd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Za(t)?Tp(t):Wa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function ED(t,e,n){let r;if(e==="viewport")r=JQ(t,n);else if(e==="document")r=QQ(el(t));else if(ga(e))r=eJ(e,n);else{const i=fW(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rb(r)}function hW(t,e){const n=bc(t);return n===e||!ga(n)||Lp(n)?!1:va(n).position==="fixed"||hW(n,e)}function tJ(t,e){const n=e.get(t);if(n)return n;let r=Lv(t,[],!1).filter(a=>ga(a)&&vm(a)!=="body"),i=null;const s=va(t).position==="fixed";let o=s?bc(t):t;for(;ga(o)&&!Lp(o);){const a=va(o),l=CO(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$y(o)&&!l&&hW(t,o))?r=r.filter(f=>f!==o):i=a,o=bc(o)}return e.set(t,r),r}function nJ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Tw(e)?[]:tJ(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const d=ED(e,f,i);return u.top=Xs(d.top,u.top),u.right=xc(d.right,u.right),u.bottom=xc(d.bottom,u.bottom),u.left=Xs(d.left,u.left),u},ED(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rJ(t){const{width:e,height:n}=cW(t);return{width:e,height:n}}function iJ(t,e,n){const r=Za(e),i=el(e),s=n==="fixed",o=gd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Wa(0);if(r||!r&&!s)if((vm(e)!=="body"||$y(i))&&(a=Aw(e)),r){const p=gd(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=NO(i));const u=i&&!r&&!s?dW(i,a):Wa(0),f=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:f,y:d,width:o.width,height:o.height}}function j1(t){return va(t).position==="static"}function TD(t,e){if(!Za(t)||va(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return el(t)===n&&(n=n.ownerDocument.body),n}function pW(t,e){const n=Qs(t);if(Tw(t))return n;if(!Za(t)){let i=bc(t);for(;i&&!Lp(i);){if(ga(i)&&!j1(i))return i;i=bc(i)}return n}let r=TD(t,e);for(;r&&$Q(r)&&j1(r);)r=TD(r,e);return r&&Lp(r)&&j1(r)&&!CO(r)?n:r||qQ(t)||n}const sJ=async function(t){const e=this.getOffsetParent||pW,n=this.getDimensions,r=await n(t.floating);return{reference:iJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oJ(t){return va(t).direction==="rtl"}const aJ={convertOffsetParentRelativeRectToViewportRelativeRect:YQ,getDocumentElement:el,getClippingRect:nJ,getOffsetParent:pW,getElementRects:sJ,getClientRects:ZQ,getDimensions:rJ,getScale:Tp,isElement:ga,isRTL:oJ};function mW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lJ(t,e){let n=null,r;const i=el(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:f,top:d,width:p,height:v}=u;if(a||e(),!p||!v)return;const x=wx(d),b=wx(i.clientWidth-(f+p)),y=wx(i.clientHeight-(d+v)),w=wx(f),S={rootMargin:-x+"px "+-b+"px "+-y+"px "+-w+"px",threshold:Xs(0,xc(1,l))||1};let A=!0;function P(O){const I=O[0].intersectionRatio;if(I!==l){if(!A)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!mW(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(P,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,S)}n.observe(t)}return o(!0),s}function uJ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=OO(t),f=i||s?[...u?Lv(u):[],...Lv(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const d=u&&a?lJ(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(w=>{let[M]=w;M&&M.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let x,b=l?gd(t):null;l&&y();function y(){const w=gd(t);b&&!mW(b,w)&&n(),b=w,x=requestAnimationFrame(y)}return n(),()=>{var w;f.forEach(M=>{i&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),d?.(),(w=v)==null||w.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const cJ=VQ,fJ=HQ,dJ=BQ,hJ=GQ,pJ=jQ,AD=UQ,mJ=WQ,gJ=(t,e,n)=>{const r=new Map,i={platform:aJ,...n},s={...i.platform,_c:r};return FQ(t,e,{...i,platform:s})};var B_=typeof document<"u"?B.useLayoutEffect:B.useEffect;function ib(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ib(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ib(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function gW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PD(t,e){const n=gW(t);return Math.round(e*n)/n}function z1(t){const e=B.useRef(t);return B_(()=>{e.current=t}),e}function vJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,d]=B.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=B.useState(r);ib(p,r)||v(r);const[x,b]=B.useState(null),[y,w]=B.useState(null),M=B.useCallback(V=>{V!==O.current&&(O.current=V,b(V))},[]),S=B.useCallback(V=>{V!==I.current&&(I.current=V,w(V))},[]),A=s||x,P=o||y,O=B.useRef(null),I=B.useRef(null),k=B.useRef(f),L=l!=null,F=z1(l),j=z1(i),H=z1(u),q=B.useCallback(()=>{if(!O.current||!I.current)return;const V={placement:e,strategy:n,middleware:p};j.current&&(V.platform=j.current),gJ(O.current,I.current,V).then(K=>{const Q={...K,isPositioned:H.current!==!1};X.current&&!ib(k.current,Q)&&(k.current=Q,xw.flushSync(()=>{d(Q)}))})},[p,e,n,j,H]);B_(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[u]);const X=B.useRef(!1);B_(()=>(X.current=!0,()=>{X.current=!1}),[]),B_(()=>{if(A&&(O.current=A),P&&(I.current=P),A&&P){if(F.current)return F.current(A,P,q);q()}},[A,P,q,F,L]);const J=B.useMemo(()=>({reference:O,floating:I,setReference:M,setFloating:S}),[M,S]),Z=B.useMemo(()=>({reference:A,floating:P}),[A,P]),ee=B.useMemo(()=>{const V={position:n,left:0,top:0};if(!Z.floating)return V;const K=PD(Z.floating,f.x),Q=PD(Z.floating,f.y);return a?{...V,transform:"translate("+K+"px, "+Q+"px)",...gW(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Q}},[n,a,Z.floating,f.x,f.y]);return B.useMemo(()=>({...f,update:q,refs:J,elements:Z,floatingStyles:ee}),[f,q,J,Z,ee])}const yJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AD({element:r.current,padding:i}).fn(n):{}:r?AD({element:r,padding:i}).fn(n):{}}}},xJ=(t,e)=>({...cJ(t),options:[t,e]}),_J=(t,e)=>({...fJ(t),options:[t,e]}),bJ=(t,e)=>({...mJ(t),options:[t,e]}),wJ=(t,e)=>({...dJ(t),options:[t,e]}),SJ=(t,e)=>({...hJ(t),options:[t,e]}),MJ=(t,e)=>({...pJ(t),options:[t,e]}),EJ=(t,e)=>({...yJ(t),options:[t,e]});var TJ="Arrow",vW=B.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return C.jsx(nr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});vW.displayName=TJ;var AJ=vW;function PJ(t){const[e,n]=B.useState(void 0);return ru(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var IO="Popper",[yW,xW]=Td(IO),[CJ,_W]=yW(IO),bW=t=>{const{__scopePopper:e,children:n}=t,[r,i]=B.useState(null);return C.jsx(CJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};bW.displayName=IO;var wW="PopperAnchor",SW=B.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=_W(wW,n),o=B.useRef(null),a=ci(e,o);return B.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:C.jsx(nr.div,{...i,ref:a})});SW.displayName=wW;var LO="PopperContent",[RJ,OJ]=yW(LO),MW=B.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,...b}=t,y=_W(LO,n),[w,M]=B.useState(null),S=ci(e,Ce=>M(Ce)),[A,P]=B.useState(null),O=PJ(A),I=O?.width??0,k=O?.height??0,L=r+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},j=Array.isArray(u)?u:[u],H=j.length>0,q={padding:F,boundary:j.filter(IJ),altBoundary:H},{refs:X,floatingStyles:J,placement:Z,isPositioned:ee,middlewareData:V}=vJ({strategy:"fixed",placement:L,whileElementsMounted:(...Ce)=>uJ(...Ce,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[xJ({mainAxis:i+k,alignmentAxis:o}),l&&_J({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?bJ():void 0,...q}),l&&wJ({...q}),SJ({...q,apply:({elements:Ce,rects:qe,availableWidth:Ae,availableHeight:ze})=>{const{width:se,height:ae}=qe.reference,Me=Ce.floating.style;Me.setProperty("--radix-popper-available-width",`${Ae}px`),Me.setProperty("--radix-popper-available-height",`${ze}px`),Me.setProperty("--radix-popper-anchor-width",`${se}px`),Me.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),A&&EJ({element:A,padding:a}),LJ({arrowWidth:I,arrowHeight:k}),p&&MJ({strategy:"referenceHidden",...q})]}),[K,Q]=AW(Z),G=li(x);ru(()=>{ee&&G?.()},[ee,G]);const ne=V.arrow?.x,ye=V.arrow?.y,ue=V.arrow?.centerOffset!==0,[xe,Re]=B.useState();return ru(()=>{w&&Re(window.getComputedStyle(w).zIndex)},[w]),C.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ee?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(RJ,{scope:n,placedSide:K,onArrowChange:P,arrowX:ne,arrowY:ye,shouldHideArrow:ue,children:C.jsx(nr.div,{"data-side":K,"data-align":Q,...b,ref:S,style:{...b.style,animation:ee?void 0:"none"}})})})});MW.displayName=LO;var EW="PopperArrow",NJ={top:"bottom",right:"left",bottom:"top",left:"right"},TW=B.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=OJ(EW,r),o=NJ[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(AJ,{...i,ref:n,style:{...i.style,display:"block"}})})});TW.displayName=EW;function IJ(t){return t!==null}var LJ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,f]=AW(n),d={start:"0%",center:"50%",end:"100%"}[f],p=(i.arrow?.x??0)+a/2,v=(i.arrow?.y??0)+l/2;let x="",b="";return u==="bottom"?(x=o?d:`${p}px`,b=`${-l}px`):u==="top"?(x=o?d:`${p}px`,b=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,b=o?d:`${v}px`):u==="left"&&(x=`${r.floating.width+l}px`,b=o?d:`${v}px`),{data:{x,y:b}}}});function AW(t){const[e,n="center"]=t.split("-");return[e,n]}var DJ=bW,kJ=SW,FJ=MW,UJ=TW,[Pw]=Td("Tooltip",[xW]),Cw=xW(),PW="TooltipProvider",BJ=700,RC="tooltip.open",[jJ,DO]=Pw(PW),CW=t=>{const{__scopeTooltip:e,delayDuration:n=BJ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=B.useRef(!0),a=B.useRef(!1),l=B.useRef(0);return B.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),C.jsx(jJ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:B.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:B.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:B.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};CW.displayName=PW;var Rw="Tooltip",[zJ,Ow]=Pw(Rw),RW=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=DO(Rw,t.__scopeTooltip),u=Cw(e),[f,d]=B.useState(null),p=EO(),v=B.useRef(0),x=o??l.disableHoverableContent,b=a??l.delayDuration,y=B.useRef(!1),[w=!1,M]=_w({prop:r,defaultProp:i,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(RC))):l.onClose(),s?.(I)}}),S=B.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),A=B.useCallback(()=>{window.clearTimeout(v.current),v.current=0,y.current=!1,M(!0)},[M]),P=B.useCallback(()=>{window.clearTimeout(v.current),v.current=0,M(!1)},[M]),O=B.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{y.current=!0,M(!0),v.current=0},b)},[b,M]);return B.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),C.jsx(DJ,{...u,children:C.jsx(zJ,{scope:e,contentId:p,open:w,stateAttribute:S,trigger:f,onTriggerChange:d,onTriggerEnter:B.useCallback(()=>{l.isOpenDelayedRef.current?O():A()},[l.isOpenDelayedRef,O,A]),onTriggerLeave:B.useCallback(()=>{x?P():(window.clearTimeout(v.current),v.current=0)},[P,x]),onOpen:A,onClose:P,disableHoverableContent:x,children:n})})};RW.displayName=Rw;var OC="TooltipTrigger",OW=B.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ow(OC,n),s=DO(OC,n),o=Cw(n),a=B.useRef(null),l=ci(e,a,i.onTriggerChange),u=B.useRef(!1),f=B.useRef(!1),d=B.useCallback(()=>u.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),C.jsx(kJ,{asChild:!0,...o,children:C.jsx(nr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:dn(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:dn(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:dn(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:dn(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:dn(t.onBlur,i.onClose),onClick:dn(t.onClick,i.onClose)})})});OW.displayName=OC;var VJ="TooltipPortal",[KCe,HJ]=Pw(VJ,{forceMount:void 0}),Dp="TooltipContent",NW=B.forwardRef((t,e)=>{const n=HJ(Dp,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ow(Dp,t.__scopeTooltip);return C.jsx(Ac,{present:r||o.open,children:o.disableHoverableContent?C.jsx(IW,{side:i,...s,ref:e}):C.jsx(WJ,{side:i,...s,ref:e})})}),WJ=B.forwardRef((t,e)=>{const n=Ow(Dp,t.__scopeTooltip),r=DO(Dp,t.__scopeTooltip),i=B.useRef(null),s=ci(e,i),[o,a]=B.useState(null),{trigger:l,onClose:u}=n,f=i.current,{onPointerInTransitChange:d}=r,p=B.useCallback(()=>{a(null),d(!1)},[d]),v=B.useCallback((x,b)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},M=KJ(w,y.getBoundingClientRect()),S=YJ(w,M),A=ZJ(b.getBoundingClientRect()),P=JJ([...S,...A]);a(P),d(!0)},[d]);return B.useEffect(()=>()=>p(),[p]),B.useEffect(()=>{if(l&&f){const x=y=>v(y,f),b=y=>v(y,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",b)}}},[l,f,v,p]),B.useEffect(()=>{if(o){const x=b=>{const y=b.target,w={x:b.clientX,y:b.clientY},M=l?.contains(y)||f?.contains(y),S=!QJ(w,o);M?p():S&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,o,u,p]),C.jsx(IW,{...t,ref:s})}),[GJ,$J]=Pw(Rw,{isInside:!1}),qJ=jY("TooltipContent"),IW=B.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Ow(Dp,n),u=Cw(n),{onClose:f}=l;return B.useEffect(()=>(document.addEventListener(RC,f),()=>document.removeEventListener(RC,f)),[f]),B.useEffect(()=>{if(l.trigger){const d=p=>{p.target?.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),C.jsx(mO,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:C.jsxs(FJ,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(qJ,{children:r}),C.jsx(GJ,{scope:n,isInside:!0,children:C.jsx(oZ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});NW.displayName=Dp;var LW="TooltipArrow",XJ=B.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cw(n);return $J(LW,n).isInside?null:C.jsx(UJ,{...i,...r,ref:e})});XJ.displayName=LW;function KJ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YJ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ZJ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function QJ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,f=e[o].y;l>r!=f>r&&n<(u-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function JJ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),eee(e)}function eee(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var tee=CW,nee=RW,ree=OW,DW=NW;const iee=tee,see=nee,oee=ree,kW=B.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(DW,{ref:r,sideOffset:e,className:_n("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));kW.displayName=DW.displayName;const aee={theme:"system",setTheme:()=>null},FW=B.createContext(aee);function lee({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme"}){const[r,i]=B.useState(()=>localStorage.getItem(n)||e);B.useEffect(()=>{const o=document.querySelector("body");if(o){if(o.classList.remove("light","dark"),r==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(a);return}o.classList.add(r)}},[r]);const s={theme:r,setTheme:o=>{localStorage.setItem(n,o),i(o)}};return C.jsx(FW.Provider,{value:s,children:t},r)}const uee=()=>{const t=B.useContext(FW);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},ou=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ou.displayName="Card";const kp=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("flex flex-col space-y-1.5 p-6",t),...e}));kp.displayName="CardHeader";const kO=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("text-2xl font-semibold leading-none tracking-tight",t),...e}));kO.displayName="CardTitle";const cee=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("text-sm text-muted-foreground",t),...e}));cee.displayName="CardDescription";const wc=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("p-6 pt-0",t),...e}));wc.displayName="CardContent";const fee=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:_n("flex items-center p-6 pt-0",t),...e}));fee.displayName="CardFooter";function dee(){return C.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:C.jsx(ou,{className:"w-full max-w-md mx-4",children:C.jsxs(wc,{className:"pt-6",children:[C.jsxs("div",{className:"flex mb-4 gap-2",children:[C.jsx(bO,{className:"h-8 w-8 text-red-500"}),C.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const hee=xO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),cs=B.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?UY:"button";return C.jsx(o,{className:_n(hee({variant:e,size:n,className:t})),ref:s,...i})});cs.displayName="Button";const UW=B.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:_n("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));UW.displayName="Input";const FO=B.createContext({});function UO(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nw=B.createContext(null),BO=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class pee extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mee({children:t,isPresent:e}){const n=B.useId(),r=B.useRef(null),i=B.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=B.useContext(BO);return B.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),C.jsx(pee,{isPresent:e,childRef:r,sizeRef:i,children:B.cloneElement(t,{ref:r})})}const gee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=UO(vee),l=B.useId(),u=B.useCallback(d=>{a.set(d,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),f=B.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),u]:[n,u]);return B.useMemo(()=>{a.forEach((d,p)=>a.set(p,!1))},[n]),B.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=C.jsx(mee,{isPresent:n,children:t})),C.jsx(Nw.Provider,{value:f,children:t})};function vee(){return new Map}function BW(t=!0){const e=B.useContext(Nw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=B.useId();B.useEffect(()=>{t&&i(s)},[t]);const o=B.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Sx=t=>t.key||"";function CD(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const jO=typeof window<"u",jW=jO?B.useLayoutEffect:B.useEffect,qy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=BW(o),u=B.useMemo(()=>CD(t),[t]),f=o&&!a?[]:u.map(Sx),d=B.useRef(!0),p=B.useRef(u),v=UO(()=>new Map),[x,b]=B.useState(u),[y,w]=B.useState(u);jW(()=>{d.current=!1,p.current=u;for(let A=0;A<y.length;A++){const P=Sx(y[A]);f.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[y,f.length,f.join("-")]);const M=[];if(u!==x){let A=[...u];for(let P=0;P<y.length;P++){const O=y[P],I=Sx(O);f.includes(I)||(A.splice(P,0,O),M.push(O))}s==="wait"&&M.length&&(A=M),w(CD(A)),b(u);return}const{forceRender:S}=B.useContext(FO);return C.jsx(C.Fragment,{children:y.map(A=>{const P=Sx(A),O=o&&!a?!1:u===y||f.includes(P),I=()=>{if(v.has(P))v.set(P,!0);else return;let k=!0;v.forEach(L=>{L||(k=!1)}),k&&(S?.(),w(p.current),o&&l?.(),r&&r())};return C.jsx(gee,{isPresent:O,initial:!d.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:O?void 0:I,children:A},P)})})},Js=t=>t;let zW=Js;function zO(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Zl=t=>t*1e3,Ql=t=>t/1e3,yee={useManualTiming:!1};function xee(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,f=!1,d=!1)=>{const v=d&&r?e:n;return f&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Mx=["read","resolveKeyframes","update","preRender","render","postRender"],_ee=40;function VW(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Mx.reduce((w,M)=>(w[M]=xee(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:d,postRender:p}=o,v=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,_ee),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},x=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:Mx.reduce((w,M)=>{const S=o[M];return w[M]=(A,P=!1,O=!1)=>(n||x(),S.schedule(A,P,O)),w},{}),cancel:w=>{for(let M=0;M<Mx.length;M++)o[Mx[M]].cancel(w)},state:i,steps:o}}const{schedule:tr,cancel:Sc,state:Ti,steps:V1}=VW(typeof requestAnimationFrame<"u"?requestAnimationFrame:Js,!0),HW=B.createContext({strict:!1}),RD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Up={};for(const t in RD)Up[t]={isEnabled:e=>RD[t].some(n=>!!e[n])};function bee(t){for(const e in t)Up[e]={...Up[e],...t[e]}}const wee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wee.has(t)}let WW=t=>!sb(t);function See(t){t&&(WW=e=>e.startsWith("on")?!sb(e):t(e))}try{See(require("@emotion/is-prop-valid").default)}catch{}function Mee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(WW(i)||n===!0&&sb(i)||!e&&!sb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Eee(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Iw=B.createContext({});function Dv(t){return typeof t=="string"||Array.isArray(t)}function Lw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const VO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HO=["initial",...VO];function Dw(t){return Lw(t.animate)||HO.some(e=>Dv(t[e]))}function GW(t){return!!(Dw(t)||t.variants)}function Tee(t,e){if(Dw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dv(n)?n:void 0,animate:Dv(r)?r:void 0}}return t.inherit!==!1?e:{}}function Aee(t){const{initial:e,animate:n}=Tee(t,B.useContext(Iw));return B.useMemo(()=>({initial:e,animate:n}),[OD(e),OD(n)])}function OD(t){return Array.isArray(t)?t.join(" "):t}const Pee=Symbol.for("motionComponentSymbol");function up(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cee(t,e,n){return B.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):up(n)&&(n.current=r))},[e])}const WO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ree="framerAppearId",$W="data-"+WO(Ree),{schedule:GO}=VW(queueMicrotask,!1),qW=B.createContext({});function Oee(t,e,n,r,i){var s,o;const{visualElement:a}=B.useContext(Iw),l=B.useContext(HW),u=B.useContext(Nw),f=B.useContext(BO).reducedMotion,d=B.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,v=B.useContext(qW);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Nee(d.current,n,i,v);const x=B.useRef(!1);B.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const b=n[$W],y=B.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return jW(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),GO.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())}),B.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,b)}),y.current=!1))}),p}function Nee(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XW(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&up(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function XW(t){if(t)return t.options.allowProjection!==!1?t.projection:XW(t.parent)}function Iee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&bee(t);function a(u,f){let d;const p={...B.useContext(BO),...u,layoutId:Lee(u)},{isStatic:v}=p,x=Aee(u),b=r(u,v);if(!v&&jO){Dee();const y=kee(p);d=y.MeasureLayout,x.visualElement=Oee(i,b,p,e,y.ProjectionNode)}return C.jsxs(Iw.Provider,{value:x,children:[d&&x.visualElement?C.jsx(d,{visualElement:x.visualElement,...p}):null,n(i,u,Cee(b,x.visualElement,f),b,v,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=B.forwardRef(a);return l[Pee]=i,l}function Lee({layoutId:t}){const e=B.useContext(FO).id;return e&&t!==void 0?e+"-"+t:t}function Dee(t,e){B.useContext(HW).strict}function kee(t){const{drag:e,layout:n}=Up;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Fee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $O(t){return typeof t!="string"||t.includes("-")?!1:!!(Fee.indexOf(t)>-1||/[A-Z]/u.test(t))}function ND(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qO(t,e,n,r){if(typeof e=="function"){const[i,s]=ND(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ND(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const NC=t=>Array.isArray(t),Uee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Bee=t=>NC(t)?t[t.length-1]||0:t,Hi=t=>!!(t&&t.getVelocity);function j_(t){const e=Hi(t)?t.get():t;return Uee(e)?e.toValue():e}function jee({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:zee(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const KW=t=>(e,n)=>{const r=B.useContext(Iw),i=B.useContext(Nw),s=()=>jee(t,e,r,i);return n?s():UO(s)};function zee(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=j_(s[p]);let{initial:o,animate:a}=t;const l=Dw(t),u=GW(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;if(d&&typeof d!="boolean"&&!Lw(d)){const p=Array.isArray(d)?d:[d];for(let v=0;v<p.length;v++){const x=qO(t,p[v]);if(x){const{transitionEnd:b,transition:y,...w}=x;for(const M in w){let S=w[M];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(i[M]=S)}for(const M in b)i[M]=b[M]}}}return i}const ym=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ad=new Set(ym),YW=t=>e=>typeof e=="string"&&e.startsWith(t),ZW=YW("--"),Vee=YW("var(--"),XO=t=>Vee(t)?Hee.test(t.split("/*")[0].trim()):!1,Hee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,QW=(t,e)=>e&&typeof t=="number"?e.transform(t):t,au=(t,e,n)=>n>e?e:n<t?t:n,xm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kv={...xm,transform:t=>au(0,1,t)},Ex={...xm,default:1},Xy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fc=Xy("deg"),Ga=Xy("%"),kt=Xy("px"),Wee=Xy("vh"),Gee=Xy("vw"),ID={...Ga,parse:t=>Ga.parse(t)/100,transform:t=>Ga.transform(t*100)},$ee={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt},qee={rotate:fc,rotateX:fc,rotateY:fc,rotateZ:fc,scale:Ex,scaleX:Ex,scaleY:Ex,scaleZ:Ex,skew:fc,skewX:fc,skewY:fc,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:kv,originX:ID,originY:ID,originZ:kt},LD={...xm,transform:Math.round},KO={...$ee,...qee,zIndex:LD,size:kt,fillOpacity:kv,strokeOpacity:kv,numOctaves:LD},Xee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kee=ym.length;function Yee(t,e,n){let r="",i=!0;for(let s=0;s<Kee;s++){const o=ym[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=QW(a,KO[o]);if(!l){i=!1;const f=Xee[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function YO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ad.has(l)){o=!0;continue}else if(ZW(l)){i[l]=u;continue}else{const f=QW(u,KO[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=Yee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const Zee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qee={offset:"strokeDashoffset",array:"strokeDasharray"};function Jee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Zee:Qee;t[s.offset]=kt.transform(-r);const o=kt.transform(e),a=kt.transform(n);t[s.array]=`${o} ${a}`}function DD(t,e,n){return typeof t=="string"?t:kt.transform(e+n*t)}function ete(t,e,n){const r=DD(e,t.x,t.width),i=DD(n,t.y,t.height);return`${r} ${i}`}function ZO(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,d){if(YO(t,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:x}=t;p.transform&&(x&&(v.transform=p.transform),delete p.transform),x&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=ete(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Jee(p,o,a,l,!1)}const QO=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JW=()=>({...QO(),attrs:{}}),JO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function e6(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const t6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n6(t,e,n,r){e6(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(t6.has(i)?i:WO(i),e.attrs[i])}const ob={};function tte(t){Object.assign(ob,t)}function r6(t,{layout:e,layoutId:n}){return Ad.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ob[t]||t==="opacity")}function eN(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Hi(i[o])||e.style&&Hi(e.style[o])||r6(o,t)||((r=n?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function i6(t,e,n){const r=eN(t,e,n);for(const i in t)if(Hi(t[i])||Hi(e[i])){const s=ym.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function nte(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const kD=["x","y","width","height","cx","cy","r"],rte={useVisualState:KW({scrapeMotionValuesFromProps:i6,createRenderState:JW,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ad.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<kD.length;a++){const l=kD[a];t[l]!==e[l]&&(o=!0)}o&&tr.read(()=>{nte(n,r),tr.render(()=>{ZO(r,i,JO(n.tagName),t.transformTemplate),n6(n,r)})})}})},ite={useVisualState:KW({scrapeMotionValuesFromProps:eN,createRenderState:QO})};function s6(t,e,n){for(const r in e)!Hi(e[r])&&!r6(r,n)&&(t[r]=e[r])}function ste({transformTemplate:t},e){return B.useMemo(()=>{const n=QO();return YO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ote(t,e){const n=t.style||{},r={};return s6(r,n,t),Object.assign(r,ste(t,e)),r}function ate(t,e){const n={},r=ote(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function lte(t,e,n,r){const i=B.useMemo(()=>{const s=JW();return ZO(s,e,JO(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};s6(s,t.style,t),i.style={...s,...i.style}}return i}function ute(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=($O(n)?lte:ate)(r,s,o,n),u=Mee(r,typeof n=="string",t),f=n!==B.Fragment?{...u,...l,ref:i}:{},{children:d}=r,p=B.useMemo(()=>Hi(d)?d.get():d,[d]);return B.createElement(n,{...f,children:p})}}function cte(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...$O(r)?rte:ite,preloadedFeatures:t,useRender:ute(i),createVisualElement:e,Component:r};return Iee(o)}}function o6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kw(t,e,n){const r=t.getProps();return qO(r,e,n!==void 0?n:r.custom,t)}const fte=zO(()=>window.ScrollTimeline!==void 0);class dte{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(fte()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hte extends dte{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function tN(t,e){return t?t[e]||t.default||t:void 0}const IC=2e4;function a6(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<IC;)e+=n,r=t.next(e);return e>=IC?1/0:e}function nN(t){return typeof t=="function"}function FD(t,e){t.timeline=e,t.onfinish=null}const rN=t=>Array.isArray(t)&&typeof t[0]=="number",pte={linearEasing:void 0};function mte(t,e){const n=zO(t);return()=>{var r;return(r=pte[e])!==null&&r!==void 0?r:n()}}const ab=mte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),l6=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Fp(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function u6(t){return!!(typeof t=="function"&&ab()||!t||typeof t=="string"&&(t in LC||ab())||rN(t)||Array.isArray(t)&&t.every(u6))}const sv=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,LC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sv([0,.65,.55,1]),circOut:sv([.55,0,1,.45]),backIn:sv([.31,.01,.66,-.59]),backOut:sv([.33,1.53,.69,.99])};function c6(t,e){if(t)return typeof t=="function"&&ab()?l6(t,e):rN(t)?sv(t):Array.isArray(t)?t.map(n=>c6(n,e)||LC.easeOut):LC[t]}const aa={x:!1,y:!1};function f6(){return aa.x||aa.y}function gte(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function d6(t,e){const n=gte(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function UD(t){return e=>{e.pointerType==="touch"||f6()||t(e)}}function vte(t,e,n={}){const[r,i,s]=d6(t,n),o=UD(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const f=UD(d=>{u(d),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const h6=(t,e)=>e?t===e?!0:h6(t,e.parentElement):!1,iN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xte(t){return yte.has(t.tagName)||t.tabIndex!==-1}const ov=new WeakSet;function BD(t){return e=>{e.key==="Enter"&&t(e)}}function H1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _te=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=BD(()=>{if(ov.has(n))return;H1(n,"down");const i=BD(()=>{H1(n,"up")}),s=()=>H1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jD(t){return iN(t)&&!f6()}function bte(t,e,n={}){const[r,i,s]=d6(t,n),o=a=>{const l=a.currentTarget;if(!jD(a)||ov.has(l))return;ov.add(l);const u=e(a),f=(v,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),!(!jD(v)||!ov.has(l))&&(ov.delete(l),typeof u=="function"&&u(v,{success:x}))},d=v=>{f(v,n.useGlobalTarget||h6(l,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!xte(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>_te(u,i),i)}),s}function wte(t){return t==="x"||t==="y"?aa[t]?null:(aa[t]=!0,()=>{aa[t]=!1}):aa.x||aa.y?null:(aa.x=aa.y=!0,()=>{aa.x=aa.y=!1})}const p6=new Set(["width","height","top","left","right","bottom",...ym]);let z_;function Ste(){z_=void 0}const $a={now:()=>(z_===void 0&&$a.set(Ti.isProcessing||yee.useManualTiming?Ti.timestamp:performance.now()),z_),set:t=>{z_=t,queueMicrotask(Ste)}};function sN(t,e){t.indexOf(e)===-1&&t.push(e)}function oN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class aN{constructor(){this.subscriptions=[]}add(e){return sN(this.subscriptions,e),()=>oN(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function m6(t,e){return e?t*(1e3/e):0}const zD=30,Mte=t=>!isNaN(parseFloat(t));class Ete{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=$a.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$a.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aN);const r=this.events[e].add(n);return e==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$a.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zD);return m6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fv(t,e){return new Ete(t,e)}function Tte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fv(n))}function Ate(t,e){const n=kw(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Bee(s[o]);Tte(t,o,a)}}function Pte(t){return!!(Hi(t)&&t.add)}function DC(t,e){const n=t.getValue("willChange");if(Pte(n))return n.add(e)}function g6(t){return t.props[$W]}const v6=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Cte=1e-7,Rte=12;function Ote(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=v6(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Cte&&++a<Rte);return o}function Ky(t,e,n,r){if(t===e&&n===r)return Js;const i=s=>Ote(s,0,1,t,n);return s=>s===0||s===1?s:v6(i(s),e,r)}const y6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,x6=t=>e=>1-t(1-e),_6=Ky(.33,1.53,.69,.99),lN=x6(_6),b6=y6(lN),w6=t=>(t*=2)<1?.5*lN(t):.5*(2-Math.pow(2,-10*(t-1))),uN=t=>1-Math.sin(Math.acos(t)),S6=x6(uN),M6=y6(uN),E6=t=>/^0[^.\s]+$/u.test(t);function Nte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||E6(t):!0}const mv=t=>Math.round(t*1e5)/1e5,cN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ite(t){return t==null}const Lte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fN=(t,e)=>n=>!!(typeof n=="string"&&Lte.test(n)&&n.startsWith(t)||e&&!Ite(n)&&Object.prototype.hasOwnProperty.call(n,e)),T6=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(cN);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Dte=t=>au(0,255,t),W1={...xm,transform:t=>Math.round(Dte(t))},Kf={test:fN("rgb","red"),parse:T6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+W1.transform(t)+", "+W1.transform(e)+", "+W1.transform(n)+", "+mv(kv.transform(r))+")"};function kte(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kC={test:fN("#"),parse:kte,transform:Kf.transform},cp={test:fN("hsl","hue"),parse:T6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ga.transform(mv(e))+", "+Ga.transform(mv(n))+", "+mv(kv.transform(r))+")"},ji={test:t=>Kf.test(t)||kC.test(t)||cp.test(t),parse:t=>Kf.test(t)?Kf.parse(t):cp.test(t)?cp.parse(t):kC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kf.transform(t):cp.transform(t)},Fte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ute(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cN))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Fte))===null||n===void 0?void 0:n.length)||0)>0}const A6="number",P6="color",Bte="var",jte="var(",VD="${}",zte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(zte,l=>(ji.test(l)?(r.color.push(s),i.push(P6),n.push(ji.parse(l))):l.startsWith(jte)?(r.var.push(s),i.push(Bte),n.push(l)):(r.number.push(s),i.push(A6),n.push(parseFloat(l))),++s,VD)).split(VD);return{values:n,split:a,indexes:r,types:i}}function C6(t){return Uv(t).values}function R6(t){const{split:e,types:n}=Uv(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===A6?s+=mv(i[o]):a===P6?s+=ji.transform(i[o]):s+=i[o]}return s}}const Vte=t=>typeof t=="number"?0:t;function Hte(t){const e=C6(t);return R6(t)(e.map(Vte))}const Mc={test:Ute,parse:C6,createTransformer:R6,getAnimatableNone:Hte},Wte=new Set(["brightness","contrast","saturate","opacity"]);function Gte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cN)||[];if(!r)return t;const i=n.replace(r,"");let s=Wte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const $te=/\b([a-z-]*)\(.*?\)/gu,FC={...Mc,getAnimatableNone:t=>{const e=t.match($te);return e?e.map(Gte).join(" "):t}},qte={...KO,color:ji,backgroundColor:ji,outlineColor:ji,fill:ji,stroke:ji,borderColor:ji,borderTopColor:ji,borderRightColor:ji,borderBottomColor:ji,borderLeftColor:ji,filter:FC,WebkitFilter:FC},dN=t=>qte[t];function O6(t,e){let n=dN(t);return n!==FC&&(n=Mc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Xte=new Set(["auto","none","0"]);function Kte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Xte.has(s)&&Uv(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=O6(n,i)}const HD=t=>t===xm||t===kt,WD=(t,e)=>parseFloat(t.split(", ")[e]),GD=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return WD(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?WD(s[1],t):0}},Yte=new Set(["x","y","z"]),Zte=ym.filter(t=>!Yte.has(t));function Qte(t){const e=[];return Zte.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:GD(4,13),y:GD(5,14)};Bp.translateX=Bp.x;Bp.translateY=Bp.y;const id=new Set;let UC=!1,BC=!1;function N6(){if(BC){const t=Array.from(id).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Qte(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}BC=!1,UC=!1,id.forEach(t=>t.complete()),id.clear()}function I6(){id.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(BC=!0)})}function Jte(){I6(),N6()}class hN{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(id.add(this),UC||(UC=!0,tr.read(I6),tr.resolveKeyframes(N6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),id.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,id.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const L6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ene=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tne(t){const e=ene.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function D6(t,e,n=1){const[r,i]=tne(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return L6(o)?parseFloat(o):o}return XO(i)?D6(i,e,n+1):i}const k6=t=>e=>e.test(t),nne={test:t=>t==="auto",parse:t=>t},F6=[xm,kt,Ga,fc,Gee,Wee,nne],$D=t=>F6.find(k6(t));class U6 extends hN{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),XO(u))){const f=D6(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!p6.has(r)||e.length!==2)return;const[i,s]=e,o=$D(i),a=$D(s);if(o!==a)if(HD(o)&&HD(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Nte(e[i])&&r.push(i);r.length&&Kte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Bp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const qD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mc.test(t)||t==="0")&&!t.startsWith("url("));function rne(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ine(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=qD(i,e),a=qD(s,e);return!o||!a?!1:rne(t)||(n==="spring"||nN(n))&&r}const sne=t=>t!==null;function Fw(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sne),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const one=40;class B6{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$a.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>one?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Jte(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$a.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!ine(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Fw(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dr=(t,e,n)=>t+(e-t)*n;function G1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ane({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=G1(l,a,t+1/3),s=G1(l,a,t),o=G1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lb(t,e){return n=>n>0?e:t}const $1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lne=[kC,Kf,cp],une=t=>lne.find(e=>e.test(t));function XD(t){const e=une(t);if(!e)return!1;let n=e.parse(t);return e===cp&&(n=ane(n)),n}const KD=(t,e)=>{const n=XD(t),r=XD(e);if(!n||!r)return lb(t,e);const i={...n};return s=>(i.red=$1(n.red,r.red,s),i.green=$1(n.green,r.green,s),i.blue=$1(n.blue,r.blue,s),i.alpha=dr(n.alpha,r.alpha,s),Kf.transform(i))},cne=(t,e)=>n=>e(t(n)),Yy=(...t)=>t.reduce(cne),jC=new Set(["none","hidden"]);function fne(t,e){return jC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dne(t,e){return n=>dr(t,e,n)}function pN(t){return typeof t=="number"?dne:typeof t=="string"?XO(t)?lb:ji.test(t)?KD:mne:Array.isArray(t)?j6:typeof t=="object"?ji.test(t)?KD:hne:lb}function j6(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>pN(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function hne(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=pN(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function pne(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const mne=(t,e)=>{const n=Mc.createTransformer(e),r=Uv(t),i=Uv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jC.has(t)&&!i.values.length||jC.has(e)&&!r.values.length?fne(t,e):Yy(j6(pne(r,i),i.values),n):lb(t,e)};function z6(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dr(t,e,n):pN(t)(t,e)}const gne=5;function V6(t,e,n){const r=Math.max(e-gne,0);return m6(n-t(r),e-r)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},q1=.001;function vne({duration:t=_r.duration,bounce:e=_r.bounce,velocity:n=_r.velocity,mass:r=_r.mass}){let i,s,o=1-e;o=au(_r.minDamping,_r.maxDamping,o),t=au(_r.minDuration,_r.maxDuration,Ql(t)),o<1?(i=u=>{const f=u*o,d=f*t,p=f-n,v=zC(u,o),x=Math.exp(-d);return q1-p/v*x},s=u=>{const d=u*o*t,p=d*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-d),b=zC(Math.pow(u,2),o);return(-i(u)+q1>0?-1:1)*((p-v)*x)/b}):(i=u=>{const f=Math.exp(-u*t),d=(u-n)*t+1;return-q1+f*d},s=u=>{const f=Math.exp(-u*t),d=(n-u)*(t*t);return f*d});const a=5/t,l=xne(i,s,a);if(t=Zl(t),isNaN(l))return{stiffness:_r.stiffness,damping:_r.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const yne=12;function xne(t,e,n){let r=n;for(let i=1;i<yne;i++)r=r-t(r)/e(r);return r}function zC(t,e){return t*Math.sqrt(1-e*e)}const _ne=["duration","bounce"],bne=["stiffness","damping","mass"];function YD(t,e){return e.some(n=>t[n]!==void 0)}function wne(t){let e={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...t};if(!YD(t,bne)&&YD(t,_ne))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*au(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_r.mass,stiffness:i,damping:s}}else{const n=vne(t);e={...e,...n,mass:_r.mass},e.isResolvedFromDuration=!0}return e}function H6(t=_r.visualDuration,e=_r.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:d,velocity:p,isResolvedFromDuration:v}=wne({...n,velocity:-Ql(n.velocity||0)}),x=p||0,b=u/(2*Math.sqrt(l*f)),y=o-s,w=Ql(Math.sqrt(l/f)),M=Math.abs(y)<5;r||(r=M?_r.restSpeed.granular:_r.restSpeed.default),i||(i=M?_r.restDelta.granular:_r.restDelta.default);let S;if(b<1){const P=zC(w,b);S=O=>{const I=Math.exp(-b*w*O);return o-I*((x+b*w*y)/P*Math.sin(P*O)+y*Math.cos(P*O))}}else if(b===1)S=P=>o-Math.exp(-w*P)*(y+(x+w*y)*P);else{const P=w*Math.sqrt(b*b-1);S=O=>{const I=Math.exp(-b*w*O),k=Math.min(P*O,300);return o-I*((x+b*w*y)*Math.sinh(k)+P*y*Math.cosh(k))/P}}const A={calculatedDuration:v&&d||null,next:P=>{const O=S(P);if(v)a.done=P>=d;else{let I=0;b<1&&(I=P===0?Zl(x):V6(S,P,O));const k=Math.abs(I)<=r,L=Math.abs(o-O)<=i;a.done=k&&L}return a.value=a.done?o:O,a},toString:()=>{const P=Math.min(a6(A),IC),O=l6(I=>A.next(P*I).value,P,30);return P+"ms "+O}};return A}function ZD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=t[0],p={done:!1,value:d},v=k=>a!==void 0&&k<a||l!==void 0&&k>l,x=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let b=n*e;const y=d+b,w=o===void 0?y:o(y);w!==y&&(b=w-d);const M=k=>-b*Math.exp(-k/r),S=k=>w+M(k),A=k=>{const L=M(k),F=S(k);p.done=Math.abs(L)<=u,p.value=p.done?w:F};let P,O;const I=k=>{v(p.value)&&(P=k,O=H6({keyframes:[p.value,x(p.value)],velocity:V6(S,k,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return I(0),{calculatedDuration:null,next:k=>{let L=!1;return!O&&P===void 0&&(L=!0,A(k),I(k)),P!==void 0&&k>=P?O.next(k-P):(!L&&A(k),p)}}}const Sne=Ky(.42,0,1,1),Mne=Ky(0,0,.58,1),W6=Ky(.42,0,.58,1),Ene=t=>Array.isArray(t)&&typeof t[0]!="number",Tne={linear:Js,easeIn:Sne,easeInOut:W6,easeOut:Mne,circIn:uN,circInOut:M6,circOut:S6,backIn:lN,backInOut:b6,backOut:_6,anticipate:w6},QD=t=>{if(rN(t)){zW(t.length===4);const[e,n,r,i]=t;return Ky(e,n,r,i)}else if(typeof t=="string")return Tne[t];return t};function Ane(t,e,n){const r=[],i=n||z6,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Js:e;a=Yy(l,a)}r.push(a)}return r}function Pne(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(zW(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Ane(e,r,i),l=a.length,u=f=>{if(o&&f<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(f<t[d+1]);d++);const p=Fp(t[d],t[d+1],f);return a[d](p)};return n?f=>u(au(t[0],t[s-1],f)):u}function Cne(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fp(0,e,r);t.push(dr(n,1,i))}}function Rne(t){const e=[0];return Cne(e,t.length-1),e}function One(t,e){return t.map(n=>n*e)}function Nne(t,e){return t.map(()=>e||W6).splice(0,t.length-1)}function ub({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Ene(r)?r.map(QD):QD(r),s={done:!1,value:e[0]},o=One(n&&n.length===e.length?n:Rne(e),t),a=Pne(o,e,{ease:Array.isArray(i)?i:Nne(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Ine=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tr.update(e,!0),stop:()=>Sc(e),now:()=>Ti.isProcessing?Ti.timestamp:$a.now()}},Lne={decay:ZD,inertia:ZD,tween:ub,keyframes:ub,spring:H6},Dne=t=>t/100;class mN extends B6{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||hN,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=nN(n)?n:Lne[n]||ub;let l,u;a!==ub&&typeof e[0]!="number"&&(l=Yy(Dne,z6(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=a6(f));const{calculatedDuration:d}=f,p=d+i,v=p*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:x,repeatDelay:b,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),M=this.speed>=0?w<0:w>f;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let S=this.currentTime,A=s;if(v){const k=Math.min(this.currentTime,f)/d;let L=Math.floor(k),F=k%1;!F&&k>=1&&(F=1),F===1&&L--,L=Math.min(L,v+1),L%2&&(x==="reverse"?(F=1-F,b&&(F-=b/d)):x==="mirror"&&(A=o)),S=au(0,1,F)*d}const P=M?{done:!1,value:l[0]}:A.next(S);a&&(P.value=a(P.value));let{done:O}=P;!M&&u!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&i!==void 0&&(P.value=Fw(l,this.options,i)),y&&y(P.value),I&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Ql(e.calculatedDuration):0}get time(){return Ql(this.currentTime)}set time(e){e=Zl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ql(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ine,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kne=new Set(["opacity","clipPath","filter","transform"]);function Fne(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const f=c6(a,i);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Une=zO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cb=10,Bne=2e4;function jne(t){return nN(t.type)||t.type==="spring"||!u6(t.ease)}function zne(t,e){const n=new mN({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Bne;)r=n.sample(s),i.push(r.value),s+=cb;return{times:void 0,keyframes:i,duration:s-cb,ease:"linear"}}const G6={anticipate:w6,backInOut:b6,circInOut:M6};function Vne(t){return t in G6}class JD extends B6{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new U6(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&ab()&&Vne(s)&&(s=G6[s]),jne(this.options)){const{onComplete:d,onUpdate:p,motionValue:v,element:x,...b}=this.options,y=zne(e,b);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const f=Fne(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(FD(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:d}=this.options;a.set(Fw(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ql(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ql(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Js;const{animation:r}=n;FD(r,e)}return Js}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:d,element:p,...v}=this.options,x=new mN({...v,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Zl(this.time);u.setWithVelocity(x.sample(b-cb).value,x.sample(b).value,cb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return Une()&&r&&kne.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Hne={type:"spring",stiffness:500,damping:25,restSpeed:10},Wne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gne={type:"keyframes",duration:.8},$ne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qne=(t,{keyframes:e})=>e.length>2?Gne:Ad.has(t)?t.startsWith("scale")?Wne(e[1]):Hne:$ne;function Xne({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const gN=(t,e,n,r={},i,s)=>o=>{const a=tN(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Zl(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Xne(a)||(f={...f,...qne(t,f)}),f.duration&&(f.duration=Zl(f.duration)),f.repeatDelay&&(f.repeatDelay=Zl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=Fw(f.keyframes,a);if(p!==void 0)return tr.update(()=>{f.onUpdate(p),f.onComplete()}),new hte([])}return!s&&JD.supports(f)?new JD(f):new mN(f)};function Kne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $6(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),v=l[d];if(v===void 0||f&&Kne(f,d))continue;const x={delay:n,...tN(o||{},d)};let b=!1;if(window.MotionHandoffAnimation){const w=g6(t);if(w){const M=window.MotionHandoffAnimation(w,d,tr);M!==null&&(x.startTime=M,b=!0)}}DC(t,d),p.start(gN(d,p,v,t.shouldReduceMotion&&p6.has(d)?{type:!1}:x,t,b));const y=p.animation;y&&u.push(y)}return a&&Promise.all(u).then(()=>{tr.update(()=>{a&&Ate(t,a)})}),u}function VC(t,e,n={}){var r;const i=kw(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all($6(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=s;return Yne(t,e,f+u,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function Yne(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Zne).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(VC(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Zne(t,e){return t.sortNodePosition(e)}function Qne(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>VC(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=VC(t,e,n);else{const i=typeof e=="function"?kw(t,e,n.custom):e;r=Promise.all($6(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Jne=HO.length;function q6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Jne;n++){const r=HO[n],i=t.props[r];(Dv(i)||i===!1)&&(e[r]=i)}return e}const ere=[...VO].reverse(),tre=VO.length;function nre(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Qne(t,n,r)))}function rre(t){let e=nre(t),n=ek(),r=!0;const i=l=>(u,f)=>{var d;const p=kw(t,f,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:v,transitionEnd:x,...b}=p;u={...u,...b,...x}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,f=q6(t.parent)||{},d=[],p=new Set;let v={},x=1/0;for(let y=0;y<tre;y++){const w=ere[y],M=n[w],S=u[w]!==void 0?u[w]:f[w],A=Dv(S),P=w===l?M.isActive:null;P===!1&&(x=y);let O=S===f[w]&&S!==u[w]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),M.protectedKeys={...v},!M.isActive&&P===null||!S&&!M.prevProp||Lw(S)||typeof S=="boolean")continue;const I=ire(M.prevProp,S);let k=I||w===l&&M.isActive&&!O&&A||y>x&&A,L=!1;const F=Array.isArray(S)?S:[S];let j=F.reduce(i(w),{});P===!1&&(j={});const{prevResolvedValues:H={}}=M,q={...H,...j},X=ee=>{k=!0,p.has(ee)&&(L=!0,p.delete(ee)),M.needsAnimating[ee]=!0;const V=t.getValue(ee);V&&(V.liveStyle=!1)};for(const ee in q){const V=j[ee],K=H[ee];if(v.hasOwnProperty(ee))continue;let Q=!1;NC(V)&&NC(K)?Q=!o6(V,K):Q=V!==K,Q?V!=null?X(ee):p.add(ee):V!==void 0&&p.has(ee)?X(ee):M.protectedKeys[ee]=!0}M.prevProp=S,M.prevResolvedValues=j,M.isActive&&(v={...v,...j}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(O&&I)||L)&&d.push(...F.map(ee=>({animation:ee,options:{type:w}})))}if(p.size){const y={};p.forEach(w=>{const M=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),y[w]=M??null}),d.push({animation:y})}let b=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(d):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=ek(),r=!0}}}function ire(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o6(e,t):!1}function Tf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ek(){return{animate:Tf(!0),whileInView:Tf(),whileHover:Tf(),whileTap:Tf(),whileDrag:Tf(),whileFocus:Tf(),exit:Tf()}}class Pc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sre extends Pc{constructor(e){super(e),e.animationState||(e.animationState=rre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ore=0;class are extends Pc{constructor(){super(...arguments),this.id=ore++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lre={animation:{Feature:sre},exit:{Feature:are}};function Bv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Zy(t){return{point:{x:t.pageX,y:t.pageY}}}const ure=t=>e=>iN(e)&&t(e,Zy(e));function gv(t,e,n,r){return Bv(t,e,ure(n),r)}const tk=(t,e)=>Math.abs(t-e);function cre(t,e){const n=tk(t.x,e.x),r=tk(t.y,e.y);return Math.sqrt(n**2+r**2)}class X6{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=K1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=cre(d.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:x}=d,{timestamp:b}=Ti;this.history.push({...x,timestamp:b});const{onStart:y,onMove:w}=this.handlers;p||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=X1(p,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=K1(d.type==="pointercancel"?this.lastMoveEventInfo:X1(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,y),x&&x(d,y)},!iN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Zy(e),a=X1(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ti;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,K1(a,this.history)),this.removeListeners=Yy(gv(this.contextWindow,"pointermove",this.handlePointerMove),gv(this.contextWindow,"pointerup",this.handlePointerUp),gv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sc(this.updatePoint)}}function X1(t,e){return e?{point:e(t.point)}:t}function nk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function K1({point:t},e){return{point:t,delta:nk(t,K6(e)),offset:nk(t,fre(e)),velocity:dre(e,.1)}}function fre(t){return t[0]}function K6(t){return t[t.length-1]}function dre(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=K6(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Zl(e)));)n--;if(!r)return{x:0,y:0};const s=Ql(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Y6=1e-4,hre=1-Y6,pre=1+Y6,Z6=.01,mre=0-Z6,gre=0+Z6;function no(t){return t.max-t.min}function vre(t,e,n){return Math.abs(t-e)<=n}function rk(t,e,n,r=.5){t.origin=r,t.originPoint=dr(e.min,e.max,t.origin),t.scale=no(n)/no(e),t.translate=dr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hre&&t.scale<=pre||isNaN(t.scale))&&(t.scale=1),(t.translate>=mre&&t.translate<=gre||isNaN(t.translate))&&(t.translate=0)}function vv(t,e,n,r){rk(t.x,e.x,n.x,r?r.originX:void 0),rk(t.y,e.y,n.y,r?r.originY:void 0)}function ik(t,e,n){t.min=n.min+e.min,t.max=t.min+no(e)}function yre(t,e,n){ik(t.x,e.x,n.x),ik(t.y,e.y,n.y)}function sk(t,e,n){t.min=e.min-n.min,t.max=t.min+no(e)}function yv(t,e,n){sk(t.x,e.x,n.x),sk(t.y,e.y,n.y)}function xre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dr(n,t,r.max):Math.min(t,n)),t}function ok(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _re(t,{top:e,left:n,bottom:r,right:i}){return{x:ok(t.x,n,i),y:ok(t.y,e,r)}}function ak(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bre(t,e){return{x:ak(t.x,e.x),y:ak(t.y,e.y)}}function wre(t,e){let n=.5;const r=no(t),i=no(e);return i>r?n=Fp(e.min,e.max-r,t.min):r>i&&(n=Fp(t.min,t.max-i,e.min)),au(0,1,n)}function Sre(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const HC=.35;function Mre(t=HC){return t===!1?t=0:t===!0&&(t=HC),{x:lk(t,"left","right"),y:lk(t,"top","bottom")}}function lk(t,e,n){return{min:uk(t,e),max:uk(t,n)}}function uk(t,e){return typeof t=="number"?t:t[e]||0}const ck=()=>({translate:0,scale:1,origin:0,originPoint:0}),fp=()=>({x:ck(),y:ck()}),fk=()=>({min:0,max:0}),Pr=()=>({x:fk(),y:fk()});function _o(t){return[t("x"),t("y")]}function Q6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ere({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tre(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Y1(t){return t===void 0||t===1}function WC({scale:t,scaleX:e,scaleY:n}){return!Y1(t)||!Y1(e)||!Y1(n)}function zf(t){return WC(t)||J6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J6(t){return dk(t.x)||dk(t.y)}function dk(t){return t&&t!=="0%"}function fb(t,e,n){const r=t-n,i=e*r;return n+i}function hk(t,e,n,r,i){return i!==void 0&&(t=fb(t,i,r)),fb(t,n,r)+e}function GC(t,e=0,n=1,r,i){t.min=hk(t.min,e,n,r,i),t.max=hk(t.max,e,n,r,i)}function e8(t,{x:e,y:n}){GC(t.x,e.translate,e.scale,e.originPoint),GC(t.y,n.translate,n.scale,n.originPoint)}const pk=.999999999999,mk=1.0000000000001;function Are(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,e8(t,o)),r&&zf(s.latestValues)&&hp(t,s.latestValues))}e.x<mk&&e.x>pk&&(e.x=1),e.y<mk&&e.y>pk&&(e.y=1)}function dp(t,e){t.min=t.min+e,t.max=t.max+e}function gk(t,e,n,r,i=.5){const s=dr(t.min,t.max,i);GC(t,e,n,s,r)}function hp(t,e){gk(t.x,e.x,e.scaleX,e.scale,e.originX),gk(t.y,e.y,e.scaleY,e.scale,e.originY)}function t8(t,e){return Q6(Tre(t.getBoundingClientRect(),e))}function Pre(t,e,n){const r=t8(t,n),{scroll:i}=e;return i&&(dp(r.x,i.offset.x),dp(r.y,i.offset.y)),r}const n8=({current:t})=>t?t.ownerDocument.defaultView:null,Cre=new WeakMap;class Rre{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zy(f).point)},s=(f,d)=>{const{drag:p,dragPropagation:v,onDragStart:x}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wte(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_o(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Ga.test(w)){const{projection:M}=this.visualElement;if(M&&M.layout){const S=M.layout.layoutBox[y];S&&(w=no(S)*(parseFloat(w)/100))}}this.originPoint[y]=w}),x&&tr.postRender(()=>x(f,d)),DC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:x,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=d;if(v&&this.currentDirection===null){this.currentDirection=Ore(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),b&&b(f,d)},a=(f,d)=>this.stop(f,d),l=()=>_o(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new X6(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:n8(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&tr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&up(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_re(i.layoutBox,n):this.constraints=!1,this.elastic=Mre(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_o(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sre(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!up(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Pre(r,i.root,this.visualElement.getTransformPagePoint());let o=bre(i.layout.layoutBox,s);if(n){const a=n(Ere(o));this.hasMutatedConstraints=!!a,a&&(o=Q6(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=_o(f=>{if(!Tx(f,n,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return DC(this.visualElement,e),r.start(gN(e,r,0,n,this.visualElement,!1))}stopAnimation(){_o(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_o(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_o(n=>{const{drag:r}=this.getProps();if(!Tx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-dr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!up(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_o(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=wre({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_o(o=>{if(!Tx(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(dr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Cre.set(this.visualElement,this);const e=this.visualElement.current,n=gv(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();up(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tr.read(r);const o=Bv(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(_o(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=HC,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ore(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Nre extends Pc{constructor(e){super(e),this.removeGroupControls=Js,this.removeListeners=Js,this.controls=new Rre(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Js}unmount(){this.removeGroupControls(),this.removeListeners()}}const vk=t=>(e,n)=>{t&&tr.postRender(()=>t(e,n))};class Ire extends Pc{constructor(){super(...arguments),this.removePointerDownListener=Js}onPointerDown(e){this.session=new X6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vk(e),onStart:vk(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&tr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=gv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const V_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ng={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kt.test(t))t=parseFloat(t);else return t;const n=yk(t,e.target.x),r=yk(t,e.target.y);return`${n}% ${r}%`}},Lre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mc.parse(t);if(i.length>5)return r;const s=Mc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=dr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Dre extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;tte(kre),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),V_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r8(t){const[e,n]=BW(),r=B.useContext(FO);return C.jsx(Dre,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(qW),isPresent:e,safeToRemove:n})}const kre={borderRadius:{...Ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ng,borderTopRightRadius:Ng,borderBottomLeftRadius:Ng,borderBottomRightRadius:Ng,boxShadow:Lre};function Fre(t,e,n){const r=Hi(t)?t:Fv(t);return r.start(gN("",r,e,n)),r.animation}function Ure(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Bre=(t,e)=>t.depth-e.depth;class jre{constructor(){this.children=[],this.isDirty=!1}add(e){sN(this.children,e),this.isDirty=!0}remove(e){oN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bre),this.isDirty=!1,this.children.forEach(e)}}function zre(t,e){const n=$a.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Sc(r),t(s-e))};return tr.read(r,!0),()=>Sc(r)}const i8=["TopLeft","TopRight","BottomLeft","BottomRight"],Vre=i8.length,xk=t=>typeof t=="string"?parseFloat(t):t,_k=t=>typeof t=="number"||kt.test(t);function Hre(t,e,n,r,i,s){i?(t.opacity=dr(0,n.opacity!==void 0?n.opacity:1,Wre(r)),t.opacityExit=dr(e.opacity!==void 0?e.opacity:1,0,Gre(r))):s&&(t.opacity=dr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Vre;o++){const a=`border${i8[o]}Radius`;let l=bk(e,a),u=bk(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_k(l)===_k(u)?(t[a]=Math.max(dr(xk(l),xk(u),r),0),(Ga.test(u)||Ga.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=dr(e.rotate||0,n.rotate||0,r))}function bk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wre=s8(0,.5,S6),Gre=s8(.5,.95,Js);function s8(t,e,n){return r=>r<t?0:r>e?1:n(Fp(t,e,r))}function wk(t,e){t.min=e.min,t.max=e.max}function mo(t,e){wk(t.x,e.x),wk(t.y,e.y)}function Sk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mk(t,e,n,r,i){return t-=e,t=fb(t,1/n,r),i!==void 0&&(t=fb(t,1/i,r)),t}function $re(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ga.test(e)&&(e=parseFloat(e),e=dr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=dr(s.min,s.max,r);t===s&&(a-=e),t.min=Mk(t.min,e,n,a,i),t.max=Mk(t.max,e,n,a,i)}function Ek(t,e,[n,r,i],s,o){$re(t,e[n],e[r],e[i],e.scale,s,o)}const qre=["x","scaleX","originX"],Xre=["y","scaleY","originY"];function Tk(t,e,n,r){Ek(t.x,e,qre,n?n.x:void 0,r?r.x:void 0),Ek(t.y,e,Xre,n?n.y:void 0,r?r.y:void 0)}function Ak(t){return t.translate===0&&t.scale===1}function o8(t){return Ak(t.x)&&Ak(t.y)}function Pk(t,e){return t.min===e.min&&t.max===e.max}function Kre(t,e){return Pk(t.x,e.x)&&Pk(t.y,e.y)}function Ck(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function a8(t,e){return Ck(t.x,e.x)&&Ck(t.y,e.y)}function Rk(t){return no(t.x)/no(t.y)}function Ok(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Yre{constructor(){this.members=[]}add(e){sN(this.members,e),e.scheduleRender()}remove(e){if(oN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zre(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:p,skewX:v,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Vf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},av=typeof window<"u"&&window.MotionDebug!==void 0,Z1=["","X","Y","Z"],Qre={visibility:"hidden"},Nk=1e3;let Jre=0;function Q1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function l8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=g6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&l8(r)}function u8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=Jre++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,av&&(Vf.totalNodes=Vf.resolvedTargetDeltas=Vf.recalculatedProjection=0),this.nodes.forEach(nie),this.nodes.forEach(aie),this.nodes.forEach(lie),this.nodes.forEach(rie),av&&window.MotionDebug.record(Vf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jre)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aN),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ure(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=zre(p,250),V_.hasAnimatedSinceResize&&(V_.hasAnimatedSinceResize=!1,this.nodes.forEach(Lk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||hie,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=f.getProps(),M=!this.targetLayout||!a8(this.targetLayout,x)||v,S=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...tN(b,"layout"),onPlay:y,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||Lk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ik);return}this.isUpdating||this.nodes.forEach(sie),this.isUpdating=!1,this.nodes.forEach(oie),this.nodes.forEach(eie),this.nodes.forEach(tie),this.clearAllSnapshots();const a=$a.now();Ti.delta=au(0,1e3/60,a-Ti.timestamp),Ti.timestamp=a,Ti.isProcessing=!0,V1.update.process(Ti),V1.preRender.process(Ti),V1.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iie),this.sharedNodes.forEach(cie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!o8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||zf(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Pr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mie))){const{scroll:f}=this.root;f&&(dp(l.x,f.offset.x),dp(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Pr();if(mo(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&mo(l,o),dp(l.x,d.offset.x),dp(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Pr();mo(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&hp(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),zf(f.latestValues)&&hp(l,f.latestValues)}return zf(this.latestValues)&&hp(l,this.latestValues),l}removeTransform(o){const a=Pr();mo(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!zf(u.latestValues))continue;WC(u.latestValues)&&u.updateSnapshot();const f=Pr(),d=u.measurePageBox();mo(f,d),Tk(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return zf(this.latestValues)&&Tk(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Ti.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),yv(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mo(this.target,this.layout.layoutBox),e8(this.target,this.targetDelta)):mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),yv(this.relativeTargetOrigin,this.target,v.target),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}av&&Vf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||WC(this.parent.latestValues)||J6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;mo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;Are(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pr());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sk(this.prevProjectionDelta.x,this.projectionDelta.x),Sk(this.prevProjectionDelta.y,this.projectionDelta.y)),vv(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!Ok(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ok(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),av&&Vf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fp(),this.projectionDelta=fp(),this.projectionDeltaWithTransform=fp()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=fp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Pr(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,y=this.getStack(),w=!y||y.members.length<=1,M=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(die));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const P=A/1e3;Dk(d.x,o.x,P),Dk(d.y,o.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fie(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&Kre(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Pr()),mo(S,this.relativeTarget)),b&&(this.animationValues=f,Hre(f,u,this.latestValues,P,M,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{V_.hasAnimatedSinceResize=!0,this.currentAnimation=Fre(0,Nk,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&c8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Pr();const d=no(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=no(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}mo(a,l),hp(a,f),vv(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yre),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Q1("z",o,u,this.animationValues);for(let f=0;f<Z1.length;f++)Q1(`rotate${Z1[f]}`,o,u,this.animationValues),Q1(`skew${Z1[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qre;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=j_(o?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=j_(o?.pointerEvents)||""),this.hasProjected&&!zf(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Zre(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in ob){if(p[b]===void 0)continue;const{correct:y,applyTo:w}=ob[b],M=u.transform==="none"?p[b]:y(p[b],d);if(w){const S=w.length;for(let A=0;A<S;A++)u[w[A]]=M}else u[b]=M}return this.options.layoutId&&(u.pointerEvents=d===this?j_(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ik),this.root.sharedNodes.clear()}}}function eie(t){t.updateLayout()}function tie(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?_o(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],v=no(p);p.min=r[d].min,p.max=p.min+v}):c8(s,n.layoutBox,r)&&_o(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],v=no(r[d]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=fp();vv(a,r,n.layoutBox);const l=fp();o?vv(l,t.applyTransform(i,!0),n.measuredBox):vv(l,r,n.layoutBox);const u=!o8(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:v}=d;if(p&&v){const x=Pr();yv(x,n.layoutBox,p.layoutBox);const b=Pr();yv(b,r,v.layoutBox),a8(x,b)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nie(t){av&&Vf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iie(t){t.clearSnapshot()}function Ik(t){t.clearMeasurements()}function sie(t){t.isLayoutDirty=!1}function oie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Lk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aie(t){t.resolveTargetDelta()}function lie(t){t.calcProjection()}function uie(t){t.resetSkewAndRotation()}function cie(t){t.removeLeadSnapshot()}function Dk(t,e,n){t.translate=dr(e.translate,0,n),t.scale=dr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kk(t,e,n,r){t.min=dr(e.min,n.min,r),t.max=dr(e.max,n.max,r)}function fie(t,e,n,r){kk(t.x,e.x,n.x,r),kk(t.y,e.y,n.y,r)}function die(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hie={duration:.45,ease:[.4,0,.1,1]},Fk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Uk=Fk("applewebkit/")&&!Fk("chrome/")?Math.round:Js;function Bk(t){t.min=Uk(t.min),t.max=Uk(t.max)}function pie(t){Bk(t.x),Bk(t.y)}function c8(t,e,n){return t==="position"||t==="preserve-aspect"&&!vre(Rk(e),Rk(n),.2)}function mie(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gie=u8({attachResizeListener:(t,e)=>Bv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),J1={current:void 0},f8=u8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!J1.current){const t=new gie({});t.mount(window),t.setOptions({layoutScroll:!0}),J1.current=t}return J1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vie={pan:{Feature:Ire},drag:{Feature:Nre,ProjectionNode:f8,MeasureLayout:r8}};function jk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tr.postRender(()=>s(e,Zy(e)))}class yie extends Pc{mount(){const{current:e}=this.node;e&&(this.unmount=vte(e,n=>(jk(this.node,n,"Start"),r=>jk(this.node,r,"End"))))}unmount(){}}class xie extends Pc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yy(Bv(this.node.current,"focus",()=>this.onFocus()),Bv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zk(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tr.postRender(()=>s(e,Zy(e)))}class _ie extends Pc{mount(){const{current:e}=this.node;e&&(this.unmount=bte(e,n=>(zk(this.node,n,"Start"),(r,{success:i})=>zk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $C=new WeakMap,eM=new WeakMap,bie=t=>{const e=$C.get(t.target);e&&e(t)},wie=t=>{t.forEach(bie)};function Sie({root:t,...e}){const n=t||document;eM.has(n)||eM.set(n,{});const r=eM.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wie,{root:t,...e})),r[i]}function Mie(t,e,n){const r=Sie(e);return $C.set(t,n),r.observe(t),()=>{$C.delete(t),r.unobserve(t)}}const Eie={some:0,all:1};class Tie extends Pc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Eie[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return Mie(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Aie(e,n))&&this.startObserver()}unmount(){}}function Aie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Pie={inView:{Feature:Tie},tap:{Feature:_ie},focus:{Feature:xie},hover:{Feature:yie}},Cie={layout:{ProjectionNode:f8,MeasureLayout:r8}},qC={current:null},d8={current:!1};function Rie(){if(d8.current=!0,!!jO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qC.current=t.matches;t.addListener(e),e()}else qC.current=!1}const Oie=[...F6,ji,Mc],Nie=t=>Oie.find(k6(t)),Vk=new WeakMap;function Iie(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Hi(i))t.addValue(r,i);else if(Hi(s))t.addValue(r,Fv(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Fv(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Hk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lie{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=$a.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,tr.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Dw(n),this.isVariantNode=GW(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const x=p[v];l[v]!==void 0&&Hi(x)&&x.set(l[v],!1)}}mount(e){this.current=e,Vk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),d8.current||Rie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vk.delete(this.current),this.projection&&this.projection.unmount(),Sc(this.notifyUpdate),Sc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ad.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Up){const n=Up[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hk.length;r++){const i=Hk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Iie(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(L6(i)||E6(i))?i=parseFloat(i):!Nie(i)&&Mc.test(n)&&(i=O6(e,n)),this.setBaseTarget(e,Hi(i)?i.get():i)),Hi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=qO(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class h8 extends Lie{constructor(){super(...arguments),this.KeyframeResolver=U6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Die(t){return window.getComputedStyle(t)}class kie extends h8{constructor(){super(...arguments),this.type="html",this.renderInstance=e6}readValueFromInstance(e,n){if(Ad.has(n)){const r=dN(n);return r&&r.default||0}else{const r=Die(e),i=(ZW(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t8(e,n)}build(e,n,r){YO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eN(e,n,r)}}class Fie extends h8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ad.has(n)){const r=dN(n);return r&&r.default||0}return n=t6.has(n)?n:WO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return i6(e,n,r)}build(e,n,r){ZO(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){n6(e,n,r,i)}mount(e){this.isSVGTag=JO(e.tagName),super.mount(e)}}const Uie=(t,e)=>$O(t)?new Fie(e):new kie(e,{allowProjection:t!==B.Fragment}),Bie=cte({...lre,...Pie,...vie,...Cie},Uie),or=Eee(Bie);function jie({onSearch:t,isLoading:e=!1}){const[n,r]=B.useState(""),[i,s]=B.useState(!1),[o,a]=B.useState([]),[l,u]=B.useState(!1),[f,d]=B.useState(-1),[p,v]=B.useState(!1),x=B.useRef(null),b=B.useRef(null),y=B.useRef(null);B.useEffect(()=>{const P=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),x.current?.focus())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]),B.useEffect(()=>{if(y.current&&clearTimeout(y.current),n.length<2){a([]),u(!1);return}return v(!0),y.current=setTimeout(async()=>{try{const P=await fetch(`/api/suggestions?q=${encodeURIComponent(n)}`);if(P.ok){const O=await P.json();a(O.suggestions||[]),u(O.suggestions?.length>0),d(-1)}}catch{a([])}finally{v(!1)}},200),()=>{y.current&&clearTimeout(y.current)}},[n]),B.useEffect(()=>{const P=O=>{b.current&&!b.current.contains(O.target)&&x.current&&!x.current.contains(O.target)&&u(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const w=P=>{P.preventDefault(),n.trim()&&(u(!1),t(n.trim()))},M=P=>{r(P.name),u(!1),t(P.name)},S=()=>{r(""),a([]),u(!1),x.current?.focus()},A=P=>{!l||o.length===0||(P.key==="ArrowDown"?(P.preventDefault(),d(O=>O<o.length-1?O+1:O)):P.key==="ArrowUp"?(P.preventDefault(),d(O=>O>0?O-1:-1)):P.key==="Enter"&&f>=0?(P.preventDefault(),M(o[f])):P.key==="Escape"&&(u(!1),x.current?.blur()))};return C.jsxs("div",{className:"w-full relative max-w-4xl mx-auto",children:[C.jsx("form",{onSubmit:w,className:"relative z-50",children:C.jsxs(or.div,{className:`relative rounded-2xl overflow-hidden transition-shadow duration-300 ${i?"shadow-[0_0_40px_-5px_rgba(249,115,22,0.3)] ring-1 ring-primary/50":"shadow-2xl shadow-black/20 border border-white/5"}`,initial:!1,animate:i?{scale:1.02}:{scale:1},children:[C.jsx("div",{className:"absolute inset-0 bg-[#0f1219]/90 backdrop-blur-xl"}),C.jsxs("div",{className:"relative flex items-center h-14 sm:h-16 px-4 sm:px-6",children:[C.jsx("div",{className:"flex-shrink-0 mr-4 text-muted-foreground",children:p?C.jsx(Mp,{className:"h-5 w-5 animate-spin text-primary"}):C.jsx(MC,{className:`h-5 w-5 transition-colors ${i?"text-primary":""}`})}),C.jsx(UW,{ref:x,type:"text",placeholder:"Sg efter SKU, model (f.eks. 'Zenbook') eller brand...",value:n,onChange:P=>r(P.target.value),onFocus:()=>{s(!0),o.length>0&&u(!0)},onBlur:()=>s(!1),onKeyDown:A,className:"flex-1 h-full bg-transparent border-none text-lg text-foreground placeholder:text-muted-foreground/40 focus-visible:ring-0 p-0",disabled:e,autoComplete:"off"}),n&&C.jsx(cs,{type:"button",variant:"ghost",size:"icon",onClick:S,className:"h-8 w-8 text-muted-foreground hover:text-foreground mr-2",children:C.jsx(SO,{className:"h-4 w-4"})}),C.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[!n&&C.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-white/5 border border-white/5 text-[10px] uppercase font-bold text-muted-foreground/60 tracking-wider",children:[C.jsx("span",{className:"text-xs",children:""}),C.jsx("span",{children:"K"})]}),C.jsxs(cs,{type:"submit",disabled:e||!n.trim(),className:"h-9 px-4 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold rounded-lg text-sm shadow-lg shadow-orange-500/20",children:[C.jsx(Os,{className:"h-4 w-4 mr-2"}),"Find"]})]})]})]})}),C.jsx(qy,{children:l&&o.length>0&&C.jsxs(or.div,{ref:b,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute left-0 right-0 top-full mt-2 z-40 bg-[#0f1219]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden",children:[C.jsxs("div",{className:"py-2",children:[C.jsx("div",{className:"px-4 py-2 text-[10px] uppercase tracking-widest text-muted-foreground/50 font-bold",children:"Forslag"}),o.map((P,O)=>C.jsxs(or.button,{type:"button",whileHover:{backgroundColor:"rgba(255, 255, 255, 0.03)"},onClick:()=>M(P),className:`w-full flex items-center gap-4 px-4 py-3 text-left transition-colors ${f===O?"bg-white/5":""}`,children:[C.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center flex-shrink-0",children:C.jsx(GH,{className:"h-5 w-5 text-muted-foreground"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("span",{className:"font-medium text-foreground truncate pr-4",children:[P.name,P.isHighMargin&&C.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-500/10 text-green-400 uppercase tracking-wide",children:[C.jsx(Os,{className:"h-2 w-2"}),"Anbefalet"]})]}),C.jsxs("span",{className:"text-sm font-bold text-primary whitespace-nowrap",children:[(P.price||0).toLocaleString("da-DK")," kr"]})]}),C.jsx("span",{className:"text-xs text-muted-foreground block mt-0.5",children:P.brand})]})]},P.id))]}),C.jsxs("div",{className:"px-4 py-2 bg-white/[0.02] border-t border-white/5 flex justify-between items-center text-[10px] text-muted-foreground",children:[C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("span",{children:["Tryk ",C.jsx("kbd",{className:"font-sans bg-white/10 px-1 rounded mx-0.5",children:""})," for at vlge"]}),C.jsxs("span",{children:[C.jsx("kbd",{className:"font-sans bg-white/10 px-1 rounded mx-0.5",children:""})," for at navigere"]})]}),C.jsx("span",{children:"PowerPilot v2.0 AI-Search"})]})]})})]})}function zie({data:t,isLoading:e,pdfLoading:n,excelLoading:r,isSyncing:i,onSearch:s,onSync:o,onExportPdf:a,onExportExcel:l}){return C.jsx("header",{className:"sticky top-0 z-[9999] backdrop-blur-xl bg-background/80 border-b border-white/5 animate-fade-in text-foreground",children:C.jsxs("div",{className:"container mx-auto px-6 py-5",children:[C.jsxs("div",{className:"flex items-center justify-between gap-6 flex-wrap md:flex-nowrap",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"relative group cursor-default",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-amber-500 rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity duration-500"}),C.jsx("div",{className:"relative w-12 h-12 rounded-2xl bg-gradient-to-br from-orange-500 via-orange-400 to-amber-500 flex items-center justify-center shadow-2xl transition-transform duration-300 group-hover:scale-105",children:C.jsx(YH,{className:"h-6 w-6 text-white drop-shadow-md"})})]}),C.jsxs("div",{children:[C.jsxs("h1",{className:"text-2xl font-display font-bold tracking-tight flex items-center gap-2",children:[C.jsx("span",{className:"bg-gradient-to-r from-orange-400 via-orange-300 to-amber-400 bg-clip-text text-transparent",children:"Power"}),C.jsx("span",{className:"text-white",children:"Pilot"})]}),C.jsx("p",{className:"text-[10px] text-muted-foreground/60 tracking-[0.2em] uppercase font-medium",children:"Smart Produktrdgivning"})]})]}),C.jsxs("div",{className:"flex items-center gap-3 ml-auto md:ml-0",children:[t&&t.products.length>0&&C.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-white/5 border border-white/10 transition-colors hover:bg-white/[0.07]",children:[C.jsx(cs,{variant:"ghost",size:"icon",onClick:a,disabled:n,className:"h-8 w-8 hover:bg-white/10 text-muted-foreground hover:text-foreground transition-colors",title:"Eksporter til PDF",children:n?C.jsx(Mp,{className:"h-4 w-4 animate-spin"}):C.jsx(FZ,{className:"h-4 w-4"})}),C.jsx("div",{className:"w-px h-4 bg-white/10"}),C.jsx(cs,{variant:"ghost",size:"icon",onClick:l,disabled:r,className:"h-8 w-8 hover:bg-white/10 text-muted-foreground hover:text-foreground transition-colors",title:"Eksporter til Excel",children:r?C.jsx(Mp,{className:"h-4 w-4 animate-spin"}):C.jsx(kZ,{className:"h-4 w-4"})})]}),C.jsxs(cs,{variant:"outline",size:"sm",onClick:o,disabled:i,className:"gap-2 h-9 px-4 border-white/10 hover:bg-white/5 hover:border-orange-500/30 hover:text-orange-400 transition-all duration-300 bg-transparent",children:[i?C.jsx(Mp,{className:"h-4 w-4 animate-spin"}):C.jsx(WZ,{className:"h-4 w-4"}),C.jsx("span",{className:"text-sm font-medium",children:i?"Synkroniserer...":"Synkroniser"})]})]})]}),C.jsx("div",{className:"mt-6",children:C.jsx(jie,{onSearch:s,isLoading:e})})]})})}function Vie(){const{data:t,isLoading:e,isError:n}=Nv({queryKey:["/api/db/status"],queryFn:async()=>{const r=await fetch("/api/db/status");if(!r.ok)throw new Error("Failed to get DB status");return r.json()},refetchInterval:6e4});return e?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-pulse",children:[1,2,3].map(r=>C.jsx("div",{className:"h-24 rounded-2xl bg-white/5 border border-white/5"},r))}):n?C.jsxs("div",{className:"p-4 rounded-xl border border-destructive/20 bg-destructive/10 backdrop-blur-md flex items-center gap-3 text-destructive animate-fade-in",children:[C.jsx(KH,{className:"h-5 w-5"}),C.jsx("span",{className:"font-medium",children:"Kunne ikke forbinde til databasen"})]}):C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-stagger",children:[C.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-5 glass-card group hover:-translate-y-1 transition-transform duration-300",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:C.jsx(DZ,{className:"h-24 w-24 -mr-8 -mt-8 text-orange-500 rotate-12"})}),C.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10 border border-orange-500/20 shadow-[0_0_15px_rgba(249,115,22,0.15)] group-hover:scale-110 transition-transform duration-300",children:C.jsx(HZ,{className:"h-5 w-5 text-orange-400"})}),C.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"Produkter"})]}),C.jsxs("div",{children:[C.jsx("span",{className:"text-3xl font-black text-foreground tracking-tight counter-value",children:t?.productCount||0}),C.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1 font-medium",children:"Totalt indekseret"})]})]})]}),C.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-5 glass-card group hover:-translate-y-1 transition-transform duration-300 border-purple-500/20 hover:border-purple-500/40 hover:shadow-[0_8px_30px_rgba(168,85,247,0.15)]",children:[C.jsx("div",{className:"absolute top-0 right-0 -z-10 h-[150px] w-[150px] bg-purple-500/20 blur-[80px] opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),C.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/10 border border-purple-500/20 shadow-[0_0_15px_rgba(168,85,247,0.15)] group-hover:scale-110 transition-transform duration-300 animate-pulse-subtle",children:C.jsx(Os,{className:"h-5 w-5 text-purple-400"})}),C.jsx("span",{className:"text-xs font-bold text-purple-300/80 uppercase tracking-widest",children:"High Margin"})]}),C.jsxs("div",{children:[C.jsx("span",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 tracking-tight",children:t?.highMarginCount||0}),C.jsx("p",{className:"text-[10px] text-purple-400/60 mt-1 font-medium",children:"Muligheder fundet"})]})]})]}),C.jsx("div",{className:"relative overflow-hidden rounded-2xl p-5 glass-card group hover:-translate-y-1 transition-transform duration-300",children:C.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"p-2.5 rounded-xl bg-emerald-500/10 border border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.15)] group-hover:scale-110 transition-transform duration-300",children:C.jsx(PZ,{className:"h-5 w-5 text-emerald-400"})}),C.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"System Status"})]}),C.jsx("div",{className:"flex items-end justify-between",children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${t?.hasProducts?"bg-emerald-500 shadow-[0_0_10px_#10b981] animate-pulse":"bg-red-500"}`}),C.jsx("span",{className:`text-sm font-bold ${t?.hasProducts?"text-emerald-400":"text-red-400"}`,children:t?.hasProducts?"Online":"Offline"})]}),C.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1 font-medium",children:t?.lastSync?`Sidst opdateret: ${new Date(t.lastSync).toLocaleTimeString()}`:"Afventer synkronisering"})]})})]})})]})}const Hie=xO("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Eo({className:t,variant:e,...n}){return C.jsx("div",{className:_n(Hie({variant:e}),t),...n})}function ma(t){return new Intl.NumberFormat("da-DK",{style:"currency",currency:"DKK",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function Wie({mainProduct:t,topPick:e}){const[n,r]=B.useState(null),[i,s]=B.useState(!1),[o,a]=B.useState(null);B.useEffect(()=>{(async()=>{if(!(!t?.id||!e?.id)){s(!0);try{const f=await fetch("/api/ai-compare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[t.id,e.id]})});if(f.ok){const d=await f.json();r(d.summary)}else console.warn("AI Summary fetch failed")}catch(f){console.error("AI Summary error:",f)}finally{s(!1)}}})()},[t.id,e.id]);const l=[{id:"price",trigger:"For dyr",response:`Regnet per dag over 3 r er det kun ${Math.round((e.priceDifference||0)/1095)} kr ekstra for en markant bedre oplevelse.`},{id:"need",trigger:"Behver ikke",response:"De fleste siger det - indtil de opdager at Chrome og tunge hjemmesider hurtigt sluger al memory p den billige model."}];return C.jsxs("section",{"aria-label":"Salgsargumenter",className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl transition-all duration-500 hover:shadow-primary/5 hover:border-primary/20",children:[C.jsx("div",{className:"absolute top-0 right-0 -z-10 h-[200px] w-[200px] bg-primary/20 blur-[100px] opacity-20 group-hover:opacity-30 transition-opacity duration-700"}),C.jsxs("div",{className:"p-5 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2.5",children:[C.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-600/20 ring-1 ring-amber-500/20 shadow-lg shadow-amber-500/5",children:C.jsx(wO,{className:"h-4 w-4 text-amber-400"})}),C.jsxs("div",{children:[C.jsxs("h3",{className:"text-sm font-bold text-foreground tracking-wide flex items-center gap-2",children:["SLGER SCRIPTS",C.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-extrabold bg-gradient-to-r from-primary to-purple-600 text-white shadow-sm",children:"AI POWERED"})]}),C.jsx("p",{className:"text-[10px] text-muted-foreground font-medium",children:"Overbevis kunden med data"})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-[10px] font-bold shadow-sm backdrop-blur-md",children:[C.jsx(LZ,{className:"h-3 w-3"}),"P lager"]}),e.isHighMargin&&C.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-400 text-[10px] font-bold shadow-sm backdrop-blur-md animate-pulse",children:[C.jsx(UZ,{className:"h-3 w-3"}),"High Margin"]})]})]}),e.originalPrice&&e.originalPrice>e.price&&C.jsx("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-green-500/10 via-emerald-500/5 to-transparent p-3 border border-green-500/10",children:C.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase tracking-wider",children:"Normalpris"}),C.jsx("span",{className:"text-xs font-mono text-muted-foreground line-through decoration-red-400/50",children:ma(e.originalPrice)})]}),C.jsx("div",{className:"h-8 w-[1px] bg-border/50 mx-2"}),C.jsxs("div",{className:"flex flex-col items-end",children:[C.jsx("span",{className:"text-[10px] text-green-400 font-bold uppercase tracking-wider animate-pulse",children:"Du sparer kunden"}),C.jsx("span",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-300",children:ma(e.originalPrice-e.price)})]})]})}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx(Os,{className:"h-3.5 w-3.5 text-purple-400"}),C.jsx("span",{className:"text-xs font-semibold text-purple-300",children:"Power.dk Analyse"})]}),i?C.jsxs("div",{className:"space-y-2 animate-pulse p-4 rounded-xl bg-white/5 border border-white/5",children:[C.jsx("div",{className:"h-2 w-3/4 bg-white/10 rounded"}),C.jsx("div",{className:"h-2 w-full bg-white/10 rounded"}),C.jsx("div",{className:"h-2 w-5/6 bg-white/10 rounded"})]}):n?C.jsx("div",{className:"relative p-4 rounded-xl bg-gradient-to-br from-white/5 to-transparent border border-white/10 hover:border-purple-500/30 transition-colors group/summary",children:C.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-xs text-muted-foreground leading-relaxed [&>p]:mb-2 [&>strong]:text-foreground [&>strong]:font-bold",dangerouslySetInnerHTML:{__html:n}})}):C.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center rounded-xl border border-dashed border-white/10 bg-white/5",children:[C.jsx(bO,{className:"h-5 w-5 text-muted-foreground mb-2"}),C.jsx("p",{className:"text-xs text-muted-foreground",children:"Kunne ikke hente salgsscript."})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx(zZ,{className:"h-3.5 w-3.5 text-blue-400"}),C.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-muted-foreground",children:"Indvendingsbehandling"})]}),C.jsx("div",{className:"grid gap-2",children:l.map(u=>C.jsxs("button",{onClick:()=>a(o===u.id?null:u.id),className:_n("text-left w-full p-3 rounded-lg border transition-all duration-300 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",o===u.id?"bg-primary/10 border-primary/40 shadow-[0_0_15px_-3px_rgba(var(--primary),0.2)]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/10"),"aria-expanded":o===u.id,children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("span",{className:_n("text-xs font-bold transition-colors",o===u.id?"text-primary":"text-red-300"),children:['"',u.trigger,'"']}),C.jsx(NZ,{className:_n("h-3 w-3 text-muted-foreground transition-transform duration-300",o===u.id&&"rotate-90 text-primary")})]}),C.jsx("div",{className:_n("grid transition-[grid-template-rows] duration-300 ease-out",o===u.id?"grid-rows-[1fr] mt-2 opacity-100":"grid-rows-[0fr] opacity-0"),children:C.jsx("div",{className:"overflow-hidden",children:C.jsxs("p",{className:"text-xs text-foreground/90 italic leading-relaxed pl-2 border-l-2 border-primary/30",children:['"',u.response,'"']})})})]},u.id))})]}),C.jsx("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-r from-primary/20 via-primary/10 to-transparent p-0.5",children:C.jsxs("div",{className:"relative flex items-center justify-center gap-2 bg-background/40 backdrop-blur-sm p-2 rounded-[7px]",children:[C.jsx(EC,{className:"h-3.5 w-3.5 text-primary animate-bounce-subtle"}),C.jsx("span",{className:"text-[10px] font-bold text-foreground tracking-wide uppercase",children:e.isHighMargin?"Absolut bedste valg for butikken":"Solid opgradering for kunden"})]})})]})]})}function Gie({mainProduct:t,topPick:e}){const[n,r]=B.useState(!1);return C.jsx(or.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:C.jsxs(ou,{className:"mb-8 p-0 overflow-hidden border border-primary/20 bg-gradient-to-br from-[#1a1f35]/90 to-[#0f1219]/95 backdrop-blur-2xl shadow-2xl hover:shadow-[0_0_40px_-10px_rgba(249,115,22,0.2)] transition-shadow duration-500 rounded-3xl group",children:[C.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-transparent via-primary to-transparent opacity-60"}),C.jsx("div",{className:"p-6 md:p-8",children:C.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[C.jsxs("div",{className:"space-y-4 max-w-2xl",children:[C.jsxs(Eo,{className:"badge-premium gap-1.5 px-4 py-1.5 text-xs font-bold tracking-wide shadow-lg shadow-orange-500/20 animate-glow w-fit",children:[C.jsx(Mw,{className:"h-3.5 w-3.5"}),"POWER ANBEFALING"]}),C.jsxs("div",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed font-light",children:["Opgrader kunden fra ",C.jsx("span",{className:"font-semibold text-foreground border-b border-white/10 pb-0.5",children:t.brand})," til"," ",C.jsxs("span",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-primary to-amber-500 filter drop-shadow-sm cursor-pointer hover:underline decoration-primary/30 underline-offset-4 decoration-2 transition-all",children:[e.brand," ",e.name]})]})]}),C.jsxs("div",{className:"flex items-center gap-6 ml-auto bg-white/[0.03] p-4 rounded-2xl border border-white/5 backdrop-blur-md",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-bold mb-0.5",children:"Merpris"}),C.jsxs(or.p,{className:`text-xl font-black tabular-nums ${(e.priceDifference||0)>0?"text-red-400":"text-green-400"}`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:[(e.priceDifference||0)>0?"+":"",ma(e.priceDifference||0)]},e.priceDifference)]}),C.jsxs(cs,{size:"lg",className:`gap-2 transition-all duration-300 rounded-xl font-bold ${n?"bg-primary/20 text-primary hover:bg-primary/30":"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_20px_-5px_rgba(249,115,22,0.5)]"}`,onClick:()=>r(!n),children:[n?"Skjul Sammenligning":"Se Sammenligning",n?C.jsx(IZ,{className:"h-4 w-4"}):C.jsx(OZ,{className:"h-4 w-4"})]})]})]})}),C.jsx(qy,{children:n&&C.jsx(or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4,ease:"easeInOut"},className:"bg-black/20 border-t border-white/5",children:C.jsxs("div",{className:"p-6 md:p-8 space-y-8 animate-slide-up",children:[C.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-8 items-center px-4 max-w-5xl mx-auto",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.2em] font-bold mb-2",children:"Nuvrende Valg"}),C.jsx("div",{className:"h-0.5 w-16 bg-white/10 mx-auto rounded-full"})]}),C.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:C.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"VS"})}),C.jsxs("div",{className:"text-center relative",children:[C.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-primary/20 rounded text-[9px] font-bold text-primary animate-pulse",children:"BEDST"}),C.jsxs("p",{className:"text-[10px] text-primary uppercase tracking-[0.2em] font-bold mb-2 flex items-center justify-center gap-2",children:[C.jsx(Os,{className:"h-3 w-3"}),"Anbefalet"]}),C.jsx("div",{className:"h-0.5 w-16 bg-primary mx-auto rounded-full shadow-[0_0_10px_rgba(249,115,22,0.6)]"})]})]}),C.jsxs("div",{className:"space-y-3 max-w-5xl mx-auto",children:[C.jsx($ie,{label:"Pris",leftValue:C.jsx("span",{className:"text-lg font-bold text-foreground/80",children:ma(t.price)}),rightValue:C.jsx("div",{className:"flex flex-col items-center",children:C.jsx("span",{className:"text-xl font-black text-primary filter drop-shadow-[0_0_5px_rgba(249,115,22,0.3)]",children:ma(e.price)})}),diffIcon:C.jsx(yD,{className:"h-4 w-4 text-muted-foreground/30"}),highlightRight:!0}),C.jsx(Ax,{label:"RAM",mainSpec:t.specs,topSpec:e.specs,field:"ram",numericField:"ramGB",icon:Os}),C.jsx(Ax,{label:"Processor",mainSpec:t.specs,topSpec:e.specs,field:"cpu",numericField:"cpuTier",truncate:!0}),C.jsx(Ax,{label:"Lagerplads",mainSpec:t.specs,topSpec:e.specs,field:"storage",numericField:"storageGB"}),C.jsx(Ax,{label:"Grafikkort",mainSpec:t.specs,topSpec:e.specs,field:"gpu",numericField:"gpuTier",highlightColor:"orange",truncate:!0}),(t.specs?.screenType||e.specs?.screenType)&&C.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center group hover:bg-white/[0.02] rounded-xl transition-colors p-2",children:[C.jsxs("div",{className:"p-4 rounded-xl text-center transition-all bg-white/[0.02] border border-transparent",children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:"Skrm"}),C.jsx("p",{className:"text-sm font-medium",children:t.specs?.screenType||""})]}),C.jsx("div",{className:"flex justify-center opacity-20",children:C.jsx(yD,{className:"h-4 w-4"})}),C.jsxs("div",{className:`p-4 rounded-xl text-center transition-all ${e.specs?.screenType==="OLED"?"bg-purple-500/10 border border-purple-500/30 shadow-[0_0_20px_-5px_rgba(168,85,247,0.2)]":"bg-white/[0.02] border-transparent"}`,children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:"Skrm"}),C.jsx("p",{className:`text-sm font-bold ${e.specs?.screenType==="OLED"?"text-purple-300":""}`,children:e.specs?.screenType||""})]})]})]}),C.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto pt-6 border-t border-white/5",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest text-center",children:"Salgsargumenter"}),C.jsx(Wie,{mainProduct:t,topPick:e})]}),C.jsxs("div",{className:"space-y-6 flex flex-col justify-center",children:[e.upgradeReason&&C.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-r from-orange-500/10 to-transparent border-l-2 border-orange-500",children:[C.jsx("p",{className:"text-[10px] text-orange-400 uppercase tracking-widest font-bold mb-1",children:"Hvorfor opgradere?"}),C.jsxs("p",{className:"text-sm font-medium italic text-foreground/90",children:['"',e.upgradeReason,'"']})]}),e.specs?.features&&e.specs.features.length>0&&C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest text-center mb-3",children:"Ngle Features"}),C.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:e.specs.features.slice(0,6).map((i,s)=>C.jsx(Eo,{variant:"secondary",className:"text-[10px] px-2.5 py-1 bg-white/5 border border-white/10 hover:bg-white/10 hover:border-primary/30 transition-all",children:i},s))})]})]})]})]})})})]})})}function $ie({label:t,leftValue:e,rightValue:n,diffIcon:r,highlightRight:i}){return C.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center group hover:bg-white/[0.02] rounded-xl transition-colors p-2",children:[C.jsxs("div",{className:"p-4 rounded-xl bg-white/[0.02] text-center border border-transparent group-hover:border-white/5 transition-colors",children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:t}),C.jsx("div",{className:"text-foreground",children:e})]}),C.jsx("div",{className:"flex items-center justify-center w-8 opacity-50",children:r}),C.jsxs("div",{className:`p-4 rounded-xl text-center border transition-all duration-300 ${i?"bg-primary/10 border-primary/20 shadow-[0_0_15px_rgba(249,115,22,0.1)] scale-[1.02]":"bg-white/[0.02] border-transparent"}`,children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:t}),C.jsx("div",{children:n})]})]})}function Ax({label:t,mainSpec:e,topSpec:n,field:r,numericField:i,truncate:s,highlightColor:o="green",icon:a}){const l=e?.[r],u=n?.[r],f=e?.[i],d=n?.[i];if(!l&&!u)return null;const p=(d||0)>(f||0),v=(d||0)<(f||0);return C.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center group hover:bg-white/[0.02] rounded-xl transition-colors p-2",children:[C.jsxs("div",{className:`p-4 rounded-xl text-center border transition-all duration-300 ${!p&&!v?"bg-white/[0.02] border-transparent":v?o==="orange"?"bg-orange-500/10 border-orange-500/20 shadow-[0_0_15px_rgba(249,115,22,0.1)] scale-[1.02]":"bg-green-500/10 border-green-500/20 shadow-[0_0_15px_rgba(34,197,94,0.1)] scale-[1.02]":"bg-white/[0.02] border-transparent opacity-70"}`,children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:t}),C.jsx("p",{className:`text-sm font-semibold  ${s?"line-clamp-1":""}`,children:l||""})]}),C.jsx("div",{className:"flex items-center justify-center w-8",children:p?C.jsx(Mw,{className:`h-5 w-5 ${o==="orange"?"text-orange-400":"text-green-400"} animate-bounce`}):v?C.jsx(XH,{className:"h-5 w-5 text-red-400"}):C.jsx("span",{className:"text-xs text-muted-foreground opacity-20 font-mono",children:"="})}),C.jsxs("div",{className:`p-4 rounded-xl text-center border transition-all duration-300 ${p?o==="orange"?"bg-orange-500/10 border-orange-500/20 shadow-[0_0_15px_rgba(249,115,22,0.1)] scale-[1.02]":"bg-green-500/10 border-green-500/20 shadow-[0_0_15px_rgba(34,197,94,0.1)] scale-[1.02]":"bg-white/[0.02] border-transparent opacity-70"}`,children:[C.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide mb-1 opacity-60",children:t}),C.jsx("p",{className:`text-sm font-semibold ${s?"line-clamp-1":""}`,children:u||""})]})]})}function tM({type:t,message:e}){return t==="initial"?C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center animate-scale-in",children:[C.jsxs("div",{className:"relative mb-10",children:[C.jsx("div",{className:"w-28 h-28 rounded-3xl glass-card flex items-center justify-center animate-float",children:C.jsx(GH,{className:"h-14 w-14 text-primary animate-glow"})}),C.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 rounded-xl badge-premium flex items-center justify-center shadow-xl shadow-primary/40",children:C.jsx(Os,{className:"h-5 w-5 text-primary-foreground"})}),C.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-20 h-1 rounded-full bg-primary/20 blur-md"})]}),C.jsxs(or.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-md space-y-2 mt-4",children:[C.jsxs("h2",{className:"text-xl font-bold tracking-tight",children:["Find ",C.jsx("span",{className:"text-gradient",children:"populre"})," produkter"]}),C.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Sg efter et produkt for at se bedre alternativer og anbefalinger fra Power Salgsassistent."})]}),C.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4 w-full max-w-sm",children:[C.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/5 text-center",children:[C.jsx(MC,{className:"h-5 w-5 mx-auto mb-2 text-primary"}),C.jsx("p",{className:"text-[10px] text-muted-foreground font-medium",children:"Sg Produkt"})]}),C.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/5 text-center",children:[C.jsx(Os,{className:"h-5 w-5 mx-auto mb-2 text-primary"}),C.jsx("p",{className:"text-[10px] text-muted-foreground font-medium",children:"Se Anbefalinger"})]})]})]}):t==="no-results"?C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center animate-scale-in",children:[C.jsx("div",{className:"w-24 h-24 rounded-3xl glass-card flex items-center justify-center mb-8",children:C.jsx(MC,{className:"h-12 w-12 text-muted-foreground/40"})}),C.jsx("h2",{className:"text-2xl font-semibold mb-3 text-foreground/90","data-testid":"text-no-results-heading",children:"Ingen produkter fundet"}),C.jsx("p",{className:"text-muted-foreground/70 max-w-md text-base","data-testid":"text-no-results-message",children:e||"Prv at sge med et andet sgeord eller SKU-nummer."})]}):C.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center animate-scale-in",children:[C.jsx("div",{className:"w-24 h-24 rounded-3xl bg-destructive/10 border border-destructive/20 flex items-center justify-center mb-8",children:C.jsx(bO,{className:"h-12 w-12 text-destructive/70"})}),C.jsx("h2",{className:"text-2xl font-semibold mb-3 text-foreground/90","data-testid":"text-error-heading",children:"Noget gik galt"}),C.jsx("p",{className:"text-muted-foreground/70 max-w-md text-base","data-testid":"text-error-message",children:e||"Der opstod en fejl under sgningen. Prv igen senere."})]})}function gn({className:t}){return C.jsx("div",{className:`skeleton ${t||""}`})}function qie(){return C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-scale-in",children:[C.jsxs("div",{className:"lg:col-span-1",children:[C.jsx("div",{className:"mb-4",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-px skeleton"}),C.jsx(gn,{className:"h-3 w-24"})]})}),C.jsxs(ou,{className:"card-modern",children:[C.jsxs(kp,{className:"flex flex-row items-start justify-between gap-4 pb-4",children:[C.jsxs("div",{className:"flex-1 space-y-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(gn,{className:"h-5 w-20"}),C.jsx(gn,{className:"h-4 w-16"})]}),C.jsx(gn,{className:"h-5 w-full"}),C.jsx(gn,{className:"h-4 w-24"})]}),C.jsx(gn,{className:"w-24 h-24 rounded-xl"})]}),C.jsxs(wc,{className:"space-y-4",children:[C.jsx("div",{className:"section-divider"}),C.jsxs("div",{children:[C.jsx(gn,{className:"h-10 w-32"}),C.jsx(gn,{className:"h-4 w-20 mt-2"})]}),C.jsxs("div",{className:"p-3 rounded-lg bg-white/[0.02] border border-white/5 space-y-2",children:[C.jsxs("div",{className:"flex items-center gap-2.5",children:[C.jsx(gn,{className:"w-7 h-7 rounded-lg"}),C.jsx(gn,{className:"h-4 w-32"})]}),C.jsxs("div",{className:"flex items-center gap-2.5",children:[C.jsx(gn,{className:"w-7 h-7 rounded-lg"}),C.jsx(gn,{className:"h-4 w-24"})]}),C.jsxs("div",{className:"flex items-center gap-2.5",children:[C.jsx(gn,{className:"w-7 h-7 rounded-lg"}),C.jsx(gn,{className:"h-4 w-20"})]})]}),C.jsxs("div",{className:"flex gap-2 pt-1",children:[C.jsx(gn,{className:"h-10 flex-1 rounded-lg"}),C.jsx(gn,{className:"h-10 w-10 rounded-lg"})]})]})]})]}),C.jsxs("div",{className:"lg:col-span-2",children:[C.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-px skeleton"}),C.jsx(gn,{className:"h-3 w-20"})]}),C.jsx(gn,{className:"h-5 w-16 rounded-full"})]}),C.jsxs(ou,{className:"glass-card h-full",children:[C.jsx(kp,{className:"pb-4 border-b border-white/5",children:C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(gn,{className:"h-5 w-5 rounded"}),C.jsx(gn,{className:"h-5 w-48"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(gn,{className:"h-5 w-24 rounded-full"}),C.jsx(gn,{className:"h-5 w-16 rounded-full"})]})]})}),C.jsx(wc,{className:"space-y-3 pt-4",children:[1,2,3,4].map(t=>C.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl card-alternative",style:{animationDelay:`${t*100}ms`},children:[C.jsx(gn,{className:"w-16 h-16 rounded-lg flex-shrink-0"}),C.jsxs("div",{className:"flex-1 space-y-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(gn,{className:"h-4 w-12 rounded"}),C.jsx(gn,{className:"h-3 w-16"})]}),C.jsx(gn,{className:"h-4 w-full"}),C.jsx(gn,{className:"h-4 w-3/4"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(gn,{className:"h-6 w-24"}),C.jsx(gn,{className:"h-5 w-16 rounded"})]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx(gn,{className:"h-3 w-20"}),C.jsx(gn,{className:"h-3 w-16"}),C.jsx(gn,{className:"h-3 w-14"})]})]}),C.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[C.jsx(gn,{className:"h-8 w-8 rounded-lg"}),C.jsx(gn,{className:"h-8 w-8 rounded-lg"})]})]},t))})]})]})]})}function Xie({product:t,variant:e="main",referencePrice:n}){const[r,i]=B.useState(!1),[s,o]=B.useState(!1),a=async()=>{try{await navigator.clipboard.writeText(t.productUrl),i(!0),setTimeout(()=>i(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},l=n?t.price-n:0,u=(f,d)=>Math.min(100,Math.max(10,(f||0)/d*100));return C.jsx(or.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onHoverStart:()=>o(!0),onHoverEnd:()=>o(!1),children:C.jsxs(ou,{className:`relative overflow-hidden transition-all duration-300 group ${t.isTopPick?"glass-strong border-primary/50 shadow-[0_0_30px_-5px_hsl(var(--primary)/0.2)] hover:shadow-[0_0_40px_-5px_hsl(var(--primary)/0.3)]":t.isHighMargin?"glass border-primary/20 shadow-[0_0_20px_-5px_hsl(var(--primary)/0.1)] hover:border-primary/40":"glass border-white/5 hover:border-white/10"}`,children:[C.jsx("div",{className:`absolute inset-0 bg-gradient-to-br transition-opacity duration-500 pointer-events-none ${t.isTopPick?"from-primary/10 via-transparent to-transparent opacity-100":"from-white/5 via-transparent to-transparent opacity-0 group-hover:opacity-100"}`}),t.isTopPick&&C.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20",children:C.jsx(or.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},children:C.jsxs(Eo,{className:"badge-premium gap-1.5 px-4 py-1.5 shadow-xl shadow-orange-500/20 text-[10px] font-black tracking-widest uppercase border border-orange-400/50",children:[C.jsx(wO,{className:"h-3 w-3 fill-current"}),"Top Valg"]})})}),C.jsxs(kp,{className:"flex flex-row items-start justify-between gap-4 pb-4 flex-wrap relative z-10 p-5",children:[C.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[C.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[t.isHighMargin?C.jsxs(Eo,{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 border-purple-500/30 gap-1 text-[10px] uppercase font-bold tracking-wider",variant:"outline",children:[C.jsx(Os,{className:"h-3 w-3"}),"Hj Margin"]}):C.jsx(Eo,{variant:"outline",className:"bg-white/5 text-muted-foreground border-white/10 text-[10px] uppercase font-bold tracking-wider",children:"Standard"}),t.brand&&C.jsx(Eo,{variant:"secondary",className:"bg-white/5 text-foreground/80 border-transparent text-[10px] uppercase font-bold tracking-wider",children:t.brand})]}),C.jsx("h3",{className:"font-sans font-bold text-base leading-tight text-foreground/90 tracking-tight group-hover:text-primary transition-colors duration-300",children:t.name})]}),t.imageUrl&&C.jsx(or.div,{className:"w-20 h-20 flex-shrink-0 rounded-xl overflow-hidden bg-white/[0.03] p-2 border border-white/10 shadow-lg",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:C.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-contain drop-shadow-md mix-blend-normal",loading:"lazy",referrerPolicy:"no-referrer"})})]}),C.jsxs(wc,{className:"space-y-5 relative z-10 p-5 pt-0",children:[C.jsxs("div",{className:"flex items-end justify-between gap-3 pb-4 border-b border-white/5",children:[C.jsxs("div",{children:[C.jsx(or.div,{initial:{scale:.9,opacity:.5},animate:{scale:1,opacity:1},className:"text-3xl font-black text-foreground font-mono tracking-tight",children:ma(t.price)},t.price),t.originalPrice&&t.originalPrice>t.price&&C.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C.jsx("span",{className:"text-xs text-muted-foreground/60 line-through decoration-white/20 font-mono",children:ma(t.originalPrice)}),C.jsxs(Eo,{variant:"outline",className:"text-[9px] font-bold text-green-400 border-green-500/30 bg-green-500/10 h-4 px-1 rounded-sm",children:["-",Math.round((1-t.price/t.originalPrice)*100),"%"]})]})]}),e==="alternative"&&n&&l!==0&&C.jsxs("div",{className:"flex flex-col items-end",children:[C.jsx("span",{className:"text-[9px] text-muted-foreground uppercase tracking-wider mb-0.5 font-bold opacity-70",children:"Difference"}),C.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold px-2 py-1 rounded-md border backdrop-blur-md ${l>0?"text-red-300 bg-red-400/10 border-red-500/20":"text-green-300 bg-green-400/10 border-green-500/20"}`,children:[l>0?C.jsx(Mw,{className:"h-3 w-3"}):C.jsx(XH,{className:"h-3 w-3"}),C.jsxs("span",{children:[l>0?"+":"",ma(l)]})]})]})]}),t.specs&&C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsx(Px,{icon:VH,label:"Processor",value:t.specs.cpu,subValue:t.specs.cpuTier?`Tier ${t.specs.cpuTier}`:void 0,power:u(t.specs.cpuTier,10)}),C.jsx(Px,{icon:$H,label:"RAM",value:t.specs.ram,power:u(t.specs.ramGB,64)}),C.jsx(Px,{icon:WH,label:"Lager",value:t.specs.storage,power:u(t.specs.storageGB,2048)}),C.jsx(Px,{icon:jZ,label:"Grafik",value:t.specs.gpu||"Integreret",subValue:t.specs.gpuVram?`${t.specs.gpuVram} GB`:void 0,power:u(t.specs.gpuTier,10)})]}),C.jsxs("div",{className:"space-y-3 pt-2",children:[t.specs?.screenSize&&C.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-white/[0.03] border border-white/5 hover:bg-white/[0.05] transition-colors",children:[C.jsx(VZ,{className:"h-4 w-4 text-primary/70"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-[9px] text-muted-foreground uppercase opacity-70 font-bold tracking-wide",children:"Skrm"}),C.jsxs("span",{className:"text-xs font-semibold",children:[t.specs.screenSize,t.specs.screenType&&C.jsxs("span",{className:"text-primary/90 ml-1",children:[" ",t.specs.screenType]})]})]})]}),t.specs?.features&&t.specs.features.length>0&&C.jsx("div",{className:"flex flex-wrap gap-1.5 pt-1",children:t.specs.features.slice(0,4).map((f,d)=>C.jsx(Eo,{variant:"secondary",className:"bg-white/5 hover:bg-white/10 text-[9px] text-muted-foreground border-transparent transition-colors px-1.5 py-0.5 h-5",children:f},d))})]}),C.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[C.jsx(cs,{variant:"outline",size:"sm",className:"flex-1 gap-2 border-white/10 hover:bg-white/5 hover:border-primary/30 group bg-transparent h-9 text-xs",onClick:a,children:C.jsx(qy,{mode:"wait",children:r?C.jsxs(or.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"flex items-center gap-2 text-green-400",children:[C.jsx(_O,{className:"h-3.5 w-3.5"}),C.jsx("span",{className:"font-bold",children:"Kopieret"})]},"copied"):C.jsxs(or.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"flex items-center gap-2",children:[C.jsx(zH,{className:"h-3.5 w-3.5 text-muted-foreground group-hover:text-primary transition-colors"}),C.jsx("span",{children:"Kopier"})]},"copy")})}),C.jsx(cs,{size:"icon",variant:"outline",className:"border-white/10 hover:bg-white/5 hover:text-primary hover:border-primary/30 bg-transparent h-9 w-9",asChild:!0,children:C.jsx("a",{href:t.productUrl,target:"_blank",rel:"noopener noreferrer",children:C.jsx(HH,{className:"h-3.5 w-3.5"})})})]})]})]})})}function Px({icon:t,label:e,value:n,subValue:r,power:i=0}){return C.jsxs("div",{className:"p-2 rounded-lg bg-white/[0.02] border border-white/5 hover:bg-white/[0.05] hover:border-white/10 transition-colors group",children:[C.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[C.jsx(t,{className:"h-3 w-3 text-muted-foreground/70 group-hover:text-primary transition-colors"}),C.jsx("span",{className:"text-[9px] text-muted-foreground uppercase opacity-70 tracking-wide font-bold",children:e})]}),C.jsx("div",{className:"font-semibold text-xs truncate relative z-10 text-foreground/90",title:n,children:n||""}),r&&C.jsx("div",{className:"text-[9px] text-muted-foreground/50",children:r}),i>0&&C.jsx("div",{className:"h-0.5 w-full bg-white/5 rounded-full mt-1.5 overflow-hidden",children:C.jsx(or.div,{className:"h-full bg-gradient-to-r from-primary/60 to-orange-400/60 rounded-full",initial:{width:0},animate:{width:`${i}%`},transition:{delay:.3,duration:1,ease:"easeOut"}})})]})}var Kie=B.createContext(void 0);function vN(t){const e=B.useContext(Kie);return t||e||"ltr"}function Yie(t,[e,n]){return Math.min(n,Math.max(e,t))}function Zie(t,e){return B.useReducer((n,r)=>e[n][r]??n,t)}var yN="ScrollArea",[p8]=Td(yN),[Qie,Ro]=p8(yN),m8=B.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=B.useState(null),[u,f]=B.useState(null),[d,p]=B.useState(null),[v,x]=B.useState(null),[b,y]=B.useState(null),[w,M]=B.useState(0),[S,A]=B.useState(0),[P,O]=B.useState(!1),[I,k]=B.useState(!1),L=ci(e,j=>l(j)),F=vN(i);return C.jsx(Qie,{scope:n,type:r,dir:F,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:f,content:d,onContentChange:p,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:b,onScrollbarYChange:y,scrollbarYEnabled:I,onScrollbarYEnabledChange:k,onCornerWidthChange:M,onCornerHeightChange:A,children:C.jsx(nr.div,{dir:F,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});m8.displayName=yN;var g8="ScrollAreaViewport",v8=B.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=Ro(g8,n),a=B.useRef(null),l=ci(e,a,o.onViewportChange);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),C.jsx(nr.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:C.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});v8.displayName=g8;var tl="ScrollAreaScrollbar",xN=B.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ro(tl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return B.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?C.jsx(Jie,{...r,ref:e,forceMount:n}):i.type==="scroll"?C.jsx(ese,{...r,ref:e,forceMount:n}):i.type==="auto"?C.jsx(y8,{...r,ref:e,forceMount:n}):i.type==="always"?C.jsx(_N,{...r,ref:e}):null});xN.displayName=tl;var Jie=B.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ro(tl,t.__scopeScrollArea),[s,o]=B.useState(!1);return B.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},f=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),C.jsx(Ac,{present:n||s,children:C.jsx(y8,{"data-state":s?"visible":"hidden",...r,ref:e})})}),ese=B.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ro(tl,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Bw(()=>l("SCROLL_END"),100),[a,l]=Zie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return B.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),B.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let d=u[f];const p=()=>{const v=u[f];d!==v&&(l("SCROLL"),o()),d=v};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,s,l,o]),C.jsx(Ac,{present:n||a!=="hidden",children:C.jsx(_N,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:dn(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dn(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),y8=B.forwardRef((t,e)=>{const n=Ro(tl,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=B.useState(!1),a=t.orientation==="horizontal",l=Bw(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:f)}},10);return jp(n.viewport,l),jp(n.content,l),C.jsx(Ac,{present:r||s,children:C.jsx(_N,{"data-state":s?"visible":"hidden",...i,ref:e})})}),_N=B.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Ro(tl,t.__scopeScrollArea),s=B.useRef(null),o=B.useRef(0),[a,l]=B.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=S8(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function d(p,v){return ose(p,o.current,a,v)}return n==="horizontal"?C.jsx(tse,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,v=Wk(p,a,i.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=d(p,i.dir))}}):n==="vertical"?C.jsx(nse,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,v=Wk(p,a);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=d(p))}}):null}),tse=B.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ro(tl,t.__scopeScrollArea),[o,a]=B.useState(),l=B.useRef(null),u=ci(e,l,s.onScrollbarXChange);return B.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),C.jsx(_8,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uw(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const p=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(p),E8(p,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:hb(o.paddingLeft),paddingEnd:hb(o.paddingRight)}})}})}),nse=B.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ro(tl,t.__scopeScrollArea),[o,a]=B.useState(),l=B.useRef(null),u=ci(e,l,s.onScrollbarYChange);return B.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),C.jsx(_8,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uw(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const p=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(p),E8(p,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:hb(o.paddingTop),paddingEnd:hb(o.paddingBottom)}})}})}),[rse,x8]=p8(tl),_8=B.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:d,...p}=t,v=Ro(tl,n),[x,b]=B.useState(null),y=ci(e,L=>b(L)),w=B.useRef(null),M=B.useRef(""),S=v.viewport,A=r.content-r.viewport,P=li(f),O=li(l),I=Bw(d,10);function k(L){if(w.current){const F=L.clientX-w.current.left,j=L.clientY-w.current.top;u({x:F,y:j})}}return B.useEffect(()=>{const L=F=>{const j=F.target;x?.contains(j)&&P(F,A)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,x,A,P]),B.useEffect(O,[r,O]),jp(x,I),jp(v.content,I),C.jsx(rse,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:li(s),onThumbPointerUp:li(o),onThumbPositionChange:O,onThumbPointerDown:li(a),children:C.jsx(nr.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:dn(t.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),w.current=x.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),k(L))}),onPointerMove:dn(t.onPointerMove,k),onPointerUp:dn(t.onPointerUp,L=>{const F=L.target;F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=M.current,v.viewport&&(v.viewport.style.scrollBehavior=""),w.current=null})})})}),db="ScrollAreaThumb",b8=B.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=x8(db,t.__scopeScrollArea);return C.jsx(Ac,{present:n||i.hasThumb,children:C.jsx(ise,{ref:e,...r})})}),ise=B.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Ro(db,n),o=x8(db,n),{onThumbPositionChange:a}=o,l=ci(e,d=>o.onThumbChange(d)),u=B.useRef(void 0),f=Bw(()=>{u.current&&(u.current(),u.current=void 0)},100);return B.useEffect(()=>{const d=s.viewport;if(d){const p=()=>{if(f(),!u.current){const v=ase(d,a);u.current=v,a()}};return a(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,f,a]),C.jsx(nr.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dn(t.onPointerDownCapture,d=>{const v=d.target.getBoundingClientRect(),x=d.clientX-v.left,b=d.clientY-v.top;o.onThumbPointerDown({x,y:b})}),onPointerUp:dn(t.onPointerUp,o.onThumbPointerUp)})});b8.displayName=db;var bN="ScrollAreaCorner",w8=B.forwardRef((t,e)=>{const n=Ro(bN,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?C.jsx(sse,{...t,ref:e}):null});w8.displayName=bN;var sse=B.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Ro(bN,n),[s,o]=B.useState(0),[a,l]=B.useState(0),u=!!(s&&a);return jp(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),l(f)}),jp(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),o(f)}),u?C.jsx(nr.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function hb(t){return t?parseInt(t,10):0}function S8(t,e){const n=t/e;return isNaN(n)?0:n}function Uw(t){const e=S8(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function ose(t,e,n,r="ltr"){const i=Uw(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return M8([l,u],d)(t)}function Wk(t,e,n="ltr"){const r=Uw(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Yie(t,l);return M8([0,o],[0,a])(u)}function M8(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function E8(t,e){return t>0&&t<e}var ase=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Bw(t,e){const n=li(t),r=B.useRef(0);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),B.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function jp(t,e){const n=li(e);ru(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var T8=m8,lse=v8,use=w8;const A8=B.forwardRef(({className:t,children:e,...n},r)=>C.jsxs(T8,{ref:r,className:_n("relative overflow-hidden",t),...n,children:[C.jsx(lse,{className:"h-full w-full rounded-[inherit]",children:e}),C.jsx(P8,{}),C.jsx(use,{})]}));A8.displayName=T8.displayName;const P8=B.forwardRef(({className:t,orientation:e="vertical",...n},r)=>C.jsx(xN,{ref:r,orientation:e,className:_n("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:C.jsx(b8,{className:"relative flex-1 rounded-full bg-border"})}));P8.displayName=xN.displayName;function cse({alternatives:t,referencePrice:e,selectedId:n,onSelect:r}){const[i,s]=B.useState("margin"),o=B.useMemo(()=>[...t].sort((a,l)=>{switch(i){case"price_asc":return a.price-l.price;case"price_desc":return l.price-a.price;case"score":return(l.upgradeScore||0)-(a.upgradeScore||0);default:return a.isHighMargin&&!l.isHighMargin?-1:!a.isHighMargin&&l.isHighMargin?1:a.isTopPick?-1:l.isTopPick?1:(l.upgradeScore||0)-(a.upgradeScore||0)}}),[t,i]);return t.length===0?C.jsx(ou,{className:"glass-card h-full border-white/5",children:C.jsxs(wc,{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-center",children:[C.jsx(or.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-20 h-20 rounded-3xl bg-white/[0.02] border border-white/5 flex items-center justify-center mb-6",children:C.jsx(Os,{className:"h-10 w-10 text-muted-foreground/30"})}),C.jsx("p",{className:"text-muted-foreground font-medium",children:"Ingen alternativer fundet."}),C.jsx("p",{className:"text-sm text-muted-foreground/60 mt-2 max-w-xs",children:"Prv at justere din sgning for at finde flere resultater."})]})}):(t.filter(a=>a.isHighMargin).length,C.jsxs(ou,{className:"glass h-full flex flex-col border border-white/5 overflow-hidden",children:[C.jsx(kp,{className:"flex-shrink-0 pb-4 border-b border-white/5 bg-white/[0.01]",children:C.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:C.jsx(YH,{className:"h-5 w-5 text-primary"})}),C.jsxs("div",{children:[C.jsx(kO,{className:"text-base font-bold",children:"Alternativer"}),C.jsx("div",{className:"flex items-center gap-2 mt-1",children:C.jsxs(Eo,{variant:"outline",className:"text-[10px] h-5 px-1.5 border-white/10 text-muted-foreground",children:[t.length," stk"]})})]})]}),C.jsxs("div",{className:"flex bg-white/5 rounded-lg p-1 gap-1",children:[C.jsx(nM,{active:i==="margin",onClick:()=>s("margin"),label:"Anbefalet",icon:Os}),C.jsx(nM,{active:i==="score",onClick:()=>s("score"),label:"Score",icon:qH}),C.jsx(nM,{active:i==="price_asc",onClick:()=>s(i==="price_asc"?"price_desc":"price_asc"),label:"Pris",icon:RZ})]})]})}),C.jsxs(wc,{className:"flex-1 p-0 overflow-hidden relative",children:[C.jsx(A8,{className:"h-[600px] sm:h-[calc(100vh-340px)]",children:C.jsx("div",{className:"p-4 space-y-3 pb-20",children:C.jsx(qy,{mode:"popLayout",children:o.map((a,l)=>C.jsx(C8,{product:a,referencePrice:e,index:l,isSelected:a.id===n,onSelect:()=>r?.(a.id)},a.id))})})}),C.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-background to-transparent pointer-events-none"})]})]}))}function nM({active:t,onClick:e,label:n,icon:r}){return C.jsxs("button",{onClick:e,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[10px] font-medium transition-all ${t?"bg-white/10 text-foreground shadow-sm":"text-muted-foreground hover:bg-white/5 hover:text-foreground"}`,children:[C.jsx(r,{className:"h-3 w-3"}),n]})}const C8=fe.forwardRef(({product:t,referencePrice:e,index:n,isSelected:r,onSelect:i},s)=>{const o=t.price-e,[a,l]=B.useState(!1),u=async()=>{await navigator.clipboard.writeText(t.productUrl),l(!0),setTimeout(()=>l(!1),2e3)};return C.jsxs(or.div,{ref:s,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3,delay:n*.05},className:`group relative rounded-xl p-4 border transition-all duration-300 hover:shadow-lg cursor-pointer ${r?"bg-primary/20 border-primary shadow-[0_0_15px_-5px_hsl(var(--primary)/0.5)] ring-1 ring-primary/50":t.isTopPick?"bg-gradient-to-br from-primary/10 to-transparent border-primary/40 shadow-[0_0_20px_-10px_hsl(var(--primary)/0.3)]":t.isHighMargin?"bg-white/[0.02] hover:bg-white/[0.04] border-white/10":"bg-transparent hover:bg-white/[0.02] border-white/5"}`,onClick:i,children:[r&&C.jsx("div",{className:"absolute -top-2 -left-2 z-10",children:C.jsx("div",{className:"bg-primary text-primary-foreground rounded-full p-1 shadow-lg animate-in zoom-in spin-in-180 duration-300",children:C.jsx(EC,{className:"h-4 w-4"})})}),t.isTopPick&&!r&&C.jsx("div",{className:"absolute top-0 right-0 p-3",children:C.jsxs(Eo,{className:"badge-premium gap-1 text-[10px] px-2 py-0.5 shadow-lg",children:[C.jsx(wO,{className:"h-2.5 w-2.5"}),"Top Valg"]})}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-lg bg-white/5 p-2 border border-white/5 flex items-center justify-center group-hover:scale-105 transition-transform duration-300",children:t.imageUrl?C.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-contain",loading:"lazy"}):C.jsx("div",{className:"flex items-center justify-center w-full h-full",children:C.jsx("div",{className:"h-6 w-6 text-muted-foreground/30",children:""})})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"flex items-start justify-between pr-8",children:C.jsxs("div",{children:[C.jsx("div",{className:"flex items-center gap-2 mb-1",children:C.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:t.brand})}),C.jsx("h4",{className:"text-sm font-semibold text-foreground leading-snug line-clamp-2 mb-2 group-hover:text-primary transition-colors",children:t.name})]})}),C.jsxs("div",{className:"flex items-end justify-between gap-4",children:[C.jsx("div",{children:C.jsxs("div",{className:"flex items-baseline gap-2",children:[C.jsx("span",{className:"text-lg font-bold tabular-nums tracking-tight",children:ma(t.price)}),o!==0&&C.jsxs("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded flex items-center gap-0.5 ${o>0?"text-red-400 bg-red-400/10":"text-green-400 bg-green-400/10"}`,children:[o>0?"+":"",ma(o)]})]})}),t.upgradeScore&&C.jsx("div",{className:"flex flex-col items-end",children:C.jsxs(see,{children:[C.jsx(oee,{children:C.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-[10px] font-bold border ${t.upgradeScore>80?"bg-green-500/10 text-green-400 border-green-500/20":"bg-white/5 text-muted-foreground border-white/10"}`,children:[C.jsx(qH,{className:"h-2.5 w-2.5 fill-current"}),Math.round(t.upgradeScore)]})}),C.jsx(kW,{side:"left",children:"Upgrade Score"})]})})]}),C.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0 duration-200",children:[C.jsx(cs,{size:"icon",variant:"ghost",className:"h-7 w-7 rounded-lg hover:bg-primary/20 text-primary",onClick:f=>{f.stopPropagation(),i()},title:"Vlg til sammenligning",children:C.jsx(EC,{className:"h-3.5 w-3.5"})}),C.jsx(cs,{size:"icon",variant:"secondary",className:"h-7 w-7 rounded-lg",onClick:f=>{f.stopPropagation(),u()},children:a?C.jsx(_O,{className:"h-3.5 w-3.5 text-green-400"}):C.jsx(zH,{className:"h-3.5 w-3.5"})}),C.jsx(cs,{size:"icon",variant:"secondary",className:"h-7 w-7 rounded-lg",asChild:!0,onClick:f=>f.stopPropagation(),children:C.jsx("a",{href:t.productUrl,target:"_blank",rel:"noopener noreferrer",children:C.jsx(HH,{className:"h-3.5 w-3.5"})})})]})]})]}),C.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 grid grid-cols-3 gap-2 text-[10px] text-muted-foreground/80",children:[t.specs?.ram&&C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx($H,{className:"h-3 w-3 opacity-50"}),C.jsx("span",{className:"truncate",children:t.specs.ram})]}),t.specs?.storage&&C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(WH,{className:"h-3 w-3 opacity-50"}),C.jsx("span",{className:"truncate",children:t.specs.storage})]}),t.specs?.cpu&&C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(VH,{className:"h-3 w-3 opacity-50"}),C.jsx("span",{className:"truncate",children:t.specs.cpu.split(" ")[0]})]})]})]})});C8.displayName="AlternativeItem";var rM,Gk;function Ns(){if(Gk)return rM;Gk=1;var t=Array.isArray;return rM=t,rM}var iM,$k;function R8(){if($k)return iM;$k=1;var t=typeof vx=="object"&&vx&&vx.Object===Object&&vx;return iM=t,iM}var sM,qk;function nl(){if(qk)return sM;qk=1;var t=R8(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return sM=n,sM}var oM,Xk;function Qy(){if(Xk)return oM;Xk=1;var t=nl(),e=t.Symbol;return oM=e,oM}var aM,Kk;function fse(){if(Kk)return aM;Kk=1;var t=Qy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(a?o[i]=l:delete o[i]),f}return aM=s,aM}var lM,Yk;function dse(){if(Yk)return lM;Yk=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return lM=n,lM}var uM,Zk;function mu(){if(Zk)return uM;Zk=1;var t=Qy(),e=fse(),n=dse(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return uM=o,uM}var cM,Qk;function gu(){if(Qk)return cM;Qk=1;function t(e){return e!=null&&typeof e=="object"}return cM=t,cM}var fM,Jk;function _m(){if(Jk)return fM;Jk=1;var t=mu(),e=gu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return fM=r,fM}var dM,e3;function wN(){if(e3)return dM;e3=1;var t=Ns(),e=_m(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return dM=i,dM}var hM,t3;function Cc(){if(t3)return hM;t3=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return hM=t,hM}var pM,n3;function SN(){if(n3)return pM;n3=1;var t=mu(),e=Cc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return pM=o,pM}var mM,r3;function hse(){if(r3)return mM;r3=1;var t=nl(),e=t["__core-js_shared__"];return mM=e,mM}var gM,i3;function pse(){if(i3)return gM;i3=1;var t=hse(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return gM=n,gM}var vM,s3;function O8(){if(s3)return vM;s3=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return vM=n,vM}var yM,o3;function mse(){if(o3)return yM;o3=1;var t=SN(),e=pse(),n=Cc(),r=O8(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!n(p)||e(p))return!1;var v=t(p)?f:s;return v.test(r(p))}return yM=d,yM}var xM,a3;function gse(){if(a3)return xM;a3=1;function t(e,n){return e?.[n]}return xM=t,xM}var _M,l3;function Pd(){if(l3)return _M;l3=1;var t=mse(),e=gse();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return _M=n,_M}var bM,u3;function jw(){if(u3)return bM;u3=1;var t=Pd(),e=t(Object,"create");return bM=e,bM}var wM,c3;function vse(){if(c3)return wM;c3=1;var t=jw();function e(){this.__data__=t?t(null):{},this.size=0}return wM=e,wM}var SM,f3;function yse(){if(f3)return SM;f3=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return SM=t,SM}var MM,d3;function xse(){if(d3)return MM;d3=1;var t=jw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return MM=i,MM}var EM,h3;function _se(){if(h3)return EM;h3=1;var t=jw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return EM=r,EM}var TM,p3;function bse(){if(p3)return TM;p3=1;var t=jw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return TM=n,TM}var AM,m3;function wse(){if(m3)return AM;m3=1;var t=vse(),e=yse(),n=xse(),r=_se(),i=bse();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,AM=s,AM}var PM,g3;function Sse(){if(g3)return PM;g3=1;function t(){this.__data__=[],this.size=0}return PM=t,PM}var CM,v3;function MN(){if(v3)return CM;v3=1;function t(e,n){return e===n||e!==e&&n!==n}return CM=t,CM}var RM,y3;function zw(){if(y3)return RM;y3=1;var t=MN();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return RM=e,RM}var OM,x3;function Mse(){if(x3)return OM;x3=1;var t=zw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return OM=r,OM}var NM,_3;function Ese(){if(_3)return NM;_3=1;var t=zw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return NM=e,NM}var IM,b3;function Tse(){if(b3)return IM;b3=1;var t=zw();function e(n){return t(this.__data__,n)>-1}return IM=e,IM}var LM,w3;function Ase(){if(w3)return LM;w3=1;var t=zw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return LM=e,LM}var DM,S3;function Vw(){if(S3)return DM;S3=1;var t=Sse(),e=Mse(),n=Ese(),r=Tse(),i=Ase();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,DM=s,DM}var kM,M3;function EN(){if(M3)return kM;M3=1;var t=Pd(),e=nl(),n=t(e,"Map");return kM=n,kM}var FM,E3;function Pse(){if(E3)return FM;E3=1;var t=wse(),e=Vw(),n=EN();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return FM=r,FM}var UM,T3;function Cse(){if(T3)return UM;T3=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return UM=t,UM}var BM,A3;function Hw(){if(A3)return BM;A3=1;var t=Cse();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return BM=e,BM}var jM,P3;function Rse(){if(P3)return jM;P3=1;var t=Hw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return jM=e,jM}var zM,C3;function Ose(){if(C3)return zM;C3=1;var t=Hw();function e(n){return t(this,n).get(n)}return zM=e,zM}var VM,R3;function Nse(){if(R3)return VM;R3=1;var t=Hw();function e(n){return t(this,n).has(n)}return VM=e,VM}var HM,O3;function Ise(){if(O3)return HM;O3=1;var t=Hw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return HM=e,HM}var WM,N3;function TN(){if(N3)return WM;N3=1;var t=Pse(),e=Rse(),n=Ose(),r=Nse(),i=Ise();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,WM=s,WM}var GM,I3;function N8(){if(I3)return GM;I3=1;var t=TN(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,GM=n,GM}var $M,L3;function Lse(){if(L3)return $M;L3=1;var t=N8(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return $M=n,$M}var qM,D3;function Dse(){if(D3)return qM;D3=1;var t=Lse(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return qM=r,qM}var XM,k3;function AN(){if(k3)return XM;k3=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return XM=t,XM}var KM,F3;function kse(){if(F3)return KM;F3=1;var t=Qy(),e=AN(),n=Ns(),r=_m(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return KM=o,KM}var YM,U3;function I8(){if(U3)return YM;U3=1;var t=kse();function e(n){return n==null?"":t(n)}return YM=e,YM}var ZM,B3;function L8(){if(B3)return ZM;B3=1;var t=Ns(),e=wN(),n=Dse(),r=I8();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return ZM=i,ZM}var QM,j3;function Ww(){if(j3)return QM;j3=1;var t=_m();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return QM=e,QM}var JM,z3;function PN(){if(z3)return JM;z3=1;var t=L8(),e=Ww();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return JM=n,JM}var eE,V3;function D8(){if(V3)return eE;V3=1;var t=PN();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return eE=e,eE}var Fse=D8();const Po=Tn(Fse);var tE,H3;function Use(){if(H3)return tE;H3=1;function t(e){return e==null}return tE=t,tE}var Bse=Use();const nn=Tn(Bse);var nE,W3;function jse(){if(W3)return nE;W3=1;var t=mu(),e=Ns(),n=gu(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return nE=i,nE}var zse=jse();const Jy=Tn(zse);var Vse=SN();const cn=Tn(Vse);var Hse=Cc();const bm=Tn(Hse);var rE={exports:{}},Cn={};var G3;function Wse(){if(G3)return Cn;G3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case i:case r:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case l:case p:case d:case s:return y;default:return w}}case e:return w}}}return Cn.ContextConsumer=o,Cn.ContextProvider=s,Cn.Element=t,Cn.ForwardRef=l,Cn.Fragment=n,Cn.Lazy=p,Cn.Memo=d,Cn.Portal=e,Cn.Profiler=i,Cn.StrictMode=r,Cn.Suspense=u,Cn.SuspenseList=f,Cn.isAsyncMode=function(){return!1},Cn.isConcurrentMode=function(){return!1},Cn.isContextConsumer=function(y){return b(y)===o},Cn.isContextProvider=function(y){return b(y)===s},Cn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Cn.isForwardRef=function(y){return b(y)===l},Cn.isFragment=function(y){return b(y)===n},Cn.isLazy=function(y){return b(y)===p},Cn.isMemo=function(y){return b(y)===d},Cn.isPortal=function(y){return b(y)===e},Cn.isProfiler=function(y){return b(y)===i},Cn.isStrictMode=function(y){return b(y)===r},Cn.isSuspense=function(y){return b(y)===u},Cn.isSuspenseList=function(y){return b(y)===f},Cn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===f||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===d||y.$$typeof===s||y.$$typeof===o||y.$$typeof===l||y.$$typeof===x||y.getModuleId!==void 0)},Cn.typeOf=b,Cn}var $3;function Gse(){return $3||($3=1,rE.exports=Wse()),rE.exports}var $se=Gse(),iE,q3;function k8(){if(q3)return iE;q3=1;var t=mu(),e=gu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return iE=r,iE}var sE,X3;function qse(){if(X3)return sE;X3=1;var t=k8();function e(n){return t(n)&&n!=+n}return sE=e,sE}var Xse=qse();const e0=Tn(Xse);var Kse=k8();const Yse=Tn(Kse);var ha=function(e){return e===0?0:e>0?1:-1},Yf=function(e){return Jy(e)&&e.indexOf("%")===e.length-1},dt=function(e){return Yse(e)&&!e0(e)},Yr=function(e){return dt(e)||Jy(e)},Zse=0,t0=function(e){var n=++Zse;return"".concat(e||"").concat(n)},vd=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(e)&&!Jy(e))return r;var s;if(Yf(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return e0(s)&&(s=r),i&&s>n&&(s=n),s},op=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Qse=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ba=function(e,n){return dt(e)&&dt(n)?function(r){return e+r*(n-e)}:function(){return n}};function pb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Po(r,e))===n})}var Jse=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,s=0,o=0,a=1/0,l=-1/0,u=0,f=0,d=0;d<n;d++)u=e[d].cx||0,f=e[d].cy||0,r+=u,i+=f,s+=u*f,o+=u*u,a=Math.min(a,u),l=Math.max(l,u);var p=n*o!==r*r?(n*s-r*i)/(n*o-r*r):0;return{xmin:a,xmax:l,a:p,b:(i-p*r)/n}};function Ap(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function XC(t){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XC(t)}var eoe=["viewBox","children"],toe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],K3=["points","pathLength"],oE={svg:eoe,polygon:K3,polyline:K3},CN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!bm(r))return null;var i={};return Object.keys(r).forEach(function(s){CN.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},noe=function(e,n,r){return function(i){return e(n,r,i),null}},jv=function(e,n,r){if(!bm(e)||XC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];CN.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=noe(o,n,r))}),i},roe=["children"],ioe=["children"];function Y3(t,e){if(t==null)return{};var n=soe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Z3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q3=null,aE=null,RN=function t(e){if(e===Q3&&Array.isArray(aE))return aE;var n=[];return B.Children.forEach(e,function(r){nn(r)||($se.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),aE=n,Q3=e,n};function eo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Jl(i)}):r=[Jl(e)],RN(t).forEach(function(i){var s=Po(i,"type.displayName")||Po(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function qs(t,e){var n=eo(t,e);return n&&n[0]}var J3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!dt(r)||r<=0||!dt(i)||i<=0)},ooe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aoe=function(e){return e&&e.type&&Jy(e.type)&&ooe.indexOf(e.type)>=0},loe=function(e,n,r,i){var s,o=(s=oE?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!cn(e)&&(i&&o.includes(n)||toe.includes(n))||r&&CN.includes(n)},xn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!bm(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;loe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},KC=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return eF(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!eF(s,o))return!1}return!0},eF=function(e,n){if(nn(e)&&nn(n))return!0;if(!nn(e)&&!nn(n)){var r=e.props||{},i=r.children,s=Y3(r,roe),o=n.props||{},a=o.children,l=Y3(o,ioe);return i&&a?Ap(s,l)&&KC(i,a):!i&&!a?Ap(s,l):!1}return!1},tF=function(e,n){var r=[],i={};return RN(e).forEach(function(s,o){if(aoe(s))r.push(s);else if(s){var a=Jl(s.type),l=n[a]||{},u=l.handler,f=l.once;if(u&&(!f||!i[a])){var d=u(s,a,o);r.push(d),i[a]=!0}}}),r},uoe=function(e){var n=e&&e.type;return n&&Z3[n]?Z3[n]:null},coe=function(e,n){return RN(n).indexOf(e)},foe=["children","width","height","viewBox","className","style","title","desc"];function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function doe(t,e){if(t==null)return{};var n=hoe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=doe(t,foe),f=i||{width:n,height:r,x:0,y:0},d=bn("recharts-surface",s);return fe.createElement("svg",YC({},xn(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),fe.createElement("title",null,a),fe.createElement("desc",null,l),e)}var poe=["children","className"];function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(this,arguments)}function moe(t,e){if(t==null)return{};var n=goe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hr=fe.forwardRef(function(t,e){var n=t.children,r=t.className,i=moe(t,poe),s=bn("recharts-layer",r);return fe.createElement("g",QC({className:s},xn(i,!0),{ref:e}),n)}),sd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},lE,nF;function voe(){if(nF)return lE;nF=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return lE=t,lE}var uE,rF;function yoe(){if(rF)return uE;rF=1;var t=voe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return uE=e,uE}var cE,iF;function F8(){if(iF)return cE;iF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(u){return a.test(u)}return cE=l,cE}var fE,sF;function xoe(){if(sF)return fE;sF=1;function t(e){return e.split("")}return fE=t,fE}var dE,oF;function _oe(){if(oF)return dE;oF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",f="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=u+"?",b="["+s+"]?",y="(?:"+v+"(?:"+[f,d,p].join("|")+")"+b+x+")*",w=b+x+y,M="(?:"+[f+a+"?",a,d,p,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+M+w,"g");function A(P){return P.match(S)||[]}return dE=A,dE}var hE,aF;function boe(){if(aF)return hE;aF=1;var t=xoe(),e=F8(),n=_oe();function r(i){return e(i)?n(i):t(i)}return hE=r,hE}var pE,lF;function woe(){if(lF)return pE;lF=1;var t=yoe(),e=F8(),n=boe(),r=I8();function i(s){return function(o){o=r(o);var a=e(o)?n(o):void 0,l=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return l[s]()+u}}return pE=i,pE}var mE,uF;function Soe(){if(uF)return mE;uF=1;var t=woe(),e=t("toUpperCase");return mE=e,mE}var Moe=Soe();const Gw=Tn(Moe);function Kn(t){return function(){return t}}const U8=Math.cos,gb=Math.sin,_a=Math.sqrt,vb=Math.PI,$w=2*vb,JC=Math.PI,eR=2*JC,Hf=1e-6,Eoe=eR-Hf;function B8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Toe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return B8;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Aoe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?B8:Toe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,f=o-e,d=a-n,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Hf)if(!(Math.abs(d*l-u*f)>Hf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,x=i-a,b=l*l+u*u,y=v*v+x*x,w=Math.sqrt(b),M=Math.sqrt(p),S=s*Math.tan((JC-Math.acos((b+p-y)/(2*w*M)))/2),A=S/M,P=S/w;Math.abs(A-1)>Hf&&this._append`L${e+A*f},${n+A*d}`,this._append`A${s},${s},0,0,${+(d*v>f*x)},${this._x1=e+P*l},${this._y1=n+P*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,f=n+l,d=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Hf||Math.abs(this._y1-f)>Hf)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%eR+eR),p>Eoe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:p>Hf&&this._append`A${r},${r},0,${+(p>=JC)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function ON(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Aoe(e)}function NN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j8(t){this._context=t}j8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qw(t){return new j8(t)}function z8(t){return t[0]}function V8(t){return t[1]}function H8(t,e){var n=Kn(!0),r=null,i=qw,s=null,o=ON(a);t=typeof t=="function"?t:t===void 0?z8:Kn(t),e=typeof e=="function"?e:e===void 0?V8:Kn(e);function a(l){var u,f=(l=NN(l)).length,d,p=!1,v;for(r==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&n(d=l[u],u,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(d,u,l),+e(d,u,l));if(v)return s=null,v+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Cx(t,e,n){var r=null,i=Kn(!0),s=null,o=qw,a=null,l=ON(u);t=typeof t=="function"?t:t===void 0?z8:Kn(+t),e=typeof e=="function"?e:Kn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?V8:Kn(+n);function u(d){var p,v,x,b=(d=NN(d)).length,y,w=!1,M,S=new Array(b),A=new Array(b);for(s==null&&(a=o(M=l())),p=0;p<=b;++p){if(!(p<b&&i(y=d[p],p,d))===w)if(w=!w)v=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=p-1;x>=v;--x)a.point(S[x],A[x]);a.lineEnd(),a.areaEnd()}w&&(S[p]=+t(y,p,d),A[p]=+e(y,p,d),a.point(r?+r(y,p,d):S[p],n?+n(y,p,d):A[p]))}if(M)return a=null,M+""||null}function f(){return H8().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Kn(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Kn(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Kn(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Kn(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Kn(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Kn(+d),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Kn(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}class W8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Poe(t){return new W8(t,!0)}function Coe(t){return new W8(t,!1)}const IN={draw(t,e){const n=_a(e/vb);t.moveTo(n,0),t.arc(0,0,n,0,$w)}},Roe={draw(t,e){const n=_a(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G8=_a(1/3),Ooe=G8*2,Noe={draw(t,e){const n=_a(e/Ooe),r=n*G8;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ioe={draw(t,e){const n=_a(e),r=-n/2;t.rect(r,r,n,n)}},Loe=.8908130915292852,$8=gb(vb/10)/gb(7*vb/10),Doe=gb($w/10)*$8,koe=-U8($w/10)*$8,Foe={draw(t,e){const n=_a(e*Loe),r=Doe*n,i=koe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=$w*s/5,a=U8(o),l=gb(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},gE=_a(3),Uoe={draw(t,e){const n=-_a(e/(gE*3));t.moveTo(0,n*2),t.lineTo(-gE*n,-n),t.lineTo(gE*n,-n),t.closePath()}},go=-.5,vo=_a(3)/2,tR=1/_a(12),Boe=(tR/2+1)*3,joe={draw(t,e){const n=_a(e/Boe),r=n/2,i=n*tR,s=r,o=n*tR+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(go*r-vo*i,vo*r+go*i),t.lineTo(go*s-vo*o,vo*s+go*o),t.lineTo(go*a-vo*l,vo*a+go*l),t.lineTo(go*r+vo*i,go*i-vo*r),t.lineTo(go*s+vo*o,go*o-vo*s),t.lineTo(go*a+vo*l,go*l-vo*a),t.closePath()}};function zoe(t,e){let n=null,r=ON(i);t=typeof t=="function"?t:Kn(t||IN),e=typeof e=="function"?e:Kn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function yb(){}function xb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q8(t){this._context=t}q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Voe(t){return new q8(t)}function X8(t){this._context=t}X8.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hoe(t){return new X8(t)}function K8(t){this._context=t}K8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Woe(t){return new K8(t)}function Y8(t){this._context=t}Y8.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Goe(t){return new Y8(t)}function cF(t){return t<0?-1:1}function fF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(cF(s)+cF(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function dF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function _b(t){this._context=t}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vE(this,this._t0,dF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vE(this,dF(this,n=fF(this,t,e)),n);break;default:vE(this,this._t0,n=fF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Z8(t){this._context=new Q8(t)}(Z8.prototype=Object.create(_b.prototype)).point=function(t,e){_b.prototype.point.call(this,e,t)};function Q8(t){this._context=t}Q8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function $oe(t){return new _b(t)}function qoe(t){return new Z8(t)}function J8(t){this._context=t}J8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hF(t),i=hF(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hF(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Xoe(t){return new J8(t)}function Xw(t,e){this._context=t,this._t=e}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Koe(t){return new Xw(t,.5)}function Yoe(t){return new Xw(t,0)}function Zoe(t){return new Xw(t,1)}function zp(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Qoe(t,e){return t[e]}function Joe(t){const e=[];return e.key=t,e}function eae(){var t=Kn([]),e=nR,n=zp,r=Qoe;function i(s){var o=Array.from(t.apply(this,arguments),Joe),a,l=o.length,u=-1,f;for(const d of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(d,o[a].key,u,s)]).data=d;for(a=0,f=NN(e(o));a<l;++a)o[f[a]].index=a;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Kn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?nR:typeof s=="function"?s:Kn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??zp,i):n},i}function tae(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}zp(t,e)}}function nae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}zp(t,e)}}function rae(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var f=t[e[a]],d=f[r][1]||0,p=f[r-1][1]||0,v=(d-p)/2,x=0;x<a;++x){var b=t[e[x]],y=b[r][1]||0,w=b[r-1][1]||0;v+=y-w}l+=d,u+=v*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,zp(t,e)}}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}var iae=["type","size","sizeType"];function rR(){return rR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rR.apply(this,arguments)}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return zv(e)=="symbol"?e:e+""}function aae(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e){if(t==null)return{};var n=uae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eG={symbolCircle:IN,symbolCross:Roe,symbolDiamond:Noe,symbolSquare:Ioe,symbolStar:Foe,symbolTriangle:Uoe,symbolWye:joe},cae=Math.PI/180,fae=function(e){var n="symbol".concat(Gw(e));return eG[n]||IN},dae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*cae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hae=function(e,n){eG["symbol".concat(Gw(e))]=n},Kw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=lae(e,iae),u=mF(mF({},l),{},{type:r,size:s,sizeType:a}),f=function(){var y=fae(r),w=zoe().type(y).size(dae(s,a,r));return w()},d=u.className,p=u.cx,v=u.cy,x=xn(u,!0);return p===+p&&v===+v&&s===+s?fe.createElement("path",rR({},x,{className:bn("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};Kw.registerSymbol=hae;function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iR.apply(this,arguments)}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nG(r.key),r)}}function vae(t,e,n){return e&&gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yae(t,e,n){return e=bb(e),xae(t,tG()?Reflect.construct(e,n||[],bb(t).constructor):e.apply(t,n))}function xae(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ae(t)}function _ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bb(t)}function bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sR(t,e)}function sR(t,e){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sR(t,e)}function Vv(t,e,n){return e=nG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=wae(t,"string");return Vp(e)=="symbol"?e:e+""}function wae(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yo=32,LN=(function(t){function e(){return mae(this,e),yae(this,e,arguments)}return bae(e,t),vae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=yo/2,o=yo/6,a=yo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:yo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(yo,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return fe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yo/8,"h").concat(yo,"v").concat(yo*3/4,"h").concat(-yo,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(r.legendIcon)){var u=pae({},r);return delete u.legendIcon,fe.cloneElement(r.legendIcon,u)}return fe.createElement(Kw,{fill:l,cx:s,cy:s,size:yo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:yo,height:yo},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,x){var b=v.formatter||l,y=bn(Vv(Vv({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var w=cn(v.value)?null:v.value;sd(!cn(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=v.inactive?u:v.color;return fe.createElement("li",iR({className:y,style:d,key:"legend-item-".concat(x)},jv(r.props,v,x)),fe.createElement(ZC,{width:o,height:o,viewBox:f,style:p},r.renderIcon(v)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},b?b(w,v,x):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(B.PureComponent);Vv(LN,"displayName","Legend");Vv(LN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yE,vF;function Sae(){if(vF)return yE;vF=1;var t=Vw();function e(){this.__data__=new t,this.size=0}return yE=e,yE}var xE,yF;function Mae(){if(yF)return xE;yF=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return xE=t,xE}var _E,xF;function Eae(){if(xF)return _E;xF=1;function t(e){return this.__data__.get(e)}return _E=t,_E}var bE,_F;function Tae(){if(_F)return bE;_F=1;function t(e){return this.__data__.has(e)}return bE=t,bE}var wE,bF;function Aae(){if(bF)return wE;bF=1;var t=Vw(),e=EN(),n=TN(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return wE=i,wE}var SE,wF;function rG(){if(wF)return SE;wF=1;var t=Vw(),e=Sae(),n=Mae(),r=Eae(),i=Tae(),s=Aae();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,SE=o,SE}var ME,SF;function Pae(){if(SF)return ME;SF=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return ME=e,ME}var EE,MF;function Cae(){if(MF)return EE;MF=1;function t(e){return this.__data__.has(e)}return EE=t,EE}var TE,EF;function iG(){if(EF)return TE;EF=1;var t=TN(),e=Pae(),n=Cae();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,TE=r,TE}var AE,TF;function sG(){if(TF)return AE;TF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return AE=t,AE}var PE,AF;function oG(){if(AF)return PE;AF=1;function t(e,n){return e.has(n)}return PE=t,PE}var CE,PF;function aG(){if(PF)return CE;PF=1;var t=iG(),e=sG(),n=oG(),r=1,i=2;function s(o,a,l,u,f,d){var p=l&r,v=o.length,x=a.length;if(v!=x&&!(p&&x>v))return!1;var b=d.get(o),y=d.get(a);if(b&&y)return b==a&&y==o;var w=-1,M=!0,S=l&i?new t:void 0;for(d.set(o,a),d.set(a,o);++w<v;){var A=o[w],P=a[w];if(u)var O=p?u(P,A,w,a,o,d):u(A,P,w,o,a,d);if(O!==void 0){if(O)continue;M=!1;break}if(S){if(!e(a,function(I,k){if(!n(S,k)&&(A===I||f(A,I,l,u,d)))return S.push(k)})){M=!1;break}}else if(!(A===P||f(A,P,l,u,d))){M=!1;break}}return d.delete(o),d.delete(a),M}return CE=s,CE}var RE,CF;function Rae(){if(CF)return RE;CF=1;var t=nl(),e=t.Uint8Array;return RE=e,RE}var OE,RF;function Oae(){if(RF)return OE;RF=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return OE=t,OE}var NE,OF;function DN(){if(OF)return NE;OF=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return NE=t,NE}var IE,NF;function Nae(){if(NF)return IE;NF=1;var t=Qy(),e=Rae(),n=MN(),r=aG(),i=Oae(),s=DN(),o=1,a=2,l="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Map]",p="[object Number]",v="[object RegExp]",x="[object Set]",b="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",M="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function P(O,I,k,L,F,j,H){switch(k){case M:if(O.byteLength!=I.byteLength||O.byteOffset!=I.byteOffset)return!1;O=O.buffer,I=I.buffer;case w:return!(O.byteLength!=I.byteLength||!j(new e(O),new e(I)));case l:case u:case p:return n(+O,+I);case f:return O.name==I.name&&O.message==I.message;case v:case b:return O==I+"";case d:var q=i;case x:var X=L&o;if(q||(q=s),O.size!=I.size&&!X)return!1;var J=H.get(O);if(J)return J==I;L|=a,H.set(O,I);var Z=r(q(O),q(I),L,F,j,H);return H.delete(O),Z;case y:if(A)return A.call(O)==A.call(I)}return!1}return IE=P,IE}var LE,IF;function lG(){if(IF)return LE;IF=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return LE=t,LE}var DE,LF;function Iae(){if(LF)return DE;LF=1;var t=lG(),e=Ns();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return DE=n,DE}var kE,DF;function Lae(){if(DF)return kE;DF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return kE=t,kE}var FE,kF;function Dae(){if(kF)return FE;kF=1;function t(){return[]}return FE=t,FE}var UE,FF;function kae(){if(FF)return UE;FF=1;var t=Lae(),e=Dae(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return UE=s,UE}var BE,UF;function Fae(){if(UF)return BE;UF=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return BE=t,BE}var jE,BF;function Uae(){if(BF)return jE;BF=1;var t=mu(),e=gu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return jE=r,jE}var zE,jF;function kN(){if(jF)return zE;jF=1;var t=Uae(),e=gu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return zE=s,zE}var lv={exports:{}},VE,zF;function Bae(){if(zF)return VE;zF=1;function t(){return!1}return VE=t,VE}lv.exports;var VF;function uG(){return VF||(VF=1,(function(t,e){var n=nl(),r=Bae(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(lv,lv.exports)),lv.exports}var HE,HF;function FN(){if(HF)return HE;HF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return HE=n,HE}var WE,WF;function UN(){if(WF)return WE;WF=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return WE=e,WE}var GE,GF;function jae(){if(GF)return GE;GF=1;var t=mu(),e=UN(),n=gu(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",p="[object RegExp]",v="[object Set]",x="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",M="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",F="[object Uint32Array]",j={};j[M]=j[S]=j[A]=j[P]=j[O]=j[I]=j[k]=j[L]=j[F]=!0,j[r]=j[i]=j[y]=j[s]=j[w]=j[o]=j[a]=j[l]=j[u]=j[f]=j[d]=j[p]=j[v]=j[x]=j[b]=!1;function H(q){return n(q)&&e(q.length)&&!!j[t(q)]}return GE=H,GE}var $E,$F;function cG(){if($F)return $E;$F=1;function t(e){return function(n){return e(n)}}return $E=t,$E}var uv={exports:{}};uv.exports;var qF;function zae(){return qF||(qF=1,(function(t,e){var n=R8(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(uv,uv.exports)),uv.exports}var qE,XF;function fG(){if(XF)return qE;XF=1;var t=jae(),e=cG(),n=zae(),r=n&&n.isTypedArray,i=r?e(r):t;return qE=i,qE}var XE,KF;function Vae(){if(KF)return XE;KF=1;var t=Fae(),e=kN(),n=Ns(),r=uG(),i=FN(),s=fG(),o=Object.prototype,a=o.hasOwnProperty;function l(u,f){var d=n(u),p=!d&&e(u),v=!d&&!p&&r(u),x=!d&&!p&&!v&&s(u),b=d||p||v||x,y=b?t(u.length,String):[],w=y.length;for(var M in u)(f||a.call(u,M))&&!(b&&(M=="length"||v&&(M=="offset"||M=="parent")||x&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||i(M,w)))&&y.push(M);return y}return XE=l,XE}var KE,YF;function Hae(){if(YF)return KE;YF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return KE=e,KE}var YE,ZF;function dG(){if(ZF)return YE;ZF=1;function t(e,n){return function(r){return e(n(r))}}return YE=t,YE}var ZE,QF;function Wae(){if(QF)return ZE;QF=1;var t=dG(),e=t(Object.keys,Object);return ZE=e,ZE}var QE,JF;function Gae(){if(JF)return QE;JF=1;var t=Hae(),e=Wae(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return QE=i,QE}var JE,eU;function n0(){if(eU)return JE;eU=1;var t=SN(),e=UN();function n(r){return r!=null&&e(r.length)&&!t(r)}return JE=n,JE}var eT,tU;function Yw(){if(tU)return eT;tU=1;var t=Vae(),e=Gae(),n=n0();function r(i){return n(i)?t(i):e(i)}return eT=r,eT}var tT,nU;function $ae(){if(nU)return tT;nU=1;var t=Iae(),e=kae(),n=Yw();function r(i){return t(i,n,e)}return tT=r,tT}var nT,rU;function qae(){if(rU)return nT;rU=1;var t=$ae(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,f){var d=a&e,p=t(s),v=p.length,x=t(o),b=x.length;if(v!=b&&!d)return!1;for(var y=v;y--;){var w=p[y];if(!(d?w in o:r.call(o,w)))return!1}var M=f.get(s),S=f.get(o);if(M&&S)return M==o&&S==s;var A=!0;f.set(s,o),f.set(o,s);for(var P=d;++y<v;){w=p[y];var O=s[w],I=o[w];if(l)var k=d?l(I,O,w,o,s,f):l(O,I,w,s,o,f);if(!(k===void 0?O===I||u(O,I,a,l,f):k)){A=!1;break}P||(P=w=="constructor")}if(A&&!P){var L=s.constructor,F=o.constructor;L!=F&&"constructor"in s&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof F=="function"&&F instanceof F)&&(A=!1)}return f.delete(s),f.delete(o),A}return nT=i,nT}var rT,iU;function Xae(){if(iU)return rT;iU=1;var t=Pd(),e=nl(),n=t(e,"DataView");return rT=n,rT}var iT,sU;function Kae(){if(sU)return iT;sU=1;var t=Pd(),e=nl(),n=t(e,"Promise");return iT=n,iT}var sT,oU;function hG(){if(oU)return sT;oU=1;var t=Pd(),e=nl(),n=t(e,"Set");return sT=n,sT}var oT,aU;function Yae(){if(aU)return oT;aU=1;var t=Pd(),e=nl(),n=t(e,"WeakMap");return oT=n,oT}var aT,lU;function Zae(){if(lU)return aT;lU=1;var t=Xae(),e=EN(),n=Kae(),r=hG(),i=Yae(),s=mu(),o=O8(),a="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",v=o(t),x=o(e),b=o(n),y=o(r),w=o(i),M=s;return(t&&M(new t(new ArrayBuffer(1)))!=p||e&&M(new e)!=a||n&&M(n.resolve())!=u||r&&M(new r)!=f||i&&M(new i)!=d)&&(M=function(S){var A=s(S),P=A==l?S.constructor:void 0,O=P?o(P):"";if(O)switch(O){case v:return p;case x:return a;case b:return u;case y:return f;case w:return d}return A}),aT=M,aT}var lT,uU;function Qae(){if(uU)return lT;uU=1;var t=rG(),e=aG(),n=Nae(),r=qae(),i=Zae(),s=Ns(),o=uG(),a=fG(),l=1,u="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function x(b,y,w,M,S,A){var P=s(b),O=s(y),I=P?f:i(b),k=O?f:i(y);I=I==u?d:I,k=k==u?d:k;var L=I==d,F=k==d,j=I==k;if(j&&o(b)){if(!o(y))return!1;P=!0,L=!1}if(j&&!L)return A||(A=new t),P||a(b)?e(b,y,w,M,S,A):n(b,y,I,w,M,S,A);if(!(w&l)){var H=L&&v.call(b,"__wrapped__"),q=F&&v.call(y,"__wrapped__");if(H||q){var X=H?b.value():b,J=q?y.value():y;return A||(A=new t),S(X,J,w,M,A)}}return j?(A||(A=new t),r(b,y,w,M,S,A)):!1}return lT=x,lT}var uT,cU;function BN(){if(cU)return uT;cU=1;var t=Qae(),e=gu();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return uT=n,uT}var cT,fU;function Jae(){if(fU)return cT;fU=1;var t=rG(),e=BN(),n=1,r=2;function i(s,o,a,l){var u=a.length,f=u,d=!l;if(s==null)return!f;for(s=Object(s);u--;){var p=a[u];if(d&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++u<f;){p=a[u];var v=p[0],x=s[v],b=p[1];if(d&&p[2]){if(x===void 0&&!(v in s))return!1}else{var y=new t;if(l)var w=l(x,b,v,s,o,y);if(!(w===void 0?e(b,x,n|r,l,y):w))return!1}}return!0}return cT=i,cT}var fT,dU;function pG(){if(dU)return fT;dU=1;var t=Cc();function e(n){return n===n&&!t(n)}return fT=e,fT}var dT,hU;function ele(){if(hU)return dT;hU=1;var t=pG(),e=Yw();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,t(a)]}return i}return dT=n,dT}var hT,pU;function mG(){if(pU)return hT;pU=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return hT=t,hT}var pT,mU;function tle(){if(mU)return pT;mU=1;var t=Jae(),e=ele(),n=mG();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return pT=r,pT}var mT,gU;function nle(){if(gU)return mT;gU=1;function t(e,n){return e!=null&&n in Object(e)}return mT=t,mT}var gT,vU;function rle(){if(vU)return gT;vU=1;var t=L8(),e=kN(),n=Ns(),r=FN(),i=UN(),s=Ww();function o(a,l,u){l=t(l,a);for(var f=-1,d=l.length,p=!1;++f<d;){var v=s(l[f]);if(!(p=a!=null&&u(a,v)))break;a=a[v]}return p||++f!=d?p:(d=a==null?0:a.length,!!d&&i(d)&&r(v,d)&&(n(a)||e(a)))}return gT=o,gT}var vT,yU;function ile(){if(yU)return vT;yU=1;var t=nle(),e=rle();function n(r,i){return r!=null&&e(r,i,t)}return vT=n,vT}var yT,xU;function sle(){if(xU)return yT;xU=1;var t=BN(),e=D8(),n=ile(),r=wN(),i=pG(),s=mG(),o=Ww(),a=1,l=2;function u(f,d){return r(f)&&i(d)?s(o(f),d):function(p){var v=e(p,f);return v===void 0&&v===d?n(p,f):t(d,v,a|l)}}return yT=u,yT}var xT,_U;function wm(){if(_U)return xT;_U=1;function t(e){return e}return xT=t,xT}var _T,bU;function ole(){if(bU)return _T;bU=1;function t(e){return function(n){return n?.[e]}}return _T=t,_T}var bT,wU;function ale(){if(wU)return bT;wU=1;var t=PN();function e(n){return function(r){return t(r,n)}}return bT=e,bT}var wT,SU;function lle(){if(SU)return wT;SU=1;var t=ole(),e=ale(),n=wN(),r=Ww();function i(s){return n(s)?t(r(s)):e(s)}return wT=i,wT}var ST,MU;function Rc(){if(MU)return ST;MU=1;var t=tle(),e=sle(),n=wm(),r=Ns(),i=lle();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return ST=s,ST}var MT,EU;function gG(){if(EU)return MT;EU=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return MT=t,MT}var ET,TU;function ule(){if(TU)return ET;TU=1;function t(e){return e!==e}return ET=t,ET}var TT,AU;function cle(){if(AU)return TT;AU=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return TT=t,TT}var AT,PU;function fle(){if(PU)return AT;PU=1;var t=gG(),e=ule(),n=cle();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return AT=r,AT}var PT,CU;function dle(){if(CU)return PT;CU=1;var t=fle();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return PT=e,PT}var CT,RU;function hle(){if(RU)return CT;RU=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return CT=t,CT}var RT,OU;function ple(){if(OU)return RT;OU=1;function t(){}return RT=t,RT}var OT,NU;function mle(){if(NU)return OT;NU=1;var t=hG(),e=ple(),n=DN(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return OT=i,OT}var NT,IU;function gle(){if(IU)return NT;IU=1;var t=iG(),e=dle(),n=hle(),r=oG(),i=mle(),s=DN(),o=200;function a(l,u,f){var d=-1,p=e,v=l.length,x=!0,b=[],y=b;if(f)x=!1,p=n;else if(v>=o){var w=u?null:i(l);if(w)return s(w);x=!1,p=r,y=new t}else y=u?[]:b;e:for(;++d<v;){var M=l[d],S=u?u(M):M;if(M=f||M!==0?M:0,x&&S===S){for(var A=y.length;A--;)if(y[A]===S)continue e;u&&y.push(S),b.push(M)}else p(y,S,f)||(y!==b&&y.push(S),b.push(M))}return b}return NT=a,NT}var IT,LU;function vle(){if(LU)return IT;LU=1;var t=Rc(),e=gle();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return IT=n,IT}var yle=vle();const DU=Tn(yle);function vG(t,e,n){return e===!0?DU(t,n):cn(e)?DU(t,e):t}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var xle=["ref"];function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){Zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xG(r.key),r)}}function ble(t,e,n){return e&&FU(t.prototype,e),n&&FU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wle(t,e,n){return e=wb(e),Sle(t,yG()?Reflect.construct(e,n||[],wb(t).constructor):e.apply(t,n))}function Sle(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(t)}function Mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wb(t)}function Ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oR(t,e)}function oR(t,e){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oR(t,e)}function Zw(t,e,n){return e=xG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xG(t){var e=Tle(t,"string");return Hp(e)=="symbol"?e:e+""}function Tle(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ale(t,e){if(t==null)return{};var n=Ple(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ple(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cle(t){return t.value}function Rle(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var n=Ale(e,xle);return fe.createElement(LN,n)}var UU=1,Pp=(function(t){function e(){var n;_le(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=wle(this,e,[].concat(i)),Zw(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ele(e,t),ble(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>UU||Math.abs(i.height-this.lastBoundingBox.height)>UU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();d={left:((u||0)-v.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();p={top:((f||0)-x.height)/2}}else p=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bl(Bl({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=Bl(Bl({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return fe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(v){r.wrapperNode=v}},Rle(s,Bl(Bl({},this.props),{},{payload:vG(f,u,Cle)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Bl(Bl({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&dt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(B.PureComponent);Zw(Pp,"displayName","Legend");Zw(Pp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LT,BU;function Ole(){if(BU)return LT;BU=1;var t=Qy(),e=kN(),n=Ns(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return LT=i,LT}var DT,jU;function _G(){if(jU)return DT;jU=1;var t=lG(),e=Ole();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var f=r[l];i>0&&s(f)?i>1?n(f,i-1,s,o,a):t(a,f):o||(a[a.length]=f)}return a}return DT=n,DT}var kT,zU;function Nle(){if(zU)return kT;zU=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return n}}return kT=t,kT}var FT,VU;function Ile(){if(VU)return FT;VU=1;var t=Nle(),e=t();return FT=e,FT}var UT,HU;function bG(){if(HU)return UT;HU=1;var t=Ile(),e=Yw();function n(r,i){return r&&t(r,i,e)}return UT=n,UT}var BT,WU;function Lle(){if(WU)return BT;WU=1;var t=n0();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return BT=e,BT}var jT,GU;function jN(){if(GU)return jT;GU=1;var t=bG(),e=Lle(),n=e(t);return jT=n,jT}var zT,$U;function wG(){if($U)return zT;$U=1;var t=jN(),e=n0();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return zT=n,zT}var VT,qU;function Dle(){if(qU)return VT;qU=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return VT=t,VT}var HT,XU;function kle(){if(XU)return HT;XU=1;var t=_m();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=t(n),l=r!==void 0,u=r===null,f=r===r,d=t(r);if(!u&&!d&&!a&&n>r||a&&l&&f&&!u&&!d||s&&l&&f||!i&&f||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!f)return-1}return 0}return HT=e,HT}var WT,KU;function Fle(){if(KU)return WT;KU=1;var t=kle();function e(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var f=t(o[s],a[s]);if(f){if(s>=u)return f;var d=i[s];return f*(d=="desc"?-1:1)}}return n.index-r.index}return WT=e,WT}var GT,YU;function Ule(){if(YU)return GT;YU=1;var t=AN(),e=PN(),n=Rc(),r=wG(),i=Dle(),s=cG(),o=Fle(),a=wm(),l=Ns();function u(f,d,p){d.length?d=t(d,function(b){return l(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):d=[a];var v=-1;d=t(d,s(n));var x=r(f,function(b,y,w){var M=t(d,function(S){return S(b)});return{criteria:M,index:++v,value:b}});return i(x,function(b,y){return o(b,y,p)})}return GT=u,GT}var $T,ZU;function Ble(){if(ZU)return $T;ZU=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return $T=t,$T}var qT,QU;function jle(){if(QU)return qT;QU=1;var t=Ble(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(r,this,f)}}return qT=n,qT}var XT,JU;function zle(){if(JU)return XT;JU=1;function t(e){return function(){return e}}return XT=t,XT}var KT,eB;function SG(){if(eB)return KT;eB=1;var t=Pd(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return KT=e,KT}var YT,tB;function Vle(){if(tB)return YT;tB=1;var t=zle(),e=SG(),n=wm(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return YT=r,YT}var ZT,nB;function Hle(){if(nB)return ZT;nB=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return ZT=r,ZT}var QT,rB;function Wle(){if(rB)return QT;rB=1;var t=Vle(),e=Hle(),n=e(t);return QT=n,QT}var JT,iB;function Gle(){if(iB)return JT;iB=1;var t=wm(),e=jle(),n=Wle();function r(i,s){return n(e(i,s,t),i+"")}return JT=r,JT}var eA,sB;function Qw(){if(sB)return eA;sB=1;var t=MN(),e=n0(),n=FN(),r=Cc();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return eA=i,eA}var tA,oB;function $le(){if(oB)return tA;oB=1;var t=_G(),e=Ule(),n=Gle(),r=Qw(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return tA=i,tA}var qle=$le();const zN=Tn(qle);function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function aR(){return aR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aR.apply(this,arguments)}function Xle(t,e){return Qle(t)||Zle(t,e)||Yle(t,e)||Kle()}function Kle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yle(t,e){if(t){if(typeof t=="string")return aB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aB(t,e)}}function aB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Qle(t){if(Array.isArray(t))return t}function lB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return e=eue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return Hv(e)=="symbol"?e:e+""}function tue(t,e){if(Hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nue(t){return Array.isArray(t)&&Yr(t[0])&&Yr(t[1])?t.join(" ~ "):t}var rue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,d=e.formatter,p=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,b=e.label,y=e.labelFormatter,w=e.accessibilityLayer,M=w===void 0?!1:w,S=function(){if(f&&f.length){var H={padding:0,margin:0},q=(p?zN(f,p):f).map(function(X,J){if(X.type==="none")return null;var Z=nA({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},a),ee=X.formatter||d||nue,V=X.value,K=X.name,Q=V,G=K;if(ee&&Q!=null&&G!=null){var ne=ee(V,K,X,J,f);if(Array.isArray(ne)){var ye=Xle(ne,2);Q=ye[0],G=ye[1]}else Q=ne}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:Z},Yr(G)?fe.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Yr(G)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},Q),fe.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:H},q)}return null},A=nA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=nA({margin:0},u),O=!nn(b),I=O?b:"",k=bn("recharts-default-tooltip",v),L=bn("recharts-tooltip-label",x);O&&y&&f!==void 0&&f!==null&&(I=y(b,f));var F=M?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",aR({className:k,style:A},F),fe.createElement("p",{className:L,style:P},fe.isValidElement(I)?I:"".concat(I)),S())};function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function Rx(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=sue(t,"string");return Wv(e)=="symbol"?e:e+""}function sue(t,e){if(Wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ig="recharts-tooltip-wrapper",oue={visibility:"hidden"};function aue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return bn(Ig,Rx(Rx(Rx(Rx({},"".concat(Ig,"-right"),dt(n)&&e&&dt(e.x)&&n>=e.x),"".concat(Ig,"-left"),dt(n)&&e&&dt(e.x)&&n<e.x),"".concat(Ig,"-bottom"),dt(r)&&e&&dt(e.y)&&r>=e.y),"".concat(Ig,"-top"),dt(r)&&e&&dt(e.y)&&r<e.y))}function uB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&dt(s[r]))return s[r];var f=n[r]-a-i,d=n[r]+i;if(e[r])return o[r]?f:d;if(o[r]){var p=f,v=l[r];return p<v?Math.max(d,l[r]):Math.max(f,l[r])}var x=d+a,b=l[r]+u;return x>b?Math.max(f,l[r]):Math.max(d,l[r])}function lue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,f,d;return o.height>0&&o.width>0&&n?(f=uB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=uB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=lue({translateX:f,translateY:d,useTranslate3d:a})):u=oue,{cssProperties:u,cssClasses:aue({translateX:f,translateY:d,coordinate:n})}}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){uR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EG(r.key),r)}}function due(t,e,n){return e&&fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hue(t,e,n){return e=Sb(e),pue(t,MG()?Reflect.construct(e,n||[],Sb(t).constructor):e.apply(t,n))}function pue(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mue(t)}function mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sb(t)}function gue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lR(t,e)}function lR(t,e){return lR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lR(t,e)}function uR(t,e,n){return e=EG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=vue(t,"string");return Wp(e)=="symbol"?e:e+""}function vue(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dB=1,yue=(function(t){function e(){var n;cue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=hue(this,e,[].concat(i)),uR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uR(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return gue(e,t),due(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dB||Math.abs(r.height-this.state.lastBoundingBox.height)>dB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,v=i.offset,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,M=i.wrapperStyle,S=uue({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),A=S.cssClasses,P=S.cssProperties,O=fB(fB({transition:p&&s?"transform ".concat(a,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},M);return fe.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(k){r.wrapperNode=k}},u)}}])})(B.PureComponent),xue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sm={isSsr:xue()};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(r){VN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AG(r.key),r)}}function wue(t,e,n){return e&&bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sue(t,e,n){return e=Mb(e),Mue(t,TG()?Reflect.construct(e,n||[],Mb(t).constructor):e.apply(t,n))}function Mue(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!t})()}function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cR(t,e)}function cR(t,e){return cR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cR(t,e)}function VN(t,e,n){return e=AG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=Aue(t,"string");return Gp(e)=="symbol"?e:e+""}function Aue(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pue(t){return t.dataKey}function Cue(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(rue,e)}var Ua=(function(t){function e(){return _ue(this,e),Sue(this,e,arguments)}return Tue(e,t),wue(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,p=i.isAnimationActive,v=i.offset,x=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,M=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=x??[];d&&P.length&&(P=vG(x.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),b,Pue));var O=P.length>0;return fe.createElement(yue,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:p,active:s,coordinate:f,hasPayload:O,offset:v,position:y,reverseDirection:w,useTranslate3d:M,viewBox:S,wrapperStyle:A},Cue(u,pB(pB({},this.props),{},{payload:P})))}}])})(B.PureComponent);VN(Ua,"displayName","Tooltip");VN(Ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rA,mB;function Rue(){if(mB)return rA;mB=1;var t=nl(),e=function(){return t.Date.now()};return rA=e,rA}var iA,gB;function Oue(){if(gB)return iA;gB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return iA=e,iA}var sA,vB;function Nue(){if(vB)return sA;vB=1;var t=Oue(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return sA=n,sA}var oA,yB;function PG(){if(yB)return oA;yB=1;var t=Nue(),e=Cc(),n=_m(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?r:+u}return oA=l,oA}var aA,xB;function Iue(){if(xB)return aA;xB=1;var t=Cc(),e=Rue(),n=PG(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var f,d,p,v,x,b,y=0,w=!1,M=!1,S=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(w=!!u.leading,M="maxWait"in u,p=M?i(n(u.maxWait)||0,l):p,S="trailing"in u?!!u.trailing:S);function A(q){var X=f,J=d;return f=d=void 0,y=q,v=a.apply(J,X),v}function P(q){return y=q,x=setTimeout(k,l),w?A(q):v}function O(q){var X=q-b,J=q-y,Z=l-X;return M?s(Z,p-J):Z}function I(q){var X=q-b,J=q-y;return b===void 0||X>=l||X<0||M&&J>=p}function k(){var q=e();if(I(q))return L(q);x=setTimeout(k,O(q))}function L(q){return x=void 0,S&&f?A(q):(f=d=void 0,v)}function F(){x!==void 0&&clearTimeout(x),y=0,f=b=d=x=void 0}function j(){return x===void 0?v:L(e())}function H(){var q=e(),X=I(q);if(f=arguments,d=this,b=q,X){if(x===void 0)return P(b);if(M)return clearTimeout(x),x=setTimeout(k,l),A(b)}return x===void 0&&(x=setTimeout(k,l)),v}return H.cancel=F,H.flush=j,H}return aA=o,aA}var lA,_B;function Lue(){if(_B)return lA;_B=1;var t=Iue(),e=Cc(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),t(i,s,{leading:a,maxWait:s,trailing:l})}return lA=r,lA}var Due=Lue();const CG=Tn(Due);function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return e=Fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Uue(t,"string");return Gv(e)=="symbol"?e:e+""}function Uue(t,e){if(Gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){return Hue(t)||Vue(t,e)||zue(t,e)||jue()}function jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(t,e){if(t){if(typeof t=="string")return wB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wB(t,e)}}function wB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Hue(t){if(Array.isArray(t))return t}var Wue=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,d=t.minHeight,p=t.maxHeight,v=t.children,x=t.debounce,b=x===void 0?0:x,y=t.id,w=t.className,M=t.onResize,S=t.style,A=S===void 0?{}:S,P=B.useRef(null),O=B.useRef();O.current=M,B.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var I=B.useState({containerWidth:i.width,containerHeight:i.height}),k=Bue(I,2),L=k[0],F=k[1],j=B.useCallback(function(q,X){F(function(J){var Z=Math.round(q),ee=Math.round(X);return J.containerWidth===Z&&J.containerHeight===ee?J:{containerWidth:Z,containerHeight:ee}})},[]);B.useEffect(function(){var q=function(K){var Q,G=K[0].contentRect,ne=G.width,ye=G.height;j(ne,ye),(Q=O.current)===null||Q===void 0||Q.call(O,ne,ye)};b>0&&(q=CG(q,b,{trailing:!0,leading:!1}));var X=new ResizeObserver(q),J=P.current.getBoundingClientRect(),Z=J.width,ee=J.height;return j(Z,ee),X.observe(P.current),function(){X.disconnect()}},[j,b]);var H=B.useMemo(function(){var q=L.containerWidth,X=L.containerHeight;if(q<0||X<0)return null;sd(Yf(o)||Yf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),sd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=Yf(o)?q:o,Z=Yf(l)?X:l;n&&n>0&&(J?Z=J/n:Z&&(J=Z*n),p&&Z>p&&(Z=p)),sd(J>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,Z,o,l,f,d,n);var ee=!Array.isArray(v)&&Jl(v.type).endsWith("Chart");return fe.Children.map(v,function(V){return fe.isValidElement(V)?B.cloneElement(V,Ox({width:J,height:Z},ee?{style:Ox({height:"100%",width:"100%",maxHeight:Z,maxWidth:J},V.props.style)}:{})):V})},[n,v,l,p,d,f,L,o]);return fe.createElement("div",{id:y?"".concat(y):void 0,className:bn("recharts-responsive-container",w),style:Ox(Ox({},A),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:p}),ref:P},H)}),Jw=function(e){return null};Jw.displayName="Cell";function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){Gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gue(t,e,n){return e=$ue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=que(t,"string");return $v(e)=="symbol"?e:e+""}function que(t,e){if($v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ih={widthCache:{},cacheCount:0},Xue=2e3,Kue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MB="recharts_measurement_span";function Yue(t){var e=fR({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sm.isSsr)return{width:0,height:0};var r=Yue(n),i=JSON.stringify({text:e,copyStyle:r});if(Ih.widthCache[i])return Ih.widthCache[i];try{var s=document.getElementById(MB);s||(s=document.createElement("span"),s.setAttribute("id",MB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=fR(fR({},Kue),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Ih.widthCache[i]=l,++Ih.cacheCount>Xue&&(Ih.cacheCount=0,Ih.widthCache={}),l}catch{return{width:0,height:0}}},Zue=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Eb(t,e){return tce(t)||ece(t,e)||Jue(t,e)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(t,e){if(t){if(typeof t=="string")return EB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EB(t,e)}}function EB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ece(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tce(t){if(Array.isArray(t))return t}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ice(r.key),r)}}function rce(t,e,n){return e&&TB(t.prototype,e),n&&TB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ice(t){var e=sce(t,"string");return qv(e)=="symbol"?e:e+""}function sce(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ace=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lce=Object.keys(RG),pp="NaN";function uce(t,e){return t*RG[e]}var Nx=(function(){function t(e,n){nce(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!oce.test(n)&&(this.num=NaN,this.unit=""),lce.includes(n)&&(this.num=uce(e,n),this.unit="px")}return rce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ace.exec(n))!==null&&r!==void 0?r:[],s=Eb(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function OG(t){if(t.includes(pp))return pp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=AB.exec(e))!==null&&n!==void 0?n:[],i=Eb(r,4),s=i[1],o=i[2],a=i[3],l=Nx.parse(s??""),u=Nx.parse(a??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return pp;e=e.replace(AB,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=PB.exec(e))!==null&&d!==void 0?d:[],v=Eb(p,4),x=v[1],b=v[2],y=v[3],w=Nx.parse(x??""),M=Nx.parse(y??""),S=b==="+"?w.add(M):w.subtract(M);if(S.isNaN())return pp;e=e.replace(PB,S.toString())}return e}var CB=/\(([^()]*)\)/;function cce(t){for(var e=t;e.includes("(");){var n=CB.exec(e),r=Eb(n,2),i=r[1];e=e.replace(CB,OG(i))}return e}function fce(t){var e=t.replace(/\s+/g,"");return e=cce(e),e=OG(e),e}function dce(t){try{return fce(t)}catch{return pp}}function uA(t){var e=dce(t.slice(5,-1));return e===pp?"":e}var hce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pce=["dx","dy","angle","className","breakAll"];function dR(){return dR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dR.apply(this,arguments)}function RB(t,e){if(t==null)return{};var n=mce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OB(t,e){return xce(t)||yce(t,e)||vce(t,e)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t,e){if(t){if(typeof t=="string")return NB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NB(t,e)}}function NB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xce(t){if(Array.isArray(t))return t}var NG=/[ \f\n\r\t\v\u2028\u2029]+/,IG=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];nn(n)||(r?s=n.toString().split(""):s=n.toString().split(NG));var o=s.map(function(l){return{word:l,width:xv(l,i).width}}),a=r?0:xv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},_ce=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,f=dt(o),d=a,p=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(Z,ee){var V=ee.word,K=ee.width,Q=Z[Z.length-1];if(Q&&(i==null||s||Q.width+K+r<Number(i)))Q.words.push(V),Q.width+=K+r;else{var G={words:[V],width:K};Z.push(G)}return Z},[])},v=p(n),x=function(J){return J.reduce(function(Z,ee){return Z.width>ee.width?Z:ee})};if(!f)return v;for(var b="",y=function(J){var Z=d.slice(0,J),ee=IG({breakAll:u,style:l,children:Z+b}).wordsWithComputedWidth,V=p(ee),K=V.length>o||x(V).width>Number(i);return[K,V]},w=0,M=d.length-1,S=0,A;w<=M&&S<=d.length-1;){var P=Math.floor((w+M)/2),O=P-1,I=y(O),k=OB(I,2),L=k[0],F=k[1],j=y(P),H=OB(j,1),q=H[0];if(!L&&!q&&(w=P+1),L&&q&&(M=P-1),!L&&q){A=F;break}S++}return A||v},IB=function(e){var n=nn(e)?[]:e.toString().split(NG);return[{words:n}]},bce=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Sm.isSsr){var l,u,f=IG({breakAll:o,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,p=f.spaceWidth;l=d,u=p}else return IB(i);return _ce({breakAll:o,children:i,maxLines:a,style:s},l,u,n,r)}return IB(i)},LB="#808080",Tb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,x=e.verticalAnchor,b=x===void 0?"end":x,y=e.fill,w=y===void 0?LB:y,M=RB(e,hce),S=B.useMemo(function(){return bce({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:d,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,d,M.style,M.width]),A=M.dx,P=M.dy,O=M.angle,I=M.className,k=M.breakAll,L=RB(M,pce);if(!Yr(r)||!Yr(s))return null;var F=r+(dt(A)?A:0),j=s+(dt(P)?P:0),H;switch(b){case"start":H=uA("calc(".concat(u,")"));break;case"middle":H=uA("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:H=uA("calc(".concat(S.length-1," * -").concat(a,")"));break}var q=[];if(d){var X=S[0].width,J=M.width;q.push("scale(".concat((dt(J)?J/X:1)/X,")"))}return O&&q.push("rotate(".concat(O,", ").concat(F,", ").concat(j,")")),q.length&&(L.transform=q.join(" ")),fe.createElement("text",dR({},xn(L,!0),{x:F,y:j,className:bn("recharts-text",I),textAnchor:v,fill:w.includes("url")?LB:w}),S.map(function(Z,ee){var V=Z.words.join(k?"":" ");return fe.createElement("tspan",{x:F,dy:ee===0?H:a,key:"".concat(V,"-").concat(ee)},V)}))};function vc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wce(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HN(t){let e,n,r;t.length!==2?(e=vc,n=(a,l)=>vc(t(a),l),r=(a,l)=>t(a)-l):(e=t===vc||t===wce?t:Sce,n=t,r=t);function i(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;n(a[d],l)<0?u=d+1:f=d}while(u<f)}return u}function s(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;n(a[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function o(a,l,u=0,f=a.length){const d=i(a,l,u,f-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function Sce(){return 0}function LG(t){return t===null?NaN:+t}function*Mce(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ece=HN(vc),r0=Ece.right;HN(LG).center;class DB extends Map{constructor(e,n=Pce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kB(this,e))}has(e){return super.has(kB(this,e))}set(e,n){return super.set(Tce(this,e),n)}delete(e){return super.delete(Ace(this,e))}}function kB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Tce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ace({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pce(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cce(t=vc){if(t===vc)return DG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Rce=Math.sqrt(50),Oce=Math.sqrt(10),Nce=Math.sqrt(2);function Ab(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Rce?10:s>=Oce?5:s>=Nce?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Ab(t,e,n*2):[a,l,u]}function hR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Ab(e,t,n):Ab(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function pR(t,e,n){return e=+e,t=+t,n=+n,Ab(t,e,n)[2]}function mR(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pR(e,t,n):pR(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function kG(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?DG:Cce(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),v=Math.max(n,Math.floor(e-u*d/l+p)),x=Math.min(r,Math.floor(e+(l-u)*d/l+p));kG(t,e,v,x,i)}const s=t[e];let o=n,a=r;for(Lg(t,n,e),i(t[r],s)>0&&Lg(t,n,r);o<a;){for(Lg(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Lg(t,n,a):(++a,Lg(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Lg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ice(t,e,n){if(t=Float64Array.from(Mce(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UB(t);if(e>=1)return FB(t);var r,i=(r-1)*e,s=Math.floor(i),o=FB(kG(t,s).subarray(0,s+1)),a=UB(t.subarray(s+1));return o+(a-o)*(i-s)}}function Lce(t,e,n=LG){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Dce(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gR=Symbol("implicit");function WN(){var t=new DB,e=[],n=[],r=gR;function i(s){let o=t.get(s);if(o===void 0){if(r!==gR)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new DB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WN(e,n).unknown(r)},Oo.apply(i,arguments),i}function Xv(){var t=WN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,f=.5;delete t.unknown;function d(){var p=e().length,v=i<r,x=v?i:r,b=v?r:i;s=(b-x)/Math.max(1,p-l+u*2),a&&(s=Math.floor(s)),x+=(b-x-s*(p-l))*f,o=s*(1-l),a&&(x=Math.round(x),o=Math.round(o));var y=Dce(p).map(function(w){return x+s*w});return n(v?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(a=!!p,d()):a},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},t.copy=function(){return Xv(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(f)},Oo.apply(d(),arguments)}function FG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FG(e())},t}function _v(){return FG(Xv.apply(null,arguments).paddingInner(1))}function GN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function UG(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function i0(){}var Kv=.7,Pb=1/Kv,Cp="\\s*([+-]?\\d+)\\s*",Yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kce=/^#([0-9a-f]{3,8})$/,Fce=new RegExp(`^rgb\\(${Cp},${Cp},${Cp}\\)$`),Uce=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),Bce=new RegExp(`^rgba\\(${Cp},${Cp},${Cp},${Yv}\\)$`),jce=new RegExp(`^rgba\\(${qa},${qa},${qa},${Yv}\\)$`),zce=new RegExp(`^hsl\\(${Yv},${qa},${qa}\\)$`),Vce=new RegExp(`^hsla\\(${Yv},${qa},${qa},${Yv}\\)$`),BB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GN(i0,Zv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jB,formatHex:jB,formatHex8:Hce,formatHsl:Wce,formatRgb:zB,toString:zB});function jB(){return this.rgb().formatHex()}function Hce(){return this.rgb().formatHex8()}function Wce(){return BG(this).formatHsl()}function zB(){return this.rgb().formatRgb()}function Zv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VB(e):n===3?new Cs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ix(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ix(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fce.exec(t))?new Cs(e[1],e[2],e[3],1):(e=Uce.exec(t))?new Cs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bce.exec(t))?Ix(e[1],e[2],e[3],e[4]):(e=jce.exec(t))?Ix(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zce.exec(t))?GB(e[1],e[2]/100,e[3]/100,1):(e=Vce.exec(t))?GB(e[1],e[2]/100,e[3]/100,e[4]):BB.hasOwnProperty(t)?VB(BB[t]):t==="transparent"?new Cs(NaN,NaN,NaN,0):null}function VB(t){return new Cs(t>>16&255,t>>8&255,t&255,1)}function Ix(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cs(t,e,n,r)}function Gce(t){return t instanceof i0||(t=Zv(t)),t?(t=t.rgb(),new Cs(t.r,t.g,t.b,t.opacity)):new Cs}function vR(t,e,n,r){return arguments.length===1?Gce(t):new Cs(t,e,n,r??1)}function Cs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}GN(Cs,vR,UG(i0,{brighter(t){return t=t==null?Pb:Math.pow(Pb,t),new Cs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kv:Math.pow(Kv,t),new Cs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cs(od(this.r),od(this.g),od(this.b),Cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HB,formatHex:HB,formatHex8:$ce,formatRgb:WB,toString:WB}));function HB(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}`}function $ce(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}${Zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function WB(){const t=Cb(this.opacity);return`${t===1?"rgb(":"rgba("}${od(this.r)}, ${od(this.g)}, ${od(this.b)}${t===1?")":`, ${t})`}`}function Cb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function od(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zf(t){return t=od(t),(t<16?"0":"")+t.toString(16)}function GB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,n,r)}function BG(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof i0||(t=Zv(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new da(o,a,l,t.opacity)}function qce(t,e,n,r){return arguments.length===1?BG(t):new da(t,e,n,r??1)}function da(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}GN(da,qce,UG(i0,{brighter(t){return t=t==null?Pb:Math.pow(Pb,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kv:Math.pow(Kv,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cs(cA(t>=240?t-240:t+120,i,r),cA(t,i,r),cA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new da($B(this.h),Lx(this.s),Lx(this.l),Cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cb(this.opacity);return`${t===1?"hsl(":"hsla("}${$B(this.h)}, ${Lx(this.s)*100}%, ${Lx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $B(t){return t=(t||0)%360,t<0?t+360:t}function Lx(t){return Math.max(0,Math.min(1,t||0))}function cA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $N=t=>()=>t;function Xce(t,e){return function(n){return t+n*e}}function Kce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yce(t){return(t=+t)==1?jG:function(e,n){return n-e?Kce(e,n,t):$N(isNaN(e)?n:e)}}function jG(t,e){var n=e-t;return n?Xce(t,n):$N(isNaN(t)?e:t)}const qB=(function t(e){var n=Yce(e);function r(i,s){var o=n((i=vR(i)).r,(s=vR(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=jG(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function Zce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Qce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Mm(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function efe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var yR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fA=new RegExp(yR.source,"g");function nfe(t){return function(){return t}}function rfe(t){return function(e){return t(e)+""}}function ife(t,e){var n=yR.lastIndex=fA.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=yR.exec(t))&&(i=fA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Rb(r,i)})),n=fA.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?rfe(l[0].x):nfe(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(u);return a.join("")})}function Mm(t,e){var n=typeof e,r;return e==null||n==="boolean"?$N(e):(n==="number"?Rb:n==="string"?(r=Zv(e))?(e=r,qB):ife:e instanceof Zv?qB:e instanceof Date?efe:Qce(e)?Zce:Array.isArray(e)?Jce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tfe:Rb)(t,e)}function qN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sfe(t,e){e===void 0&&(e=t,t=Mm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function ofe(t){return function(){return t}}function Ob(t){return+t}var XB=[0,1];function ls(t){return t}function xR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ofe(isNaN(e)?NaN:.5)}function afe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lfe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=xR(i,r),s=n(o,s)):(r=xR(r,i),s=n(s,o)),function(a){return s(r(a))}}function ufe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=xR(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=r0(t,a,1,r)-1;return s[l](i[l](a))}}function s0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eS(){var t=XB,e=XB,n=Mm,r,i,s,o=ls,a,l,u;function f(){var p=Math.min(t.length,e.length);return o!==ls&&(o=afe(t[0],t[p-1])),a=p>2?ufe:lfe,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?s:(l||(l=a(t.map(r),e,n)))(r(o(p)))}return d.invert=function(p){return o(i((u||(u=a(e,t.map(r),Rb)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Ob),f()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=qN,f()},d.clamp=function(p){return arguments.length?(o=p?!0:ls,f()):o!==ls},d.interpolate=function(p){return arguments.length?(n=p,f()):n},d.unknown=function(p){return arguments.length?(s=p,d):s},function(p,v){return r=p,i=v,f()}}function XN(){return eS()(ls,ls)}function cfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Nb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $p(t){return t=Nb(Math.abs(t)),t?t[1]:NaN}function ffe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function dfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qv(t){if(!(e=hfe.exec(t)))throw new Error("invalid format: "+t);var e;return new KN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qv.prototype=KN.prototype;function KN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zG;function mfe(t,e){var n=Nb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(zG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Nb(t,Math.max(0,e+s-1))[0]}function KB(t,e){var n=Nb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KB(t*100,e),r:KB,s:mfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZB(t){return t}var QB=Array.prototype.map,JB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gfe(t){var e=t.grouping===void 0||t.thousands===void 0?ZB:ffe(QB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ZB:dfe(QB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Qv(d);var p=d.fill,v=d.align,x=d.sign,b=d.symbol,y=d.zero,w=d.width,M=d.comma,S=d.precision,A=d.trim,P=d.type;P==="n"?(M=!0,P="g"):YB[P]||(S===void 0&&(S=12),A=!0,P="g"),(y||p==="0"&&v==="=")&&(y=!0,p="0",v="=");var O=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",I=b==="$"?r:/[%p]/.test(P)?o:"",k=YB[P],L=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(j){var H=O,q=I,X,J,Z;if(P==="c")q=k(j)+q,j="";else{j=+j;var ee=j<0||1/j<0;if(j=isNaN(j)?l:k(Math.abs(j),S),A&&(j=pfe(j)),ee&&+j==0&&x!=="+"&&(ee=!1),H=(ee?x==="("?x:a:x==="-"||x==="("?"":x)+H,q=(P==="s"?JB[8+zG/3]:"")+q+(ee&&x==="("?")":""),L){for(X=-1,J=j.length;++X<J;)if(Z=j.charCodeAt(X),48>Z||Z>57){q=(Z===46?i+j.slice(X+1):j.slice(X))+q,j=j.slice(0,X);break}}}M&&!y&&(j=e(j,1/0));var V=H.length+j.length+q.length,K=V<w?new Array(w-V+1).join(p):"";switch(M&&y&&(j=e(K+j,K.length?w-q.length:1/0),K=""),v){case"<":j=H+j+q+K;break;case"=":j=H+K+j+q;break;case"^":j=K.slice(0,V=K.length>>1)+H+j+q+K.slice(V);break;default:j=K+H+j+q;break}return s(j)}return F.toString=function(){return d+""},F}function f(d,p){var v=u((d=Qv(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor($p(p)/3)))*3,b=Math.pow(10,-x),y=JB[8+x/3];return function(w){return v(b*w)+y}}return{format:u,formatPrefix:f}}var Dx,YN,VG;vfe({thousands:",",grouping:[3],currency:["$",""]});function vfe(t){return Dx=gfe(t),YN=Dx.format,VG=Dx.formatPrefix,Dx}function yfe(t){return Math.max(0,-$p(Math.abs(t)))}function xfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($p(e)/3)))*3-$p(Math.abs(t)))}function _fe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$p(e)-$p(t))+1}function HG(t,e,n,r){var i=mR(t,e,n),s;switch(r=Qv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=xfe(i,o))&&(r.precision=s),VG(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=_fe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=yfe(i))&&(r.precision=s-(r.type==="%")*2);break}}return YN(r)}function Oc(t){var e=t.domain;return t.ticks=function(n){var r=e();return hR(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return HG(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,f=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);f-- >0;){if(u=pR(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Ib(){var t=XN();return t.copy=function(){return s0(t,Ib())},Oo.apply(t,arguments),Oc(t)}function WG(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ob),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return WG(t).unknown(e)},t=arguments.length?Array.from(t,Ob):[0,1],Oc(n)}function GG(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function ej(t){return Math.log(t)}function tj(t){return Math.exp(t)}function bfe(t){return-Math.log(-t)}function wfe(t){return-Math.exp(-t)}function Sfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mfe(t){return t===10?Sfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Efe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nj(t){return(e,n)=>-t(-e,n)}function ZN(t){const e=t(ej,tj),n=e.domain;let r=10,i,s;function o(){return i=Efe(r),s=Mfe(r),n()[0]<0?(i=nj(i),s=nj(s),t(bfe,wfe)):t(ej,tj),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let p=i(u),v=i(f),x,b;const y=a==null?10:+a;let w=[];if(!(r%1)&&v-p<y){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(x=1;x<r;++x)if(b=p<0?x/s(-p):x*s(p),!(b<u)){if(b>f)break;w.push(b)}}else for(;p<=v;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/s(-p):x*s(p),!(b<u)){if(b>f)break;w.push(b)}w.length*2<y&&(w=hR(u,f,y))}else w=hR(p,v,Math.min(v-p,y)).map(s);return d?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qv(l)).precision==null&&(l.trim=!0),l=YN(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=u?l(f):""}},e.nice=()=>n(GG(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function $G(){const t=ZN(eS()).domain([1,10]);return t.copy=()=>s0(t,$G()).base(t.base()),Oo.apply(t,arguments),t}function rj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ij(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QN(t){var e=1,n=t(rj(e),ij(e));return n.constant=function(r){return arguments.length?t(rj(e=+r),ij(e)):e},Oc(n)}function qG(){var t=QN(eS());return t.copy=function(){return s0(t,qG()).constant(t.constant())},Oo.apply(t,arguments)}function sj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Afe(t){return t<0?-t*t:t*t}function JN(t){var e=t(ls,ls),n=1;function r(){return n===1?t(ls,ls):n===.5?t(Tfe,Afe):t(sj(n),sj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oc(e)}function eI(){var t=JN(eS());return t.copy=function(){return s0(t,eI()).exponent(t.exponent())},Oo.apply(t,arguments),t}function Pfe(){return eI.apply(null,arguments).exponent(.5)}function oj(t){return Math.sign(t)*t*t}function Cfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function XG(){var t=XN(),e=[0,1],n=!1,r;function i(s){var o=Cfe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(oj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ob)).map(oj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XG(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oo.apply(i,arguments),Oc(i)}function KG(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Lce(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[r0(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(vc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return KG().domain(t).range(e).unknown(r)},Oo.apply(s,arguments)}function YG(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[r0(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return YG().domain([t,e]).range(i).unknown(s)},Oo.apply(Oc(o),arguments)}function ZG(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[r0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ZG().domain(t).range(e).unknown(n)},Oo.apply(i,arguments)}const dA=new Date,hA=new Date;function Jr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>Jr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(dA.setTime(+s),hA.setTime(+o),t(dA),t(hA),Math.floor(n(dA,hA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Lb=Jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lb);Lb.range;const Xl=1e3,To=Xl*60,Kl=To*60,lu=Kl*24,tI=lu*7,aj=lu*30,pA=lu*365,Qf=Jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xl)},(t,e)=>(e-t)/Xl,t=>t.getUTCSeconds());Qf.range;const nI=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xl)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getMinutes());nI.range;const rI=Jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCMinutes());rI.range;const iI=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xl-t.getMinutes()*To)},(t,e)=>{t.setTime(+t+e*Kl)},(t,e)=>(e-t)/Kl,t=>t.getHours());iI.range;const sI=Jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kl)},(t,e)=>(e-t)/Kl,t=>t.getUTCHours());sI.range;const o0=Jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/lu,t=>t.getDate()-1);o0.range;const tS=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lu,t=>t.getUTCDate()-1);tS.range;const QG=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lu,t=>Math.floor(t/lu));QG.range;function Cd(t){return Jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*To)/tI)}const nS=Cd(0),Db=Cd(1),Rfe=Cd(2),Ofe=Cd(3),qp=Cd(4),Nfe=Cd(5),Ife=Cd(6);nS.range;Db.range;Rfe.range;Ofe.range;qp.range;Nfe.range;Ife.range;function Rd(t){return Jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tI)}const rS=Rd(0),kb=Rd(1),Lfe=Rd(2),Dfe=Rd(3),Xp=Rd(4),kfe=Rd(5),Ffe=Rd(6);rS.range;kb.range;Lfe.range;Dfe.range;Xp.range;kfe.range;Ffe.range;const oI=Jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oI.range;const aI=Jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aI.range;const uu=Jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});uu.range;const cu=Jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cu.range;function JG(t,e,n,r,i,s){const o=[[Qf,1,Xl],[Qf,5,5*Xl],[Qf,15,15*Xl],[Qf,30,30*Xl],[s,1,To],[s,5,5*To],[s,15,15*To],[s,30,30*To],[i,1,Kl],[i,3,3*Kl],[i,6,6*Kl],[i,12,12*Kl],[r,1,lu],[r,2,2*lu],[n,1,tI],[e,1,aj],[e,3,3*aj],[t,1,pA]];function a(u,f,d){const p=f<u;p&&([u,f]=[f,u]);const v=d&&typeof d.range=="function"?d:l(u,f,d),x=v?v.range(u,+f+1):[];return p?x.reverse():x}function l(u,f,d){const p=Math.abs(f-u)/d,v=HN(([,,y])=>y).right(o,p);if(v===o.length)return t.every(mR(u/pA,f/pA,d));if(v===0)return Lb.every(Math.max(mR(u,f,d),1));const[x,b]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return x.every(b)}return[a,l]}const[Ufe,Bfe]=JG(cu,aI,rS,QG,sI,rI),[jfe,zfe]=JG(uu,oI,nS,o0,iI,nI);function mA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=kg(i),f=Fg(i),d=kg(s),p=Fg(s),v=kg(o),x=Fg(o),b=kg(a),y=Fg(a),w=kg(l),M=Fg(l),S={a:ee,A:V,b:K,B:Q,c:null,d:hj,e:hj,f:fde,g:bde,G:Sde,H:lde,I:ude,j:cde,L:e$,m:dde,M:hde,p:G,q:ne,Q:gj,s:vj,S:pde,u:mde,U:gde,V:vde,w:yde,W:xde,x:null,X:null,y:_de,Y:wde,Z:Mde,"%":mj},A={a:ye,A:ue,b:xe,B:Re,c:null,d:pj,e:pj,f:Pde,g:Ude,G:jde,H:Ede,I:Tde,j:Ade,L:n$,m:Cde,M:Rde,p:Ce,q:qe,Q:gj,s:vj,S:Ode,u:Nde,U:Ide,V:Lde,w:Dde,W:kde,x:null,X:null,y:Fde,Y:Bde,Z:zde,"%":mj},P={a:F,A:j,b:H,B:q,c:X,d:fj,e:fj,f:ide,g:cj,G:uj,H:dj,I:dj,j:ede,L:rde,m:Jfe,M:tde,p:L,q:Qfe,Q:ode,s:ade,S:nde,u:qfe,U:Xfe,V:Kfe,w:$fe,W:Yfe,x:J,X:Z,y:cj,Y:uj,Z:Zfe,"%":sde};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),A.x=O(n,A),A.X=O(r,A),A.c=O(e,A);function O(Ae,ze){return function(se){var ae=[],Me=-1,Ne=0,De=Ae.length,ke,Ze,et;for(se instanceof Date||(se=new Date(+se));++Me<De;)Ae.charCodeAt(Me)===37&&(ae.push(Ae.slice(Ne,Me)),(Ze=lj[ke=Ae.charAt(++Me)])!=null?ke=Ae.charAt(++Me):Ze=ke==="e"?" ":"0",(et=ze[ke])&&(ke=et(se,Ze)),ae.push(ke),Ne=Me+1);return ae.push(Ae.slice(Ne,Me)),ae.join("")}}function I(Ae,ze){return function(se){var ae=Dg(1900,void 0,1),Me=k(ae,Ae,se+="",0),Ne,De;if(Me!=se.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ze&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ne=gA(Dg(ae.y,0,1)),De=Ne.getUTCDay(),Ne=De>4||De===0?kb.ceil(Ne):kb(Ne),Ne=tS.offset(Ne,(ae.V-1)*7),ae.y=Ne.getUTCFullYear(),ae.m=Ne.getUTCMonth(),ae.d=Ne.getUTCDate()+(ae.w+6)%7):(Ne=mA(Dg(ae.y,0,1)),De=Ne.getDay(),Ne=De>4||De===0?Db.ceil(Ne):Db(Ne),Ne=o0.offset(Ne,(ae.V-1)*7),ae.y=Ne.getFullYear(),ae.m=Ne.getMonth(),ae.d=Ne.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),De="Z"in ae?gA(Dg(ae.y,0,1)).getUTCDay():mA(Dg(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(De+5)%7:ae.w+ae.U*7-(De+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,gA(ae)):mA(ae)}}function k(Ae,ze,se,ae){for(var Me=0,Ne=ze.length,De=se.length,ke,Ze;Me<Ne;){if(ae>=De)return-1;if(ke=ze.charCodeAt(Me++),ke===37){if(ke=ze.charAt(Me++),Ze=P[ke in lj?ze.charAt(Me++):ke],!Ze||(ae=Ze(Ae,se,ae))<0)return-1}else if(ke!=se.charCodeAt(ae++))return-1}return ae}function L(Ae,ze,se){var ae=u.exec(ze.slice(se));return ae?(Ae.p=f.get(ae[0].toLowerCase()),se+ae[0].length):-1}function F(Ae,ze,se){var ae=v.exec(ze.slice(se));return ae?(Ae.w=x.get(ae[0].toLowerCase()),se+ae[0].length):-1}function j(Ae,ze,se){var ae=d.exec(ze.slice(se));return ae?(Ae.w=p.get(ae[0].toLowerCase()),se+ae[0].length):-1}function H(Ae,ze,se){var ae=w.exec(ze.slice(se));return ae?(Ae.m=M.get(ae[0].toLowerCase()),se+ae[0].length):-1}function q(Ae,ze,se){var ae=b.exec(ze.slice(se));return ae?(Ae.m=y.get(ae[0].toLowerCase()),se+ae[0].length):-1}function X(Ae,ze,se){return k(Ae,e,ze,se)}function J(Ae,ze,se){return k(Ae,n,ze,se)}function Z(Ae,ze,se){return k(Ae,r,ze,se)}function ee(Ae){return o[Ae.getDay()]}function V(Ae){return s[Ae.getDay()]}function K(Ae){return l[Ae.getMonth()]}function Q(Ae){return a[Ae.getMonth()]}function G(Ae){return i[+(Ae.getHours()>=12)]}function ne(Ae){return 1+~~(Ae.getMonth()/3)}function ye(Ae){return o[Ae.getUTCDay()]}function ue(Ae){return s[Ae.getUTCDay()]}function xe(Ae){return l[Ae.getUTCMonth()]}function Re(Ae){return a[Ae.getUTCMonth()]}function Ce(Ae){return i[+(Ae.getUTCHours()>=12)]}function qe(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var ze=O(Ae+="",S);return ze.toString=function(){return Ae},ze},parse:function(Ae){var ze=I(Ae+="",!1);return ze.toString=function(){return Ae},ze},utcFormat:function(Ae){var ze=O(Ae+="",A);return ze.toString=function(){return Ae},ze},utcParse:function(Ae){var ze=I(Ae+="",!0);return ze.toString=function(){return Ae},ze}}}var lj={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,Hfe=/^%/,Wfe=/[\\^$*+?|[\]().{}]/g;function Mn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Gfe(t){return t.replace(Wfe,"\\$&")}function kg(t){return new RegExp("^(?:"+t.map(Gfe).join("|")+")","i")}function Fg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $fe(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qfe(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xfe(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Kfe(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Yfe(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uj(t,e,n){var r=fi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cj(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zfe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qfe(t,e,n){var r=fi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jfe(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fj(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ede(t,e,n){var r=fi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dj(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tde(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nde(t,e,n){var r=fi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rde(t,e,n){var r=fi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ide(t,e,n){var r=fi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sde(t,e,n){var r=Hfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ode(t,e,n){var r=fi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ade(t,e,n){var r=fi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hj(t,e){return Mn(t.getDate(),e,2)}function lde(t,e){return Mn(t.getHours(),e,2)}function ude(t,e){return Mn(t.getHours()%12||12,e,2)}function cde(t,e){return Mn(1+o0.count(uu(t),t),e,3)}function e$(t,e){return Mn(t.getMilliseconds(),e,3)}function fde(t,e){return e$(t,e)+"000"}function dde(t,e){return Mn(t.getMonth()+1,e,2)}function hde(t,e){return Mn(t.getMinutes(),e,2)}function pde(t,e){return Mn(t.getSeconds(),e,2)}function mde(t){var e=t.getDay();return e===0?7:e}function gde(t,e){return Mn(nS.count(uu(t)-1,t),e,2)}function t$(t){var e=t.getDay();return e>=4||e===0?qp(t):qp.ceil(t)}function vde(t,e){return t=t$(t),Mn(qp.count(uu(t),t)+(uu(t).getDay()===4),e,2)}function yde(t){return t.getDay()}function xde(t,e){return Mn(Db.count(uu(t)-1,t),e,2)}function _de(t,e){return Mn(t.getFullYear()%100,e,2)}function bde(t,e){return t=t$(t),Mn(t.getFullYear()%100,e,2)}function wde(t,e){return Mn(t.getFullYear()%1e4,e,4)}function Sde(t,e){var n=t.getDay();return t=n>=4||n===0?qp(t):qp.ceil(t),Mn(t.getFullYear()%1e4,e,4)}function Mde(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mn(e/60|0,"0",2)+Mn(e%60,"0",2)}function pj(t,e){return Mn(t.getUTCDate(),e,2)}function Ede(t,e){return Mn(t.getUTCHours(),e,2)}function Tde(t,e){return Mn(t.getUTCHours()%12||12,e,2)}function Ade(t,e){return Mn(1+tS.count(cu(t),t),e,3)}function n$(t,e){return Mn(t.getUTCMilliseconds(),e,3)}function Pde(t,e){return n$(t,e)+"000"}function Cde(t,e){return Mn(t.getUTCMonth()+1,e,2)}function Rde(t,e){return Mn(t.getUTCMinutes(),e,2)}function Ode(t,e){return Mn(t.getUTCSeconds(),e,2)}function Nde(t){var e=t.getUTCDay();return e===0?7:e}function Ide(t,e){return Mn(rS.count(cu(t)-1,t),e,2)}function r$(t){var e=t.getUTCDay();return e>=4||e===0?Xp(t):Xp.ceil(t)}function Lde(t,e){return t=r$(t),Mn(Xp.count(cu(t),t)+(cu(t).getUTCDay()===4),e,2)}function Dde(t){return t.getUTCDay()}function kde(t,e){return Mn(kb.count(cu(t)-1,t),e,2)}function Fde(t,e){return Mn(t.getUTCFullYear()%100,e,2)}function Ude(t,e){return t=r$(t),Mn(t.getUTCFullYear()%100,e,2)}function Bde(t,e){return Mn(t.getUTCFullYear()%1e4,e,4)}function jde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xp(t):Xp.ceil(t),Mn(t.getUTCFullYear()%1e4,e,4)}function zde(){return"+0000"}function mj(){return"%"}function gj(t){return+t}function vj(t){return Math.floor(+t/1e3)}var Lh,i$,s$;Vde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vde(t){return Lh=Vfe(t),i$=Lh.format,Lh.parse,s$=Lh.utcFormat,Lh.utcParse,Lh}function Hde(t){return new Date(t)}function Wde(t){return t instanceof Date?+t:+new Date(+t)}function lI(t,e,n,r,i,s,o,a,l,u){var f=XN(),d=f.invert,p=f.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),M=u("%b %d"),S=u("%B"),A=u("%Y");function P(O){return(l(O)<O?v:a(O)<O?x:o(O)<O?b:s(O)<O?y:r(O)<O?i(O)<O?w:M:n(O)<O?S:A)(O)}return f.invert=function(O){return new Date(d(O))},f.domain=function(O){return arguments.length?p(Array.from(O,Wde)):p().map(Hde)},f.ticks=function(O){var I=p();return t(I[0],I[I.length-1],O??10)},f.tickFormat=function(O,I){return I==null?P:u(I)},f.nice=function(O){var I=p();return(!O||typeof O.range!="function")&&(O=e(I[0],I[I.length-1],O??10)),O?p(GG(I,O)):f},f.copy=function(){return s0(f,lI(t,e,n,r,i,s,o,a,l,u))},f}function Gde(){return Oo.apply(lI(jfe,zfe,uu,oI,nS,o0,iI,nI,Qf,i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $de(){return Oo.apply(lI(Ufe,Bfe,cu,aI,rS,tS,sI,rI,Qf,s$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iS(){var t=0,e=1,n,r,i,s,o=ls,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(p){var v,x;return arguments.length?([v,x]=p,o=d(v,x),u):[o(0),o(1)]}}return u.range=f(Mm),u.rangeRound=f(qN),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Nc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function o$(){var t=Oc(iS()(ls));return t.copy=function(){return Nc(t,o$())},vu.apply(t,arguments)}function a$(){var t=ZN(iS()).domain([1,10]);return t.copy=function(){return Nc(t,a$()).base(t.base())},vu.apply(t,arguments)}function l$(){var t=QN(iS());return t.copy=function(){return Nc(t,l$()).constant(t.constant())},vu.apply(t,arguments)}function uI(){var t=JN(iS());return t.copy=function(){return Nc(t,uI()).exponent(t.exponent())},vu.apply(t,arguments)}function qde(){return uI.apply(null,arguments).exponent(.5)}function u$(){var t=[],e=ls;function n(r){if(r!=null&&!isNaN(r=+r))return e((r0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(vc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Ice(t,s/r))},n.copy=function(){return u$(e).domain(t)},vu.apply(n,arguments)}function sS(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,u=ls,f,d=!1,p;function v(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-s)*(r*b<r*s?a:l),u(d?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),o=f(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(b){return arguments.length?(d=!!b,v):d},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(y){var w,M,S;return arguments.length?([w,M,S]=y,u=sfe(b,[w,M,S]),v):[u(0),u(.5),u(1)]}}return v.range=x(Mm),v.rangeRound=x(qN),v.unknown=function(b){return arguments.length?(p=b,v):p},function(b){return f=b,i=b(t),s=b(e),o=b(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v}}function c$(){var t=Oc(sS()(ls));return t.copy=function(){return Nc(t,c$())},vu.apply(t,arguments)}function f$(){var t=ZN(sS()).domain([.1,1,10]);return t.copy=function(){return Nc(t,f$()).base(t.base())},vu.apply(t,arguments)}function d$(){var t=QN(sS());return t.copy=function(){return Nc(t,d$()).constant(t.constant())},vu.apply(t,arguments)}function cI(){var t=JN(sS());return t.copy=function(){return Nc(t,cI()).exponent(t.exponent())},vu.apply(t,arguments)}function Xde(){return cI.apply(null,arguments).exponent(.5)}const yj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xv,scaleDiverging:c$,scaleDivergingLog:f$,scaleDivergingPow:cI,scaleDivergingSqrt:Xde,scaleDivergingSymlog:d$,scaleIdentity:WG,scaleImplicit:gR,scaleLinear:Ib,scaleLog:$G,scaleOrdinal:WN,scalePoint:_v,scalePow:eI,scaleQuantile:KG,scaleQuantize:YG,scaleRadial:XG,scaleSequential:o$,scaleSequentialLog:a$,scaleSequentialPow:uI,scaleSequentialQuantile:u$,scaleSequentialSqrt:qde,scaleSequentialSymlog:l$,scaleSqrt:Pfe,scaleSymlog:qG,scaleThreshold:ZG,scaleTime:Gde,scaleUtc:$de,tickFormat:HG},Symbol.toStringTag,{value:"Module"}));var vA,xj;function h$(){if(xj)return vA;xj=1;var t=_m();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=a}return f}return vA=e,vA}var yA,_j;function Kde(){if(_j)return yA;_j=1;function t(e,n){return e>n}return yA=t,yA}var xA,bj;function Yde(){if(bj)return xA;bj=1;var t=h$(),e=Kde(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return xA=r,xA}var Zde=Yde();const oS=Tn(Zde);var _A,wj;function Qde(){if(wj)return _A;wj=1;function t(e,n){return e<n}return _A=t,_A}var bA,Sj;function Jde(){if(Sj)return bA;Sj=1;var t=h$(),e=Qde(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return bA=r,bA}var ehe=Jde();const aS=Tn(ehe);var wA,Mj;function the(){if(Mj)return wA;Mj=1;var t=AN(),e=Rc(),n=wG(),r=Ns();function i(s,o){var a=r(s)?t:n;return a(s,e(o,3))}return wA=i,wA}var SA,Ej;function nhe(){if(Ej)return SA;Ej=1;var t=_G(),e=the();function n(r,i){return t(e(r,i),1)}return SA=n,SA}var rhe=nhe();const ihe=Tn(rhe);var MA,Tj;function she(){if(Tj)return MA;Tj=1;var t=BN();function e(n,r){return t(n,r)}return MA=e,MA}var ohe=she();const lS=Tn(ohe);var Em=1e9,ahe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dI,ar=!0,Co="[DecimalError] ",ad=Co+"Invalid argument: ",fI=Co+"Exponent out of range: ",Tm=Math.floor,Wf=Math.pow,lhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ks,oi=1e7,er=7,p$=9007199254740991,Fb=Tm(p$/er),yt={};yt.absoluteValue=yt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};yt.comparedTo=yt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*er;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};yt.dividedBy=yt.div=function(t){return eu(this,new this.constructor(t))};yt.dividedToIntegerBy=yt.idiv=function(t){var e=this,n=e.constructor;return Gn(eu(e,new n(t),0,1),n.precision)};yt.equals=yt.eq=function(t){return!this.cmp(t)};yt.exponent=function(){return Br(this)};yt.greaterThan=yt.gt=function(t){return this.cmp(t)>0};yt.greaterThanOrEqualTo=yt.gte=function(t){return this.cmp(t)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(t){return this.cmp(t)<0};yt.lessThanOrEqualTo=yt.lte=function(t){return this.cmp(t)<1};yt.logarithm=yt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ks))throw Error(Co+"NaN");if(n.s<1)throw Error(Co+(n.s?"NaN":"-Infinity"));return n.eq(Ks)?new r(0):(ar=!1,e=eu(Jv(n,s),Jv(t,s),s),ar=!0,Gn(e,i))};yt.minus=yt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v$(e,t):m$(e,(t.s=-t.s,t))};yt.modulo=yt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Co+"NaN");return n.s?(ar=!1,e=eu(n,t,0,1).times(t),ar=!0,n.minus(e)):Gn(new r(n),i)};yt.naturalExponential=yt.exp=function(){return g$(this)};yt.naturalLogarithm=yt.ln=function(){return Jv(this)};yt.negated=yt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};yt.plus=yt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m$(e,t):v$(e,(t.s=-t.s,t))};yt.precision=yt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ad+t);if(e=Br(i)+1,r=i.d.length-1,n=r*er+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};yt.squareRoot=yt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Co+"NaN")}for(t=Br(a),ar=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=za(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(eu(a,s,o+2)).times(.5),za(s.d).slice(0,o)===(e=za(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Gn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return ar=!0,Gn(r,n)};yt.times=yt.mul=function(t){var e,n,r,i,s,o,a,l,u,f=this,d=f.constructor,p=f.d,v=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,u=v.length,l<u&&(s=p,p=v,v=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+v[r]*p[i-r-1]+e,s[i--]=a%oi|0,e=a/oi|0;s[i]=(s[i]+e)%oi|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ar?Gn(t,d.precision):t};yt.toDecimalPlaces=yt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qa(t,0,Em),e===void 0?e=r.rounding:Qa(e,0,8),Gn(n,t+Br(n)+1,e))};yt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yd(r,!0):(Qa(t,0,Em),e===void 0?e=i.rounding:Qa(e,0,8),r=Gn(new i(r),t+1,e),n=yd(r,!0,t+1)),n};yt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?yd(i):(Qa(t,0,Em),e===void 0?e=s.rounding:Qa(e,0,8),r=Gn(new s(i),t+Br(i)+1,e),n=yd(r.abs(),!1,t+Br(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};yt.toInteger=yt.toint=function(){var t=this,e=t.constructor;return Gn(new e(t),Br(t)+1,e.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Ks);if(a=new l(a),!a.s){if(t.s<1)throw Error(Co+"Infinity");return a}if(a.eq(Ks))return a;if(r=l.precision,t.eq(Ks))return Gn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=p$){for(i=new l(Ks),e=Math.ceil(r/er+4),ar=!1;n%2&&(i=i.times(a),Pj(i.d,e)),n=Tm(n/2),n!==0;)a=a.times(a),Pj(a.d,e);return ar=!0,t.s<0?new l(Ks).div(i):Gn(i,r)}}else if(s<0)throw Error(Co+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ar=!1,i=t.times(Jv(a,r+u)),ar=!0,i=g$(i),i.s=s,i};yt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Br(i),r=yd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Qa(t,1,Em),e===void 0?e=s.rounding:Qa(e,0,8),i=Gn(new s(i),t,e),n=Br(i),r=yd(i,t<=n||n<=s.toExpNeg,t)),r};yt.toSignificantDigits=yt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qa(t,1,Em),e===void 0?e=r.rounding:Qa(e,0,8)),Gn(new r(n),t,e)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Br(t),n=t.constructor;return yd(t,e<=n.toExpNeg||e>=n.toExpPos)};function m$(t,e){var n,r,i,s,o,a,l,u,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ar?Gn(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(d/er),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/oi|0,l[s]%=oi;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ar?Gn(e,d):e}function Qa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ad+t)}function za(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=er-r.length,n&&(s+=dc(n)),s+=r;o=t[e],r=o+"",n=er-r.length,n&&(s+=dc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var eu=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%oi|0,o=s/oi|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*oi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,f,d,p,v,x,b,y,w,M,S,A,P,O,I,k,L=r.constructor,F=r.s==i.s?1:-1,j=r.d,H=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Co+"Division by zero");for(l=r.e-i.e,I=H.length,P=j.length,v=new L(F),x=v.d=[],u=0;H[u]==(j[u]||0);)++u;if(H[u]>(j[u]||0)&&--l,s==null?M=s=L.precision:o?M=s+(Br(r)-Br(i))+1:M=s,M<0)return new L(0);if(M=M/er+2|0,u=0,I==1)for(f=0,H=H[0],M++;(u<P||f)&&M--;u++)S=f*oi+(j[u]||0),x[u]=S/H|0,f=S%H|0;else{for(f=oi/(H[0]+1)|0,f>1&&(H=t(H,f),j=t(j,f),I=H.length,P=j.length),A=I,b=j.slice(0,I),y=b.length;y<I;)b[y++]=0;k=H.slice(),k.unshift(0),O=H[0],H[1]>=oi/2&&++O;do f=0,a=e(H,b,I,y),a<0?(w=b[0],I!=y&&(w=w*oi+(b[1]||0)),f=w/O|0,f>1?(f>=oi&&(f=oi-1),d=t(H,f),p=d.length,y=b.length,a=e(d,b,p,y),a==1&&(f--,n(d,I<p?k:H,p))):(f==0&&(a=f=1),d=H.slice()),p=d.length,p<y&&d.unshift(0),n(b,d,y),a==-1&&(y=b.length,a=e(H,b,I,y),a<1&&(f++,n(b,I<y?k:H,y))),y=b.length):a===0&&(f++,b=[0]),x[u++]=f,a&&b[0]?b[y++]=j[A]||0:(b=[j[A]],y=1);while((A++<P||b[0]!==void 0)&&M--)}return x[0]||x.shift(),v.e=l,Gn(v,o?s+Br(v)+1:s)}})();function g$(t,e){var n,r,i,s,o,a,l=0,u=0,f=t.constructor,d=f.precision;if(Br(t)>16)throw Error(fI+Br(t));if(!t.s)return new f(Ks);for(ar=!1,a=d,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Wf(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new f(Ks),f.precision=a;;){if(i=Gn(i.times(t),a),n=n.times(++l),o=s.plus(eu(i,n,a)),za(o.d).slice(0,a)===za(s.d).slice(0,a)){for(;u--;)s=Gn(s.times(s),a);return f.precision=d,e==null?(ar=!0,Gn(s,d)):s}s=o}}function Br(t){for(var e=t.e*er,n=t.d[0];n>=10;n/=10)e++;return e}function EA(t,e,n){if(e>t.LN10.sd())throw ar=!0,n&&(t.precision=n),Error(Co+"LN10 precision limit exceeded");return Gn(new t(t.LN10),e)}function dc(t){for(var e="";t--;)e+="0";return e}function Jv(t,e){var n,r,i,s,o,a,l,u,f,d=1,p=10,v=t,x=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(Co+(v.s?"NaN":"-Infinity"));if(v.eq(Ks))return new b(0);if(e==null?(ar=!1,u=y):u=e,v.eq(10))return e==null&&(ar=!0),EA(b,u);if(u+=p,b.precision=u,n=za(x),r=n.charAt(0),s=Br(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=za(v.d),r=n.charAt(0),d++;s=Br(v),r>1?(v=new b("0."+n),s++):v=new b(r+"."+n.slice(1))}else return l=EA(b,u+2,y).times(s+""),v=Jv(new b(r+"."+n.slice(1)),u-p).plus(l),b.precision=y,e==null?(ar=!0,Gn(v,y)):v;for(a=o=v=eu(v.minus(Ks),v.plus(Ks),u),f=Gn(v.times(v),u),i=3;;){if(o=Gn(o.times(f),u),l=a.plus(eu(o,new b(i),u)),za(l.d).slice(0,u)===za(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(EA(b,u+2,y).times(s+""))),a=eu(a,new b(d),u),b.precision=y,e==null?(ar=!0,Gn(a,y)):a;a=l,i+=2}}function Aj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tm(n/er),t.d=[],r=(n+1)%er,n<0&&(r+=er),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=er;r<i;)t.d.push(+e.slice(r,r+=er));e=e.slice(r),r=er-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ar&&(t.e>Fb||t.e<-Fb))throw Error(fI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Gn(t,e,n){var r,i,s,o,a,l,u,f,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=er,i=e,u=d[f=0];else{if(f=Math.ceil((r+1)/er),s=d.length,f>=s)return t;for(u=s=d[f],o=1;s>=10;s/=10)o++;r%=er,i=r-er+o}if(n!==void 0&&(s=Wf(10,o-i-1),a=u/s%10|0,l=e<0||d[f+1]!==void 0||u%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Wf(10,o-i):0:d[f-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=Br(t),d.length=1,e=e-s-1,d[0]=Wf(10,(er-e%er)%er),t.e=Tm(-e/er)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=f,s=1,f--):(d.length=f+1,s=Wf(10,er-r),d[f]=i>0?(u/Wf(10,o-i)%Wf(10,i)|0)*s:0),l)for(;;)if(f==0){(d[0]+=s)==oi&&(d[0]=1,++t.e);break}else{if(d[f]+=s,d[f]!=oi)break;d[f--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(ar&&(t.e>Fb||t.e<-Fb))throw Error(fI+Br(t));return t}function v$(t,e){var n,r,i,s,o,a,l,u,f,d,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),ar?Gn(e,v):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(v/er),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=oi-1;--l[s],l[i]+=oi}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ar?Gn(e,v):e):new p(0)}function yd(t,e,n){var r,i=Br(t),s=za(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+dc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+dc(-i-1)+s,n&&(r=n-o)>0&&(s+=dc(r))):i>=o?(s+=dc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+dc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=dc(r))),t.s<0?"-"+s:s}function Pj(t,e){if(t.length>e)return t.length=e,!0}function y$(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ad+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Aj(o,s.toString())}else if(typeof s!="string")throw Error(ad+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,lhe.test(s))Aj(o,s);else throw Error(ad+s)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=y$,i.config=i.set=uhe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function uhe(t){if(!t||typeof t!="object")throw Error(Co+"Object expected");var e,n,r,i=["precision",1,Em,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ad+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ad+n+": "+r);return this}var dI=y$(ahe);Ks=new dI(1);const zn=dI;function che(t){return phe(t)||hhe(t)||dhe(t)||fhe()}function fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return _R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(t,e)}}function hhe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function phe(t){if(Array.isArray(t))return _R(t)}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mhe=function(e){return e},x$={},_$=function(e){return e===x$},Cj=function(e){return function n(){return arguments.length===0||arguments.length===1&&_$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ghe=function t(e,n){return e===1?n:Cj(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==x$}).length;return o>=e?n.apply(void 0,i):t(e-o,Cj(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=i.map(function(d){return _$(d)?l.shift():d});return n.apply(void 0,che(f).concat(l))}))})},uS=function(e){return ghe(e.length,e)},bR=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},vhe=uS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),yhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return mhe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},wR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},b$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function xhe(t){var e;return t===0?e=1:e=Math.floor(new zn(t).abs().log(10).toNumber())+1,e}function _he(t,e,n){for(var r=new zn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var bhe=uS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),whe=uS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),She=uS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const cS={rangeStep:_he,getDigitCount:xhe,interpolateNumber:bhe,uninterpolateNumber:whe,uninterpolateTruncation:She};function SR(t){return The(t)||Ehe(t)||w$(t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function The(t){if(Array.isArray(t))return MR(t)}function ey(t,e){return Che(t)||Phe(t,e)||w$(t,e)||Ahe()}function Ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$(t,e){if(t){if(typeof t=="string")return MR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(t,e)}}function MR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Phe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Che(t){if(Array.isArray(t))return t}function S$(t){var e=ey(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function M$(t,e,n){if(t.lte(0))return new zn(0);var r=cS.getDigitCount(t.toNumber()),i=new zn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new zn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new zn(Math.ceil(l))}function Rhe(t,e,n){var r=1,i=new zn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new zn(10).pow(cS.getDigitCount(t)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new zn(Math.floor(t)))}else t===0?i=new zn(Math.floor((e-1)/2)):n||(i=new zn(Math.floor(t)));var o=Math.floor((e-1)/2),a=yhe(vhe(function(l){return i.add(new zn(l-o).mul(r)).toNumber()}),bR);return a(0,e)}function E$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var s=M$(new zn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new zn(0):(o=new zn(t).add(e).div(2),o=o.sub(new zn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new zn(e).sub(o).div(s).toNumber()),u=a+l+1;return u>n?E$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new zn(a).mul(s)),tickMax:o.add(new zn(l).mul(s))})}function Ohe(t){var e=ey(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=S$([n,r]),l=ey(a,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(SR(bR(0,i-1).map(function(){return 1/0}))):[].concat(SR(bR(0,i-1).map(function(){return-1/0})),[f]);return n>r?wR(d):d}if(u===f)return Rhe(u,i,s);var p=E$(u,f,o,s),v=p.step,x=p.tickMin,b=p.tickMax,y=cS.rangeStep(x,b.add(new zn(.1).mul(v)),v);return n>r?wR(y):y}function Nhe(t,e){var n=ey(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=S$([r,i]),a=ey(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),d=M$(new zn(u).sub(l).div(f-1),s,0),p=[].concat(SR(cS.rangeStep(new zn(l),new zn(u).sub(new zn(.99).mul(d)),d)),[u]);return r>i?wR(p):p}var Ihe=b$(Ohe),Lhe=b$(Nhe),Dhe="Invariant failed";function xd(t,e){throw new Error(Dhe)}var khe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}function Fhe(t,e){return zhe(t)||jhe(t,e)||Bhe(t,e)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return Rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rj(t,e)}}function Rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function zhe(t){if(Array.isArray(t))return t}function Vhe(t,e){if(t==null)return{};var n=Hhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ghe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function $he(t,e,n){return e&&Ghe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qhe(t,e,n){return e=Bb(e),Xhe(t,T$()?Reflect.construct(e,n||[],Bb(t).constructor):e.apply(t,n))}function Xhe(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Khe(t)}function Khe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bb(t)}function Yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ER(t,e)}function ER(t,e){return ER=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ER(t,e)}function A$(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Zhe(t,"string");return Kp(e)=="symbol"?e:e+""}function Zhe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a0=(function(t){function e(){return Whe(this,e),qhe(this,e,arguments)}return Yhe(e,t),$he(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,p=Vhe(r,khe),v=xn(p,!1);this.props.direction==="x"&&f.type!=="number"&&xd();var x=l.map(function(b){var y=u(b,a),w=y.x,M=y.y,S=y.value,A=y.errorVal;if(!A)return null;var P=[],O,I;if(Array.isArray(A)){var k=Fhe(A,2);O=k[0],I=k[1]}else O=I=A;if(s==="vertical"){var L=f.scale,F=M+i,j=F+o,H=F-o,q=L(S-O),X=L(S+I);P.push({x1:X,y1:j,x2:X,y2:H}),P.push({x1:q,y1:F,x2:X,y2:F}),P.push({x1:q,y1:j,x2:q,y2:H})}else if(s==="horizontal"){var J=d.scale,Z=w+i,ee=Z-o,V=Z+o,K=J(S-O),Q=J(S+I);P.push({x1:ee,y1:Q,x2:V,y2:Q}),P.push({x1:Z,y1:K,x2:Z,y2:Q}),P.push({x1:ee,y1:K,x2:V,y2:K})}return fe.createElement(hr,Ub({className:"recharts-errorBar",key:"bar-".concat(P.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},v),P.map(function(G){return fe.createElement("line",Ub({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return fe.createElement(hr,{className:"recharts-errorBars"},x)}}])})(fe.Component);A$(a0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});A$(a0,"displayName","ErrorBar");function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=epe(t,"string");return ty(e)=="symbol"?e:e+""}function epe(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=qs(n,Pp);if(!o)return null;var a=Pp.defaultProps,l=a!==void 0?Af(Af({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(f,d){var p=d.item,v=d.props,x=v.sectors||v.data||[];return f.concat(x.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(f){var d=f.item,p=d.type.defaultProps,v=p!==void 0?Af(Af({},p),d.props):{},x=v.dataKey,b=v.name,y=v.legendType,w=v.hide;return{inactive:w,dataKey:x,type:l.iconType||y||"square",color:hI(d),value:b||x,payload:v}}),Af(Af(Af({},l),Pp.getWithHeight(o,i)),{},{payload:u,item:o})};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function Nj(t){return ipe(t)||rpe(t)||npe(t)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(t,e){if(t){if(typeof t=="string")return TR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TR(t,e)}}function rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ipe(t){if(Array.isArray(t))return TR(t)}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){Rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rp(t,e,n){return e=spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ope(t,"string");return ny(e)=="symbol"?e:e+""}function ope(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t,e,n){return nn(t)||nn(e)?n:Yr(e)?Po(t,e,n):cn(e)?e(t):n}function bv(t,e,n,r){var i=ihe(t,function(a){return fs(a,e)});if(n==="number"){var s=i.filter(function(a){return dt(a)||parseFloat(a)});return s.length?[aS(s),oS(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!nn(a)}):i;return o.map(function(a){return Yr(a)||a instanceof Date?a:""})}var ape=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r?.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,p=u>=a-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(ha(d-f)!==ha(p-d)){var x=[];if(ha(p-d)===ha(l[1]-l[0])){v=p;var b=d+l[1]-l[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{v=f;var y=p+l[1]-l[0];x[0]=Math.min(d,(y+d)/2),x[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){o=i[u].index;break}}else{var M=Math.min(f,p),S=Math.max(f,p);if(e>(M+d)/2&&e<=(S+d)/2){o=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},hI=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},lpe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var f=s[a[l]].stackGroups,d=Object.keys(f),p=0,v=d.length;p<v;p++){var x=f[d[p]],b=x.items,y=x.cateAxisId,w=b.filter(function(I){return Jl(I.type).indexOf("Bar")>=0});if(w&&w.length){var M=w[0].type.defaultProps,S=M!==void 0?br(br({},M),w[0].props):w[0].props,A=S.barSize,P=S[y];o[P]||(o[P]=[]);var O=nn(A)?n:A;o[P].push({item:w[0],stackList:w.slice(1),barSize:nn(O)?void 0:vd(O,r,0)})}}return o},upe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=vd(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=i/l,x=o.reduce(function(A,P){return A+P.barSize||0},0);x+=(l-1)*u,x>=i&&(x-=(l-1)*u,u=0),x>=i&&v>0&&(p=!0,v*=.9,x=l*v);var b=(i-x)/2>>0,y={offset:b-u,size:0};f=o.reduce(function(A,P){var O={item:P.item,position:{offset:y.offset+y.size+u,size:p?v:P.barSize}},I=[].concat(Nj(A),[O]);return y=I[I.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(k){I.push({item:k,position:y})}),I},d)}else{var w=vd(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var M=(i-2*w-(l-1)*u)/l;M>1&&(M>>=0);var S=a===+a?Math.min(M,a):M;f=o.reduce(function(A,P,O){var I=[].concat(Nj(A),[{item:P.item,position:{offset:w+(M+u)*O+(M-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(k){I.push({item:k,position:I[I.length-1].position})}),I},d)}return f},cpe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=C$({children:s,legendWidth:l});if(u){var f=i||{},d=f.width,p=f.height,v=u.align,x=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&v!=="center"&&dt(e[v]))return br(br({},e),{},Rp({},v,e[v]+(d||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&x!=="middle"&&dt(e[x]))return br(br({},e),{},Rp({},x,e[x]+(p||0)))}return e},fpe=function(e,n,r){return nn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},R$=function(e,n,r,i,s){var o=n.props.children,a=eo(o,a0).filter(function(u){return fpe(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var d=fs(f,r);if(nn(d))return u;var p=Array.isArray(d)?[aS(d),oS(d)]:[d,d],v=l.reduce(function(x,b){var y=fs(f,b,0),w=p[0]-Math.abs(Array.isArray(y)?y[0]:y),M=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,x[0]),Math.max(M,x[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},dpe=function(e,n,r,i,s){var o=n.map(function(a){return R$(e,a,r,s,i)}).filter(function(a){return!nn(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},O$=function(e,n,r,i,s){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&R$(e,l,u,i)||bv(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)a[u[f]]||(a[u[f]]=!0,l.push(u[f]));return l},[])},N$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Jf=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&a?.length>=2?ha(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var p=s?s.indexOf(d):d;return{coordinate:i(p)+u,value:d,offset:u}});return f.filter(function(d){return!e0(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+u,value:d,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,p){return{coordinate:i(d)+u,value:s?s[d]:d,index:p,offset:u}})},TA=new WeakMap,kx=function(e,n){if(typeof n!="function")return e;TA.has(e)||TA.set(e,new WeakMap);var r=TA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},hpe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Xv(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Ib(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_v(),realScaleType:"point"}:s==="category"?{scale:Xv(),realScaleType:"band"}:{scale:Ib(),realScaleType:"linear"};if(Jy(i)){var l="scale".concat(Gw(i));return{scale:(yj[l]||_v)(),realScaleType:yj[l]?l:"point"}}return cn(i)?{scale:i}:{scale:_v(),realScaleType:"point"}},Lj=1e-4,ppe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Lj,o=Math.max(i[0],i[1])+Lj,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},mpe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gpe=function(e,n){if(!n||n.length!==2||!dt(n[0])||!dt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!dt(e[0])||e[0]<r)&&(s[0]=r),(!dt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},vpe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=e0(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},ype=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=e0(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},xpe={sign:vpe,expand:tae,none:zp,silhouette:nae,wiggle:rae,positive:ype},_pe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=xpe[r],o=eae().keys(i).value(function(a,l){return+fs(a,l,0)}).order(nR).offset(s);return o(e)},bpe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},u=a.reduce(function(d,p){var v,x=(v=p.type)!==null&&v!==void 0&&v.defaultProps?br(br({},p.type.defaultProps),p.props):p.props,b=x.stackId,y=x.hide;if(y)return d;var w=x[r],M=d[w]||{hasStack:!1,stackGroups:{}};if(Yr(b)){var S=M.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),M.hasStack=!0,M.stackGroups[b]=S}else M.stackGroups[t0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return br(br({},d),{},Rp({},w,M))},l),f={};return Object.keys(u).reduce(function(d,p){var v=u[p];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var w=v.stackGroups[y];return br(br({},b),{},Rp({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:_pe(e,w.items,s)}))},x)}return br(br({},d),{},Rp({},p,v))},f)},wpe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Ihe(u,s,a);return e.domain([aS(f),oS(f)]),{niceTicks:f}}if(s&&i==="number"){var d=e.domain(),p=Lhe(d,s,a);return{niceTicks:p}}return null};function Dj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nn(i[e.dataKey])){var a=pb(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=fs(i,nn(o)?e.dataKey:o);return nn(l)?null:e.scale(l)}var kj=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=fs(o,n.dataKey,n.domain[a]);return nn(l)?null:n.scale(l)-s/2+i},Spe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Mpe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Yr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},Epe=function(e){return e.reduce(function(n,r){return[aS(r.concat([n[0]]).filter(dt)),oS(r.concat([n[1]]).filter(dt))]},[1/0,-1/0])},I$=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,f){var d=Epe(f.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Fj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AR=function(e,n,r){if(cn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(dt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Fj.test(e[0])){var s=+Fj.exec(e[0])[1];i[0]=n[0]-s}else cn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(dt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Uj.test(e[1])){var o=+Uj.exec(e[1])[1];i[1]=n[1]+o}else cn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},jb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=zN(n,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],f=s[a-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Bj=function(e,n,r){return!e||!e.length||lS(e,Po(r,"type.defaultProps.domain"))?n:e},L$=function(e,n){var r=e.type.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return br(br({},xn(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:hI(e),value:fs(n,i),type:l,payload:n,chartType:u,hide:f})};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){Tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t,e,n){return e=Ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Ppe(t,"string");return ry(e)=="symbol"?e:e+""}function Ppe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zb=Math.PI/180,Cpe=function(e){return e*180/Math.PI},Ai=function(e,n,r,i){return{x:e+Math.cos(-zb*i)*r,y:n+Math.sin(-zb*i)*r}},Rpe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},Ope=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=Rpe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:Cpe(u),angleInRadian:u}},Npe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Ipe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},Vj=function(e,n){var r=e.x,i=e.y,s=Ope({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Npe(n),d=f.startAngle,p=f.endAngle,v=a,x;if(d<=p){for(;v>p;)v-=360;for(;v<d;)v+=360;x=v>=d&&v<=p}else{for(;v>d;)v-=360;for(;v<p;)v+=360;x=v>=p&&v<=d}return x?zj(zj({},n),{},{radius:o,angle:Ipe(v,n)}):null};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}var Lpe=["offset"];function Dpe(t){return Bpe(t)||Upe(t)||Fpe(t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return PR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(t,e)}}function Upe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bpe(t){if(Array.isArray(t))return PR(t)}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jpe(t,e){if(t==null)return{};var n=zpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e,n){return e=Hpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hpe(t){var e=Wpe(t,"string");return iy(e)=="symbol"?e:e+""}function Wpe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}var Gpe=function(e){var n=e.value,r=e.formatter,i=nn(e.children)?n:e.children;return cn(r)?r(i):i},$pe=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),360);return r*i},qpe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,f=l.cy,d=l.innerRadius,p=l.outerRadius,v=l.startAngle,x=l.endAngle,b=l.clockWise,y=(d+p)/2,w=$pe(v,x),M=w>=0?1:-1,S,A;i==="insideStart"?(S=v+M*o,A=b):i==="insideEnd"?(S=x-M*o,A=!b):i==="end"&&(S=x+M*o,A=b),A=w<=0?A:!A;var P=Ai(u,f,y,S),O=Ai(u,f,y,S+(A?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),k=nn(e.id)?t0("recharts-radial-line-"):e.id;return fe.createElement("text",sy({},r,{dominantBaseline:"central",className:bn("recharts-radial-bar-label",a)}),fe.createElement("defs",null,fe.createElement("path",{id:k,d:I})),fe.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Xpe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,p=(f+d)/2;if(i==="outside"){var v=Ai(o,a,u+r,p),x=v.x,b=v.y;return{x,y:b,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=Ai(o,a,y,p),M=w.x,S=w.y;return{x:M,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Kpe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,u=o.width,f=o.height,d=f>=0?1:-1,p=d*i,v=d>0?"end":"start",x=d>0?"start":"end",b=u>=0?1:-1,y=b*i,w=b>0?"end":"start",M=b>0?"start":"end";if(s==="top"){var S={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:v};return Xr(Xr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var A={x:a+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:x};return Xr(Xr({},A),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(s==="left"){var P={x:a-y,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return Xr(Xr({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(s==="right"){var O={x:a+u+y,y:l+f/2,textAnchor:M,verticalAnchor:"middle"};return Xr(Xr({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:f}:{})}var I=r?{width:u,height:f}:{};return s==="insideLeft"?Xr({x:a+y,y:l+f/2,textAnchor:M,verticalAnchor:"middle"},I):s==="insideRight"?Xr({x:a+u-y,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},I):s==="insideTop"?Xr({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:x},I):s==="insideBottom"?Xr({x:a+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},I):s==="insideTopLeft"?Xr({x:a+y,y:l+p,textAnchor:M,verticalAnchor:x},I):s==="insideTopRight"?Xr({x:a+u-y,y:l+p,textAnchor:w,verticalAnchor:x},I):s==="insideBottomLeft"?Xr({x:a+y,y:l+f-p,textAnchor:M,verticalAnchor:v},I):s==="insideBottomRight"?Xr({x:a+u-y,y:l+f-p,textAnchor:w,verticalAnchor:v},I):bm(s)&&(dt(s.x)||Yf(s.x))&&(dt(s.y)||Yf(s.y))?Xr({x:a+vd(s.x,u),y:l+vd(s.y,f),textAnchor:"end",verticalAnchor:"end"},I):Xr({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Ype=function(e){return"cx"in e&&dt(e.cx)};function Vi(t){var e=t.offset,n=e===void 0?5:e,r=jpe(t,Lpe),i=Xr({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,f=i.className,d=f===void 0?"":f,p=i.textBreakAll;if(!s||nn(a)&&nn(l)&&!B.isValidElement(u)&&!cn(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var v;if(cn(u)){if(v=B.createElement(u,i),B.isValidElement(v))return v}else v=Gpe(i);var x=Ype(s),b=xn(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qpe(i,v,b);var y=x?Xpe(i):Kpe(i);return fe.createElement(Tb,sy({className:bn("recharts-label",d)},b,y,{breakAll:p}),v)}Vi.displayName="Label";var D$=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,d=e.x,p=e.y,v=e.top,x=e.left,b=e.width,y=e.height,w=e.clockWise,M=e.labelViewBox;if(M)return M;if(dt(b)&&dt(y)){if(dt(d)&&dt(p))return{x:d,y:p,width:b,height:y};if(dt(v)&&dt(x))return{x:v,y:x,width:b,height:y}}return dt(d)&&dt(p)?{x:d,y:p,width:0,height:0}:dt(n)&&dt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},Zpe=function(e,n){return e?e===!0?fe.createElement(Vi,{key:"label-implicit",viewBox:n}):Yr(e)?fe.createElement(Vi,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===Vi?B.cloneElement(e,{key:"label-implicit",viewBox:n}):fe.createElement(Vi,{key:"label-implicit",content:e,viewBox:n}):cn(e)?fe.createElement(Vi,{key:"label-implicit",content:e,viewBox:n}):bm(e)?fe.createElement(Vi,sy({viewBox:n},e,{key:"label-implicit"})):null:null},Qpe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=D$(e),o=eo(i,Vi).map(function(l,u){return B.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=Zpe(e.label,n||s);return[a].concat(Dpe(o))};Vi.parseViewBox=D$;Vi.renderCallByParent=Qpe;var AA,Wj;function Jpe(){if(Wj)return AA;Wj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return AA=t,AA}var eme=Jpe();const tme=Tn(eme);function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}var nme=["valueAccessor"],rme=["data","dataKey","clockWise","id","textBreakAll"];function ime(t){return lme(t)||ame(t)||ome(t)||sme()}function sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(t,e){if(t){if(typeof t=="string")return CR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(t,e)}}function ame(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lme(t){if(Array.isArray(t))return CR(t)}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=fme(t,"string");return oy(e)=="symbol"?e:e+""}function fme(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qj(t,e){if(t==null)return{};var n=dme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hme=function(e){return Array.isArray(e.value)?tme(e.value):e.value};function yc(t){var e=t.valueAccessor,n=e===void 0?hme:e,r=qj(t,nme),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=qj(r,rme);return!i||!i.length?null:fe.createElement(hr,{className:"recharts-label-list"},i.map(function(f,d){var p=nn(s)?n(f,d):fs(f&&f.payload,s),v=nn(a)?{}:{id:"".concat(a,"-").concat(d)};return fe.createElement(Vi,Vb({},xn(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:Vi.parseViewBox(nn(o)?f:$j($j({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}yc.displayName="LabelList";function pme(t,e){return t?t===!0?fe.createElement(yc,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||cn(t)?fe.createElement(yc,{key:"labelList-implicit",data:e,content:t}):bm(t)?fe.createElement(yc,Vb({data:e},t,{key:"labelList-implicit"})):null:null}function mme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=eo(r,yc).map(function(o,a){return B.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=pme(t.label,e);return[s].concat(ime(i))}yc.renderCallByParent=mme;function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function RR(){return RR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RR.apply(this,arguments)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=yme(t,"string");return ay(e)=="symbol"?e:e+""}function yme(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xme=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(a?1:-1)+i,d=Math.asin(l/f)/zb,p=u?s:s+o*d,v=Ai(n,r,f,p),x=Ai(n,r,i,p),b=u?s-o*d:s,y=Ai(n,r,f*Math.cos(d*zb),b);return{center:v,circleTangency:x,lineTangency:y,theta:d}},k$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=xme(o,a),u=o+l,f=Ai(n,r,s,o),d=Ai(n,r,s,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var v=Ai(n,r,i,o),x=Ai(n,r,i,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},_me=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,d=ha(f-u),p=Fx({cx:n,cy:r,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),v=p.circleTangency,x=p.lineTangency,b=p.theta,y=Fx({cx:n,cy:r,radius:s,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,M=y.lineTangency,S=y.theta,A=l?Math.abs(u-f):Math.abs(u-f)-b-S;if(A<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):k$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var O=Fx({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=O.circleTangency,k=O.lineTangency,L=O.theta,F=Fx({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=F.circleTangency,H=F.lineTangency,q=F.theta,X=l?Math.abs(u-f):Math.abs(u-f)-L-q;if(X<0&&o===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(d>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},bme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F$=function(e){var n=Kj(Kj({},bme),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,p=n.className;if(o<s||f===d)return null;var v=bn("recharts-sector",p),x=o-s,b=vd(a,x,0,!0),y;return b>0&&Math.abs(f-d)<360?y=_me({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):y=k$({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:d}),fe.createElement("path",RR({},xn(n,!0),{className:v,d:y,role:"img"}))};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function OR(){return OR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OR.apply(this,arguments)}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e,n){return e=Sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Mme(t,"string");return ly(e)=="symbol"?e:e+""}function Mme(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qj={curveBasisClosed:Hoe,curveBasisOpen:Woe,curveBasis:Voe,curveBumpX:Poe,curveBumpY:Coe,curveLinearClosed:Goe,curveLinear:qw,curveMonotoneX:$oe,curveMonotoneY:qoe,curveNatural:Xoe,curveStep:Koe,curveStepAfter:Zoe,curveStepBefore:Yoe},Ux=function(e){return e.x===+e.x&&e.y===+e.y},Ug=function(e){return e.x},Bg=function(e){return e.y},Eme=function(e,n){if(cn(e))return e;var r="curve".concat(Gw(e));return(r==="curveMonotone"||r==="curveBump")&&n?Qj["".concat(r).concat(n==="vertical"?"Y":"X")]:Qj[r]||qw},Tme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=Eme(r,a),d=u?s.filter(function(b){return Ux(b)}):s,p;if(Array.isArray(o)){var v=u?o.filter(function(b){return Ux(b)}):o,x=d.map(function(b,y){return Zj(Zj({},b),{},{base:v[y]})});return a==="vertical"?p=Cx().y(Bg).x1(Ug).x0(function(b){return b.base.x}):p=Cx().x(Ug).y1(Bg).y0(function(b){return b.base.y}),p.defined(Ux).curve(f),p(x)}return a==="vertical"&&dt(o)?p=Cx().y(Bg).x1(Ug).x0(o):dt(o)?p=Cx().x(Ug).y1(Bg).y0(o):p=H8().x(Ug).y(Bg),p.defined(Ux).curve(f),p(d)},NR=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Tme(e):i;return fe.createElement("path",OR({},xn(e,!1),mb(e),{className:bn("recharts-curve",n),d:o,ref:s}))},PA={exports:{}},CA,Jj;function Ame(){if(Jj)return CA;Jj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return CA=t,CA}var RA,ez;function Pme(){if(ez)return RA;ez=1;var t=Ame();function e(){}function n(){}return n.resetWarningCache=e,RA=function(){function r(o,a,l,u,f,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},RA}var tz;function Cme(){return tz||(tz=1,PA.exports=Pme()()),PA.exports}var Rme=Cme();const Rn=Tn(Rme);var Ome=Object.getOwnPropertyNames,Nme=Object.getOwnPropertySymbols,Ime=Object.prototype.hasOwnProperty;function nz(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Bx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function rz(t){return Ome(t).concat(Nme(t))}var Lme=Object.hasOwn||(function(t,e){return Ime.call(t,e)});function Od(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Dme="__v",kme="__o",Fme="_owner",iz=Object.getOwnPropertyDescriptor,sz=Object.keys;function Ume(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Bme(t,e){return Od(t.getTime(),e.getTime())}function jme(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zme(t,e){return t===e}function oz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,d=0;(a=u.next())&&!a.done;){if(i[d]){d++;continue}var p=o.value,v=a.value;if(n.equals(p[0],v[0],l,d,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var Vme=Od;function Hme(t,e,n){var r=sz(t),i=r.length;if(sz(e).length!==i)return!1;for(;i-- >0;)if(!U$(t,e,n,r[i]))return!1;return!0}function jg(t,e,n){var r=rz(t),i=r.length;if(rz(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!U$(t,e,n,s)||(o=iz(t,s),a=iz(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function Wme(t,e){return Od(t.valueOf(),e.valueOf())}function Gme(t,e){return t.source===e.source&&t.flags===e.flags}function az(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function $me(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qme(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function U$(t,e,n,r){return(r===Fme||r===kme||r===Dme)&&(t.$$typeof||e.$$typeof)?!0:Lme(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Xme="[object Arguments]",Kme="[object Boolean]",Yme="[object Date]",Zme="[object Error]",Qme="[object Map]",Jme="[object Number]",ege="[object Object]",tge="[object RegExp]",nge="[object Set]",rge="[object String]",ige="[object URL]",sge=Array.isArray,lz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uz=Object.assign,oge=Object.prototype.toString.call.bind(Object.prototype.toString);function age(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(x,b,y){if(x===b)return!0;if(x==null||b==null)return!1;var w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?o(x,b,y):w==="function"?i(x,b,y):!1;var M=x.constructor;if(M!==b.constructor)return!1;if(M===Object)return a(x,b,y);if(sge(x))return e(x,b,y);if(lz!=null&&lz(x))return d(x,b,y);if(M===Date)return n(x,b,y);if(M===RegExp)return u(x,b,y);if(M===Map)return s(x,b,y);if(M===Set)return f(x,b,y);var S=oge(x);return S===Yme?n(x,b,y):S===tge?u(x,b,y):S===Qme?s(x,b,y):S===nge?f(x,b,y):S===ege?typeof x.then!="function"&&typeof b.then!="function"&&a(x,b,y):S===ige?p(x,b,y):S===Zme?r(x,b,y):S===Xme?a(x,b,y):S===Kme||S===Jme||S===rge?l(x,b,y):!1}}function lge(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?jg:Ume,areDatesEqual:Bme,areErrorsEqual:jme,areFunctionsEqual:zme,areMapsEqual:r?nz(oz,jg):oz,areNumbersEqual:Vme,areObjectsEqual:r?jg:Hme,arePrimitiveWrappersEqual:Wme,areRegExpsEqual:Gme,areSetsEqual:r?nz(az,jg):az,areTypedArraysEqual:r?jg:$me,areUrlsEqual:qme};if(n&&(i=uz({},i,n(i))),e){var s=Bx(i.areArraysEqual),o=Bx(i.areMapsEqual),a=Bx(i.areObjectsEqual),l=Bx(i.areSetsEqual);i=uz({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function uge(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function cge(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,u){var f=r(),d=f.cache,p=d===void 0?e?new WeakMap:void 0:d,v=f.meta;return n(l,u,{cache:p,equals:i,meta:v,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return n(l,u,o)}}var fge=Ic();Ic({strict:!0});Ic({circular:!0});Ic({circular:!0,strict:!0});Ic({createInternalComparator:function(){return Od}});Ic({strict:!0,createInternalComparator:function(){return Od}});Ic({circular:!0,createInternalComparator:function(){return Od}});Ic({circular:!0,createInternalComparator:function(){return Od},strict:!0});function Ic(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=lge(t),l=age(a),u=r?r(l):uge(l);return cge({circular:n,comparator:l,createState:i,equals:u,strict:o})}function dge(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function cz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):dge(i)};requestAnimationFrame(r)}function IR(t){"@babel/helpers - typeof";return IR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IR(t)}function hge(t){return vge(t)||gge(t)||mge(t)||pge()}function pge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(t,e){if(t){if(typeof t=="string")return fz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fz(t,e)}}function fz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vge(t){if(Array.isArray(t))return t}function yge(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=hge(o),l=a[0],u=a.slice(1);if(typeof l=="number"){cz(i.bind(null,u),l);return}i(l),cz(i.bind(null,u));return}IR(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return e=xge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xge(t){var e=_ge(t,"string");return uy(e)==="symbol"?e:String(e)}function _ge(t,e){if(uy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},wge=function(e){return e},Sge=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wv=function(e,n){return Object.keys(n).reduce(function(r,i){return hz(hz({},r),{},B$({},i,e(i,n[i])))},{})},pz=function(e,n,r){return e.map(function(i){return"".concat(Sge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Mge(t,e){return Age(t)||Tge(t,e)||j$(t,e)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Age(t){if(Array.isArray(t))return t}function Pge(t){return Oge(t)||Rge(t)||j$(t)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$(t,e){if(t){if(typeof t=="string")return LR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(t,e)}}function Rge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oge(t){if(Array.isArray(t))return LR(t)}function LR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hb=1e-4,z$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},V$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mz=function(e,n){return function(r){var i=z$(e,n);return V$(i,r)}},Nge=function(e,n){return function(r){var i=z$(e,n),s=[].concat(Pge(i.map(function(o,a){return o*a}).slice(1)),[0]);return V$(s,r)}},gz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=Mge(u,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var d=mz(i,o),p=mz(s,a),v=Nge(i,o),x=function(w){return w>1?1:w<0?0:w},b=function(w){for(var M=w>1?1:w,S=M,A=0;A<8;++A){var P=d(S)-M,O=v(S);if(Math.abs(P-M)<Hb||O<Hb)return p(S);S=x(S-P/O)}return p(S)};return b.isStepper=!1,b},Ige=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(f,d,p){var v=-(f-d)*r,x=p*s,b=p+(v-x)*a/1e3,y=p*a/1e3+f;return Math.abs(y-d)<Hb&&Math.abs(b)<Hb?[d,0]:[y,b]};return l.isStepper=!0,l.dt=a,l},Lge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gz(i);case"spring":return Ige();default:if(i.split("(")[0]==="cubic-bezier")return gz(i)}return typeof i=="function"?i:null};function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function vz(t){return Fge(t)||kge(t)||H$(t)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fge(t){if(Array.isArray(t))return kR(t)}function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(r){DR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DR(t,e,n){return e=Uge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uge(t){var e=Bge(t,"string");return cy(e)==="symbol"?e:String(e)}function Bge(t,e){if(cy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jge(t,e){return Hge(t)||Vge(t,e)||H$(t,e)||zge()}function zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$(t,e){if(t){if(typeof t=="string")return kR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Hge(t){if(Array.isArray(t))return t}var Wb=function(e,n,r){return e+(n-e)*r},FR=function(e){var n=e.from,r=e.to;return n!==r},Wge=function t(e,n,r){var i=wv(function(s,o){if(FR(o)){var a=e(o.from,o.to,o.velocity),l=jge(a,2),u=l[0],f=l[1];return Ei(Ei({},o),{},{from:u,velocity:f})}return o},n);return r<1?wv(function(s,o){return FR(o)?Ei(Ei({},o),{},{velocity:Wb(o.velocity,i[s].velocity,r),from:Wb(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const Gge=(function(t,e,n,r,i){var s=bge(t,e),o=s.reduce(function(y,w){return Ei(Ei({},y),{},DR({},w,[t[w],e[w]]))},{}),a=s.reduce(function(y,w){return Ei(Ei({},y),{},DR({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,f,d=function(){return null},p=function(){return wv(function(w,M){return M.from},a)},v=function(){return!Object.values(a).filter(FR).length},x=function(w){u||(u=w);var M=w-u,S=M/n.dt;a=Wge(n,a,S),i(Ei(Ei(Ei({},t),e),p())),u=w,v()||(l=requestAnimationFrame(d))},b=function(w){f||(f=w);var M=(w-f)/r,S=wv(function(P,O){return Wb.apply(void 0,vz(O).concat([n(M)]))},o);if(i(Ei(Ei(Ei({},t),e),S)),M<1)l=requestAnimationFrame(d);else{var A=wv(function(P,O){return Wb.apply(void 0,vz(O).concat([n(1)]))},o);i(Ei(Ei(Ei({},t),e),A))}};return d=n.isStepper?x:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var $ge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qge(t,e){if(t==null)return{};var n=Xge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OA(t){return Qge(t)||Zge(t)||Yge(t)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(t,e){if(t){if(typeof t=="string")return UR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(t,e)}}function Zge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qge(t){if(Array.isArray(t))return UR(t)}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cv(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function tve(t,e,n){return e&&eve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W$(t){var e=nve(t,"string");return Yp(e)==="symbol"?e:String(e)}function nve(t,e){if(Yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BR(t,e)}function BR(t,e){return BR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BR(t,e)}function ive(t){var e=sve();return function(){var r=Gb(t),i;if(e){var s=Gb(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return jR(this,i)}}function jR(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zR(t)}function zR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(t)}var fu=(function(t){rve(n,t);var e=ive(n);function n(r,i){var s;Jge(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,f=o.to,d=o.steps,p=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(zR(s)),s.changeStyle=s.changeStyle.bind(zR(s)),!a||v<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),jR(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof p=="function")return s.state={style:u},jR(s);s.state={style:l?cv({},l,u):u}}else s.state={style:{}};return s}return tve(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,p=this.state.style;if(a){if(!o){var v={style:l?cv({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(v);return}if(!(fge(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||u?d:i.to;if(this.state&&p){var y={style:l?cv({},l,b):b};(l&&p[l]!==b||!l&&p!==b)&&this.setState(y)}this.runAnimation(ra(ra({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,v=Gge(o,a,Lge(u),l,this.changeStyle),x=function(){s.stopJSAnimation=v()};this.manager.start([p,f,x,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,p=d===void 0?0:d,v=function(b,y,w){if(w===0)return b;var M=y.duration,S=y.easing,A=S===void 0?"ease":S,P=y.style,O=y.properties,I=y.onAnimationEnd,k=w>0?o[w-1]:y,L=O||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(OA(b),[s.runJSAnimation.bind(s,{from:k.style,to:P,duration:M,easing:A}),M]);var F=pz(L,M,A),j=ra(ra(ra({},k.style),P),{},{transition:F});return[].concat(OA(b),[j,M,I]).filter(wge)};return this.manager.start([l].concat(OA(o.reduce(v,[f,Math.max(p,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yge());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=a?cv({},a,l):l,y=pz(Object.keys(b),o,u);x.start([f,s,ra(ra({},b),{},{transition:y}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=qge(i,$ge),u=B.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||u===0||o<=0)return s;var d=function(v){var x=v.props,b=x.style,y=b===void 0?{}:b,w=x.className,M=B.cloneElement(v,ra(ra({},l),{},{style:ra(ra({},y),f),className:w}));return M};return u===1?d(B.Children.only(s)):fe.createElement("div",null,B.Children.map(s,function(p){return d(p)}))}}]),n})(B.PureComponent);fu.displayName="Animate";fu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fu.propTypes={from:Rn.oneOfType([Rn.object,Rn.string]),to:Rn.oneOfType([Rn.object,Rn.string]),attributeName:Rn.string,duration:Rn.number,begin:Rn.number,easing:Rn.oneOfType([Rn.string,Rn.func]),steps:Rn.arrayOf(Rn.shape({duration:Rn.number.isRequired,style:Rn.object.isRequired,easing:Rn.oneOfType([Rn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rn.func]),properties:Rn.arrayOf("string"),onAnimationEnd:Rn.func})),children:Rn.oneOfType([Rn.node,Rn.func]),isActive:Rn.bool,canBegin:Rn.bool,onAnimationEnd:Rn.func,shouldReAnimate:Rn.bool,onAnimationStart:Rn.func,onAnimationReStart:Rn.func};function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(null,arguments)}function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function ove(t,e){return cve(t)||uve(t,e)||lve(t,e)||ave()}function ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t,e){if(t){if(typeof t=="string")return _z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _z(t,e)}}function _z(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cve(t){if(Array.isArray(t))return t}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fve(t,e,n){return e=dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=hve(t,"string");return fy(e)=="symbol"?e:e+""}function hve(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sz=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),f+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),f+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),f+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);f="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},pve=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),f=Math.max(s,s+a),d=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=f&&i>=d&&i<=p}return!1},mve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pI=function(e){var n=wz(wz({},mve),e),r=B.useRef(),i=B.useState(-1),s=ove(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var l=n.x,u=n.y,f=n.width,d=n.height,p=n.radius,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,M=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var S=bn("recharts-rectangle",v);return M?fe.createElement(fu,{canBegin:o>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:b,animationEasing:x,isActive:M},function(A){var P=A.width,O=A.height,I=A.x,k=A.y;return fe.createElement(fu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:x},fe.createElement("path",$b({},xn(n,!0),{className:S,d:Sz(I,k,P,O,p),ref:r})))}):fe.createElement("path",$b({},xn(n,!0),{className:S,d:Sz(l,u,f,d,p)}))};function VR(){return VR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VR.apply(this,arguments)}var G$=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=bn("recharts-dot",s);return n===+n&&r===+r&&i===+i?fe.createElement("circle",VR({},xn(e,!1),mb(e),{className:o,cx:n,cy:r,r:i})):null};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}var gve=["x","y","top","left","width","height","className"];function HR(){return HR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HR.apply(this,arguments)}function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){yve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=_ve(t,"string");return dy(e)=="symbol"?e:e+""}function _ve(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bve(t,e){if(t==null)return{};var n=wve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sve=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Mve=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,d=f===void 0?0:f,p=e.height,v=p===void 0?0:p,x=e.className,b=bve(e,gve),y=vve({x:r,y:s,top:a,left:u,width:d,height:v},b);return!dt(r)||!dt(s)||!dt(d)||!dt(v)||!dt(a)||!dt(u)?null:fe.createElement("path",HR({},xn(y,!0),{className:bn("recharts-cross",x),d:Sve(r,s,d,v,a,u)}))},NA,Ez;function Eve(){if(Ez)return NA;Ez=1;var t=dG(),e=t(Object.getPrototypeOf,Object);return NA=e,NA}var IA,Tz;function Tve(){if(Tz)return IA;Tz=1;var t=mu(),e=Eve(),n=gu(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var d=e(f);if(d===null)return!0;var p=a.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return IA=u,IA}var Ave=Tve();const Pve=Tn(Ave);var LA,Az;function Cve(){if(Az)return LA;Az=1;var t=mu(),e=gu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return LA=r,LA}var Rve=Cve();const Ove=Tn(Rve);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function Nve(t,e){return kve(t)||Dve(t,e)||Lve(t,e)||Ive()}function Ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(t,e){if(t){if(typeof t=="string")return Pz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pz(t,e)}}function Pz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kve(t){if(Array.isArray(t))return t}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){Fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fve(t,e,n){return e=Uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uve(t){var e=Bve(t,"string");return hy(e)=="symbol"?e:e+""}function Bve(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oz=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},jve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zve=function(e){var n=Rz(Rz({},jve),e),r=B.useRef(),i=B.useState(-1),s=Nve(i,2),o=s[0],a=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,d=n.lowerWidth,p=n.height,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||p!==+p||f===0&&d===0||p===0)return null;var M=bn("recharts-trapezoid",v);return w?fe.createElement(fu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:p,x:l,y:u},duration:b,animationEasing:x,isActive:w},function(S){var A=S.upperWidth,P=S.lowerWidth,O=S.height,I=S.x,k=S.y;return fe.createElement(fu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},fe.createElement("path",qb({},xn(n,!0),{className:M,d:Oz(I,k,A,P,O),ref:r})))}):fe.createElement("g",null,fe.createElement("path",qb({},xn(n,!0),{className:M,d:Oz(l,u,f,d,p)})))},Vve=["option","shapeType","propTransformer","activeClassName","isActive"];function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function Hve(t,e){if(t==null)return{};var n=Wve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return e=$ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=qve(t,"string");return py(e)=="symbol"?e:e+""}function qve(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xve(t,e){return Xb(Xb({},e),t)}function Kve(t,e){return t==="symbols"}function Iz(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return fe.createElement(pI,n);case"trapezoid":return fe.createElement(zve,n);case"sector":return fe.createElement(F$,n);case"symbols":if(Kve(e))return fe.createElement(Kw,n);break;default:return null}}function Yve(t){return B.isValidElement(t)?t.props:t}function WR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Xve:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=Hve(t,Vve),u;if(B.isValidElement(e))u=B.cloneElement(e,Xb(Xb({},l),Yve(e)));else if(cn(e))u=e(l);else if(Pve(e)&&!Ove(e)){var f=i(e,l);u=fe.createElement(Iz,{shapeType:n,elementProps:f})}else{var d=l;u=fe.createElement(Iz,{shapeType:n,elementProps:d})}return a?fe.createElement(hr,{className:o},u):u}function fS(t,e){return e!=null&&"trapezoids"in t.props}function dS(t,e){return e!=null&&"sectors"in t.props}function my(t,e){return e!=null&&"points"in t.props}function Zve(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Qve(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jve(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function eye(t,e){var n;return fS(t,e)?n=Zve:dS(t,e)?n=Qve:my(t,e)&&(n=Jve),n}function tye(t,e){var n;return fS(t,e)?n="trapezoids":dS(t,e)?n="sectors":my(t,e)&&(n="points"),n}function nye(t,e){if(fS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(dS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return my(t,e)?e.payload:{}}function rye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=tye(n,e),s=nye(n,e),o=r.filter(function(l,u){var f=lS(s,l),d=n.props[i].filter(function(x){var b=eye(n,e);return b(x,e)}),p=n.props[i].indexOf(d[d.length-1]),v=u===p;return f&&v}),a=r.indexOf(o[o.length-1]);return a}var DA,Lz;function iye(){if(Lz)return DA;Lz=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var a=-1,l=e(t((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return DA=n,DA}var kA,Dz;function $$(){if(Dz)return kA;Dz=1;var t=PG(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return kA=r,kA}var FA,kz;function sye(){if(kz)return FA;kz=1;var t=iye(),e=Qw(),n=$$();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,i)}}return FA=r,FA}var UA,Fz;function oye(){if(Fz)return UA;Fz=1;var t=sye(),e=t();return UA=e,UA}var aye=oye();const Kb=Tn(aye);function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(r){q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$(t,e,n){return e=lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return gy(e)=="symbol"?e:e+""}function uye(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cye=["Webkit","Moz","O","ms"],fye=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=cye.reduce(function(s,o){return Bz(Bz({},s),{},q$({},o+r,n))},{});return i[e]=n,i};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){$s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function hye(t,e,n){return e&&zz(t.prototype,e),n&&zz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pye(t,e,n){return e=Zb(e),mye(t,X$()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function mye(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(t)}function gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GR(t,e)}function GR(t,e){return GR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GR(t,e)}function $s(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=yye(t,"string");return Zp(e)=="symbol"?e:e+""}function yye(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=_v().domain(Kb(0,l)).range([s,s+o-a]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},Vz=function(e){return e.changedTouches&&!!e.changedTouches.length},Qp=(function(t){function e(n){var r;return dye(this,e),r=pye(this,e,[n]),$s(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$s(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$s(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),$s(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$s(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$s(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$s(r,"handleSlideDragStart",function(i){var s=Vz(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vye(e,t),hye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,f=u.length-1,d=Math.min(i,s),p=Math.max(i,s),v=e.getIndexInRange(o,d),x=e.getIndexInRange(o,p);return{startIndex:v-v%l,endIndex:x===f?f:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=fs(s[r],a,r);return cn(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,p=l.startIndex,v=l.endIndex,x=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+f-d-a,u+f-d-o):b<0&&(b=Math.max(b,u-o,u-a));var y=this.getIndex({startX:o+b,endX:a+b});(y.startIndex!==p||y.endIndex!==v)&&x&&x(y),this.setState({startX:o+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Vz(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],f=this.props,d=f.x,p=f.width,v=f.travellerWidth,x=f.onChange,b=f.gap,y=f.data,w={startX:this.state.startX,endX:this.state.endX},M=r.pageX-s;M>0?M=Math.min(M,d+p-v-u):M<0&&(M=Math.max(M,d-u)),w[o]=u+M;var S=this.getIndex(w),A=S.startIndex,P=S.endIndex,O=function(){var k=y.length-1;return o==="startX"&&(a>l?A%b===0:P%b===0)||a<l&&P===k||o==="endX"&&(a>l?P%b===0:A%b===0)||a>l&&P===k};this.setState($s($s({},o,u+M),"brushMoveStartX",r.pageX),function(){x&&O()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],d=a.indexOf(f);if(d!==-1){var p=d+r;if(!(p===-1||p>=a.length)){var v=a[p];i==="startX"&&v>=u||i==="endX"&&v<=l||this.setState($s({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return fe.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,f=r.padding,d=B.Children.only(u);return d?fe.cloneElement(d,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,p=l.traveller,v=l.ariaLabel,x=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),M=BA(BA({},xn(this.props,!1)),{},{x:w,y:u,width:f,height:d}),S=v||"Min value: ".concat((s=x[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return fe.createElement(hr,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),a.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,M))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,f=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,d=f.startX,p=f.endX,v=5,x={pointerEvents:"none",fill:u};return fe.createElement(hr,{className:"recharts-brush-texts"},fe.createElement(Tb,Yb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-v,y:o+a/2},x),this.getTextOfTick(i)),fe.createElement(Tb,Yb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+v,y:o+a/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,f=r.height,d=r.alwaysShowText,p=this.state,v=p.startX,x=p.endX,b=p.isTextActive,y=p.isSlideMoving,w=p.isTravellerMoving,M=p.isTravellerFocused;if(!i||!i.length||!dt(a)||!dt(l)||!dt(u)||!dt(f)||u<=0||f<=0)return null;var S=bn("recharts-brush",s),A=fe.Children.count(o)===1,P=fye("userSelect","none");return fe.createElement(hr,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(b||y||w||M||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),fe.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return fe.isValidElement(r)?s=fe.cloneElement(r,i):cn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,d=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return BA({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?xye({data:s,width:o,x:a,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])})(B.PureComponent);$s(Qp,"displayName","Brush");$s(Qp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jA,Hz;function _ye(){if(Hz)return jA;Hz=1;var t=jN();function e(n,r){var i;return t(n,function(s,o,a){return i=r(s,o,a),!i}),!!i}return jA=e,jA}var zA,Wz;function bye(){if(Wz)return zA;Wz=1;var t=sG(),e=Rc(),n=_ye(),r=Ns(),i=Qw();function s(o,a,l){var u=r(o)?t:n;return l&&i(o,a,l)&&(a=void 0),u(o,e(a,3))}return zA=s,zA}var wye=bye();const Sye=Tn(wye);var Xa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},VA,Gz;function Mye(){if(Gz)return VA;Gz=1;var t=SG();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return VA=e,VA}var HA,$z;function Eye(){if($z)return HA;$z=1;var t=Mye(),e=bG(),n=Rc();function r(i,s){var o={};return s=n(s,3),e(i,function(a,l,u){t(o,l,s(a,l,u))}),o}return HA=r,HA}var Tye=Eye();const Aye=Tn(Tye);var WA,qz;function Pye(){if(qz)return WA;qz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return WA=t,WA}var GA,Xz;function Cye(){if(Xz)return GA;Xz=1;var t=jN();function e(n,r){var i=!0;return t(n,function(s,o,a){return i=!!r(s,o,a),i}),i}return GA=e,GA}var $A,Kz;function Rye(){if(Kz)return $A;Kz=1;var t=Pye(),e=Cye(),n=Rc(),r=Ns(),i=Qw();function s(o,a,l){var u=r(o)?t:e;return l&&i(o,a,l)&&(a=void 0),u(o,n(a,3))}return $A=s,$A}var Oye=Rye();const Nye=Tn(Oye);var Iye=["x","y"];function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function $R(){return $R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$R.apply(this,arguments)}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){Lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lye(t,e,n){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=kye(t,"string");return vy(e)=="symbol"?e:e+""}function kye(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fye(t,e){if(t==null)return{};var n=Uye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bye(t,e){var n=t.x,r=t.y,i=Fye(t,Iye),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),d="".concat(e.width||i.width),p=parseInt(d,10);return zg(zg(zg(zg(zg({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function Zz(t){return fe.createElement(WR,$R({shapeType:"rectangle",propTransformer:Bye,activeClassName:"recharts-active-bar"},t))}var jye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||xd(),n)}},zye=["value","background"],Y$;function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Vye(t,e){if(t==null)return{};var n=Hye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(this,arguments)}function Qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q$(r.key),r)}}function Gye(t,e,n){return e&&Jz(t.prototype,e),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ye(t,e,n){return e=Jb(e),qye(t,Z$()?Reflect.construct(e,n||[],Jb(t).constructor):e.apply(t,n))}function qye(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xye(t)}function Xye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(t)}function Kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qR(t,e)}function qR(t,e){return qR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qR(t,e)}function mc(t,e,n){return e=Q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=Yye(t,"string");return Jp(e)=="symbol"?e:e+""}function Yye(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l0=(function(t){function e(){var n;Wye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$ye(this,e,[].concat(i)),mc(n,"state",{isAnimationFinished:!1}),mc(n,"id",t0("recharts-bar-")),mc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),mc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Kye(e,t),Gye(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,f=xn(this.props,!1);return r&&r.map(function(d,p){var v=p===l,x=v?u:o,b=kr(kr(kr({},f),d),{},{isActive:v,option:x,index:p,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return fe.createElement(hr,Qb({className:"recharts-bar-rectangle"},jv(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),fe.createElement(Zz,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state.prevData;return fe.createElement(fu,{begin:l,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,b=s.map(function(y,w){var M=p&&p[w];if(M){var S=Ba(M.x,y.x),A=Ba(M.y,y.y),P=Ba(M.width,y.width),O=Ba(M.height,y.height);return kr(kr({},y),{},{x:S(x),y:A(x),width:P(x),height:O(x)})}if(o==="horizontal"){var I=Ba(0,y.height),k=I(x);return kr(kr({},y),{},{y:y.y+y.height-k,height:k})}var L=Ba(0,y.width),F=L(x);return kr(kr({},y),{},{width:F})});return fe.createElement(hr,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!lS(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=xn(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,p=Vye(u,zye);if(!d)return null;var v=kr(kr(kr(kr(kr({},p),{},{fill:"#eee"},d),l),jv(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return fe.createElement(Zz,Qb({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,d=eo(f,a0);if(!d)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,v=function(y,w){var M=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:M,errorVal:fs(y,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return fe.createElement(hr,x,d.map(function(b){return fe.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,f=r.top,d=r.width,p=r.height,v=r.isAnimationActive,x=r.background,b=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=bn("recharts-bar",o),M=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,A=M||S,P=nn(b)?this.id:b;return fe.createElement(hr,{className:w},M||S?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(P)},fe.createElement("rect",{x:M?u:u-d/2,y:S?f:f-p/2,width:M?d:d*2,height:S?p:p*2}))):null,fe.createElement(hr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!v||y)&&yc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(B.PureComponent);Y$=l0;mc(l0,"displayName","Bar");mc(l0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mc(l0,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,d=t.displayedData,p=t.offset,v=mpe(r,n);if(!v)return null;var x=e.layout,b=n.type.defaultProps,y=b!==void 0?kr(kr({},b),n.props):n.props,w=y.dataKey,M=y.children,S=y.minPointSize,A=x==="horizontal"?o:s,P=u?A.scale.domain():null,O=Spe({numericAxis:A}),I=eo(M,Jw),k=d.map(function(L,F){var j,H,q,X,J,Z;u?j=gpe(u[f+F],P):(j=fs(L,w),Array.isArray(j)||(j=[O,j]));var ee=jye(S,Y$.defaultProps.minPointSize)(j[1],F);if(x==="horizontal"){var V,K=[o.scale(j[0]),o.scale(j[1])],Q=K[0],G=K[1];H=kj({axis:s,ticks:a,bandSize:i,offset:v.offset,entry:L,index:F}),q=(V=G??Q)!==null&&V!==void 0?V:void 0,X=v.size;var ne=Q-G;if(J=Number.isNaN(ne)?0:ne,Z={x:H,y:o.y,width:X,height:o.height},Math.abs(ee)>0&&Math.abs(J)<Math.abs(ee)){var ye=ha(J||ee)*(Math.abs(ee)-Math.abs(J));q-=ye,J+=ye}}else{var ue=[s.scale(j[0]),s.scale(j[1])],xe=ue[0],Re=ue[1];if(H=xe,q=kj({axis:o,ticks:l,bandSize:i,offset:v.offset,entry:L,index:F}),X=Re-xe,J=v.size,Z={x:s.x,y:q,width:s.width,height:J},Math.abs(ee)>0&&Math.abs(X)<Math.abs(ee)){var Ce=ha(X||ee)*(Math.abs(ee)-Math.abs(X));X+=Ce}}return kr(kr(kr({},L),{},{x:H,y:q,width:X,height:J,value:u?j:j[1],payload:L,background:Z},I&&I[F]&&I[F].props),{},{tooltipPayload:[L$(n,L)],tooltipPosition:{x:H+X/2,y:q+J/2}})});return kr({data:k,layout:x},p)});function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function Qye(t,e,n){return e&&e4(t.prototype,e),n&&e4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){hS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hS(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=Jye(t,"string");return yy(e)=="symbol"?e:e+""}function Jye(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e0e=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,u=e.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},p=!!qs(u,l0);return f.reduce(function(v,x){var b=n[x],y=b.orientation,w=b.domain,M=b.padding,S=M===void 0?{}:M,A=b.mirror,P=b.reversed,O="".concat(y).concat(A?"Mirror":""),I,k,L,F,j;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var H=w[1]-w[0],q=1/0,X=b.categoricalDomain.sort();if(X.forEach(function(ue,xe){xe>0&&(q=Math.min((ue||0)-(X[xe-1]||0),q))}),Number.isFinite(q)){var J=q/H,Z=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(I=J*Z/2),b.padding==="no-gap"){var ee=vd(e.barCategoryGap,J*Z),V=J*Z/2;I=V-ee-(V-ee)/Z*ee}}}i==="xAxis"?k=[r.left+(S.left||0)+(I||0),r.left+r.width-(S.right||0)-(I||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(I||0),r.top+r.height-(S.bottom||0)-(I||0)]:k=b.range,P&&(k=[k[1],k[0]]);var K=hpe(b,s,p),Q=K.scale,G=K.realScaleType;Q.domain(w).range(k),ppe(Q);var ne=wpe(Q,ua(ua({},b),{},{realScaleType:G}));i==="xAxis"?(j=y==="top"&&!A||y==="bottom"&&A,L=r.left,F=d[O]-j*b.height):i==="yAxis"&&(j=y==="left"&&!A||y==="right"&&A,L=d[O]-j*b.width,F=r.top);var ye=ua(ua(ua({},b),ne),{},{realScaleType:G,x:L,y:F,scale:Q,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return ye.bandSize=jb(ye,ne),!b.hide&&i==="xAxis"?d[O]+=(j?-1:1)*ye.height:b.hide||(d[O]+=(j?-1:1)*ye.width),ua(ua({},v),{},hS({},x,ye))},{})},eq=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},t0e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return eq({x:n,y:r},{x:i,y:s})},tq=(function(){function t(e){Zye(this,t),this.scale=e}return Qye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();hS(tq,"EPS",1e-4);var mI=function(e){var n=Object.keys(e).reduce(function(r,i){return ua(ua({},r),{},hS({},i,tq.create(e[i])))},{});return ua(ua({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return Aye(i,function(l,u){return n[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return Nye(i,function(s,o){return n[o].isInRange(s)})}})};function n0e(t){return(t%180+180)%180}var r0e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=n0e(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},qA,n4;function i0e(){if(n4)return qA;n4=1;var t=Rc(),e=n0(),n=Yw();function r(i){return function(s,o,a){var l=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(d){return u(l[d],d,l)}}var f=i(s,o,a);return f>-1?l[u?s[f]:f]:void 0}}return qA=r,qA}var XA,r4;function s0e(){if(r4)return XA;r4=1;var t=$$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return XA=e,XA}var KA,i4;function o0e(){if(i4)return KA;i4=1;var t=gG(),e=Rc(),n=s0e(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),t(s,e(o,3),u)}return KA=i,KA}var YA,s4;function a0e(){if(s4)return YA;s4=1;var t=i0e(),e=o0e(),n=t(e);return YA=n,YA}a0e();var l0e=N8();const u0e=Tn(l0e);var c0e=u0e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nq=B.createContext(void 0),rq=B.createContext(void 0),iq=B.createContext(void 0),f0e=B.createContext({}),sq=B.createContext(void 0),oq=B.createContext(0),aq=B.createContext(0),o4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,f=c0e(s);return fe.createElement(nq.Provider,{value:r},fe.createElement(rq.Provider,{value:i},fe.createElement(f0e.Provider,{value:s},fe.createElement(iq.Provider,{value:f},fe.createElement(sq.Provider,{value:o},fe.createElement(oq.Provider,{value:u},fe.createElement(aq.Provider,{value:l},a)))))))},d0e=function(){return B.useContext(sq)},lq=function(e){var n=B.useContext(nq);n==null&&xd();var r=n[e];return r==null&&xd(),r},uq=function(e){var n=B.useContext(rq);n==null&&xd();var r=n[e];return r==null&&xd(),r},h0e=function(){var e=B.useContext(iq);return e},cq=function(){return B.useContext(aq)},fq=function(){return B.useContext(oq)};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function p0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hq(r.key),r)}}function g0e(t,e,n){return e&&m0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v0e(t,e,n){return e=ew(e),y0e(t,dq()?Reflect.construct(e,n||[],ew(t).constructor):e.apply(t,n))}function y0e(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x0e(t)}function x0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function ew(t){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ew(t)}function _0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XR(t,e)}function XR(t,e){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XR(t,e)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){gI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gI(t,e,n){return e=hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t){var e=b0e(t,"string");return em(e)=="symbol"?e:e+""}function b0e(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function w0e(t,e){return T0e(t)||E0e(t,e)||M0e(t,e)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(t,e){if(t){if(typeof t=="string")return u4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u4(t,e)}}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function T0e(t){if(Array.isArray(t))return t}function KR(){return KR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KR.apply(this,arguments)}var A0e=function(e,n){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,n):cn(e)?r=e(n):r=fe.createElement("line",KR({},n,{className:"recharts-reference-line-line"})),r},P0e=function(e,n,r,i,s,o,a,l,u){var f=s.x,d=s.y,p=s.width,v=s.height;if(r){var x=u.y,b=e.y.apply(x,{position:o});if(Xa(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:f+p,y:b},{x:f,y:b}];return l==="left"?y.reverse():y}if(n){var w=u.x,M=e.x.apply(w,{position:o});if(Xa(u,"discard")&&!e.x.isInRange(M))return null;var S=[{x:M,y:d+v},{x:M,y:d}];return a==="top"?S.reverse():S}if(i){var A=u.segment,P=A.map(function(O){return e.apply(O,{position:o})});return Xa(u,"discard")&&Sye(P,function(O){return!e.isInRange(O)})?null:P}return null};function C0e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=d0e(),f=lq(i),d=uq(s),p=h0e();if(!u||!p)return null;sd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=mI({x:f.scale,y:d.scale}),x=Yr(e),b=Yr(n),y=r&&r.length===2,w=P0e(v,x,b,y,p,t.position,f.orientation,d.orientation,t);if(!w)return null;var M=w0e(w,2),S=M[0],A=S.x,P=S.y,O=M[1],I=O.x,k=O.y,L=Xa(t,"hidden")?"url(#".concat(u,")"):void 0,F=l4(l4({clipPath:L},xn(t,!0)),{},{x1:A,y1:P,x2:I,y2:k});return fe.createElement(hr,{className:bn("recharts-reference-line",a)},A0e(o,F),Vi.renderCallByParent(t,t0e({x1:A,y1:P,x2:I,y2:k})))}var pS=(function(t){function e(){return p0e(this,e),v0e(this,e,arguments)}return _0e(e,t),g0e(e,[{key:"render",value:function(){return fe.createElement(C0e,this.props)}}])})(fe.Component);gI(pS,"displayName","ReferenceLine");gI(pS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YR(){return YR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YR.apply(this,arguments)}function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){mS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mq(r.key),r)}}function N0e(t,e,n){return e&&O0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I0e(t,e,n){return e=tw(e),L0e(t,pq()?Reflect.construct(e,n||[],tw(t).constructor):e.apply(t,n))}function L0e(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0e(t)}function D0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!t})()}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tw(t)}function k0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZR(t,e)}function ZR(t,e){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZR(t,e)}function mS(t,e,n){return e=mq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mq(t){var e=F0e(t,"string");return tm(e)=="symbol"?e:e+""}function F0e(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U0e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=mI({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Xa(e,"discard")&&!o.isInRange(a)?null:a},gS=(function(t){function e(){return R0e(this,e),I0e(this,e,arguments)}return k0e(e,t),N0e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=Yr(i),f=Yr(s);if(sd(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=U0e(this.props);if(!d)return null;var p=d.x,v=d.y,x=this.props,b=x.shape,y=x.className,w=Xa(this.props,"hidden")?"url(#".concat(l,")"):void 0,M=f4(f4({clipPath:w},xn(this.props,!0)),{},{cx:p,cy:v});return fe.createElement(hr,{className:bn("recharts-reference-dot",y)},e.renderDot(b,M),Vi.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])})(fe.Component);mS(gS,"displayName","ReferenceDot");mS(gS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mS(gS,"renderDot",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):cn(t)?n=t(e):n=fe.createElement(G$,YR({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QR(){return QR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QR.apply(this,arguments)}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vq(r.key),r)}}function z0e(t,e,n){return e&&j0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V0e(t,e,n){return e=nw(e),H0e(t,gq()?Reflect.construct(e,n||[],nw(t).constructor):e.apply(t,n))}function H0e(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W0e(t)}function W0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!t})()}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nw(t)}function G0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JR(t,e)}function JR(t,e){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JR(t,e)}function vS(t,e,n){return e=vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=$0e(t,"string");return nm(e)=="symbol"?e:e+""}function $0e(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q0e=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var p=mI({x:f.scale,y:d.scale}),v={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(a,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Xa(s,"discard")&&(!p.isInRange(v)||!p.isInRange(x))?null:eq(v,x)},yS=(function(t){function e(){return B0e(this,e),V0e(this,e,arguments)}return G0e(e,t),z0e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;sd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Yr(i),p=Yr(s),v=Yr(o),x=Yr(a),b=this.props.shape;if(!d&&!p&&!v&&!x&&!b)return null;var y=q0e(d,p,v,x,this.props);if(!y&&!b)return null;var w=Xa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return fe.createElement(hr,{className:bn("recharts-reference-area",l)},e.renderRect(b,h4(h4({clipPath:w},xn(this.props,!0)),y)),Vi.renderCallByParent(this.props,y))}}])})(fe.Component);vS(yS,"displayName","ReferenceArea");vS(yS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vS(yS,"renderRect",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):cn(t)?n=t(e):n=fe.createElement(pI,QR({},e,{className:"recharts-reference-area-rect"})),n});function yq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function X0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return r0e(r,n)}function K0e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function rw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Y0e(t,e){return yq(t,e+1)}function Z0e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,f=o,d=function(){var x=r?.[l];if(x===void 0)return{v:yq(r,u)};var b=l,y,w=function(){return y===void 0&&(y=n(x,b)),y},M=x.coordinate,S=l===0||rw(t,M,w,f,a);S||(l=0,f=o,u+=1),S&&(f=M+t*(w()/2+i),l+=u)},p;u<=s.length;)if(p=d(),p)return p.v;return[]}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0e(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=exe(t,"string");return xy(e)=="symbol"?e:e+""}function exe(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function txe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(p){var v=s[p],x,b=function(){return x===void 0&&(x=n(v,p)),x};if(p===o-1){var y=t*(v.coordinate+t*b()/2-l);s[p]=v=zi(zi({},v),{},{tickCoord:y>0?v.coordinate-y*t:v.coordinate})}else s[p]=v=zi(zi({},v),{},{tickCoord:v.coordinate});var w=rw(t,v.tickCoord,b,a,l);w&&(l=v.tickCoord-t*(b()/2+i),s[p]=zi(zi({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function nxe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var f=r[a-1],d=n(f,a-1),p=t*(f.coordinate+t*d/2-u);o[a-1]=f=zi(zi({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=rw(t,f.tickCoord,function(){return d},l,u);v&&(u=f.tickCoord-t*(d/2+i),o[a-1]=zi(zi({},f),{},{isShow:!0}))}for(var x=s?a-1:a,b=function(M){var S=o[M],A,P=function(){return A===void 0&&(A=n(S,M)),A};if(M===0){var O=t*(S.coordinate-t*P()/2-l);o[M]=S=zi(zi({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else o[M]=S=zi(zi({},S),{},{tickCoord:S.coordinate});var I=rw(t,S.tickCoord,P,l,u);I&&(l=S.tickCoord+t*(P()/2+i),o[M]=zi(zi({},S),{},{isShow:!0}))},y=0;y<x;y++)b(y);return o}function rxe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(dt(l)||Sm.isSsr)return Y0e(i,typeof l=="number"&&dt(l)?l:0);var p=[],v=a==="top"||a==="bottom"?"width":"height",x=f&&v==="width"?xv(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,A){var P=cn(u)?u(S.value,A):S.value;return v==="width"?X0e(xv(P,{fontSize:e,letterSpacing:n}),x,d):xv(P,{fontSize:e,letterSpacing:n})[v]},y=i.length>=2?ha(i[1].coordinate-i[0].coordinate):1,w=K0e(s,y,v);return l==="equidistantPreserveStart"?Z0e(y,w,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=nxe(y,w,b,i,o,l==="preserveStartEnd"):p=txe(y,w,b,i,o),p.filter(function(M){return M.isShow}))}var ixe=["viewBox"],sxe=["viewBox"],oxe=["ticks"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){vI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZA(t,e){if(t==null)return{};var n=axe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function axe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_q(r.key),r)}}function uxe(t,e,n){return e&&g4(t.prototype,e),n&&g4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cxe(t,e,n){return e=iw(e),fxe(t,xq()?Reflect.construct(e,n||[],iw(t).constructor):e.apply(t,n))}function fxe(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(t)}function hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e2(t,e)}function e2(t,e){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e2(t,e)}function vI(t,e,n){return e=_q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=pxe(t,"string");return rm(e)=="symbol"?e:e+""}function pxe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xS=(function(t){function e(n){var r;return lxe(this,e),r=cxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hxe(e,t),uxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=ZA(r,ixe),a=this.props,l=a.viewBox,u=ZA(a,sxe);return!Ap(s,l)||!Ap(o,u)||!Ap(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,p=i.tickMargin,v,x,b,y,w,M,S=d?-1:1,A=r.tickSize||f,P=dt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=x=r.coordinate,y=o+ +!d*l,b=y-S*A,M=b-S*p,w=P;break;case"left":b=y=r.coordinate,x=s+ +!d*a,v=x-S*A,w=v-S*p,M=P;break;case"right":b=y=r.coordinate,x=s+ +d*a,v=x+S*A,w=v+S*p,M=P;break;default:v=x=r.coordinate,y=o+ +d*l,b=y+S*A,M=b+S*p,w=P;break}return{line:{x1:v,y1:b,x2:x,y2:y},tick:{x:w,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,d=is(is(is({},xn(this.props,!1)),xn(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=is(is({},d),{},{x1:i,y1:s+p*a,x2:i+o,y2:s+p*a})}else{var v=+(l==="left"&&!u||l==="right"&&u);d=is(is({},d),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+a})}return fe.createElement("line",mp({},d,{className:bn("recharts-cartesian-axis-line",Po(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,f=a.tick,d=a.tickFormatter,p=a.unit,v=rxe(is(is({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=xn(this.props,!1),w=xn(f,!1),M=is(is({},y),{},{fill:"none"},xn(l,!1)),S=v.map(function(A,P){var O=o.getTickLineCoord(A),I=O.line,k=O.tick,L=is(is(is(is({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),k),{},{index:P,payload:A,visibleTicksCount:v.length,tickFormatter:d});return fe.createElement(hr,mp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},jv(o.props,A,P)),l&&fe.createElement("line",mp({},M,I,{className:bn("recharts-cartesian-axis-tick-line",Po(l,"className"))})),f&&e.renderTickItem(f,L,"".concat(cn(d)?d(A.value,P):A.value).concat(p||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,p=d.ticks,v=ZA(d,oxe),x=p;return cn(l)&&(x=p&&p.length>0?l(this.props):l(v)),o<=0||a<=0||!x||!x.length?null:fe.createElement(hr,{className:bn("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Vi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return fe.isValidElement(r)?o=fe.cloneElement(r,i):cn(r)?o=r(i):o=fe.createElement(Tb,mp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(B.Component);vI(xS,"displayName","CartesianAxis");vI(xS,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sq(r.key),r)}}function vxe(t,e,n){return e&&gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yxe(t,e,n){return e=sw(e),xxe(t,bq()?Reflect.construct(e,n||[],sw(t).constructor):e.apply(t,n))}function xxe(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(t)}function _xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(t)}function bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t2(t,e)}function wq(t,e,n){return e=Sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t){var e=wxe(t,"string");return im(e)=="symbol"?e:e+""}function wxe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u0=(function(t){function e(){return mxe(this,e),yxe(this,e,arguments)}return bxe(e,t),vxe(e,[{key:"render",value:function(){return null}}])})(fe.Component);wq(u0,"displayName","ZAxis");wq(u0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Sxe=["option","isActive"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function Mxe(t,e){if(t==null)return{};var n=Exe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Exe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Txe(t){var e=t.option,n=t.isActive,r=Mxe(t,Sxe);return typeof e=="string"?fe.createElement(WR,Sv({option:fe.createElement(Kw,Sv({type:e},r)),isActive:n,shapeType:"symbols"},r)):fe.createElement(WR,Sv({option:e,isActive:n,shapeType:"symbols"},r))}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eq(r.key),r)}}function Pxe(t,e,n){return e&&y4(t.prototype,e),n&&y4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cxe(t,e,n){return e=ow(e),Rxe(t,Mq()?Reflect.construct(e,n||[],ow(t).constructor):e.apply(t,n))}function Rxe(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(t)}function Oxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ow(t)}function Nxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n2(t,e)}function n2(t,e){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n2(t,e)}function gc(t,e,n){return e=Eq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eq(t){var e=Ixe(t,"string");return sm(e)=="symbol"?e:e+""}function Ixe(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c0=(function(t){function e(){var n;Axe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Cxe(this,e,[].concat(i)),gc(n,"state",{isAnimationFinished:!1}),gc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),gc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),gc(n,"id",t0("recharts-scatter-")),n}return Nxe(e,t),Pxe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.activeShape,l=s.activeIndex,u=xn(this.props,!1);return r.map(function(f,d){var p=l===d,v=p?a:o,x=bo(bo({},u),f);return fe.createElement(hr,Mv({className:"recharts-scatter-symbol",key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(d)},jv(i.props,f,d),{role:"img"}),fe.createElement(Txe,Mv({option:v,isActive:p,key:"symbol-".concat(d)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevPoints;return fe.createElement(fu,{begin:a,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,x=s.map(function(b,y){var w=d&&d[y];if(w){var M=Ba(w.cx,b.cx),S=Ba(w.cy,b.cy),A=Ba(w.size,b.size);return bo(bo({},b),{},{cx:M(v),cy:S(v),size:A(v)})}var P=Ba(0,b.size);return bo(bo({},b),{},{size:P(v)})});return fe.createElement(hr,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,o=this.state.prevPoints;return s&&i&&i.length&&(!o||!lS(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,a=i.yAxis,l=i.children,u=eo(l,a0);return u?u.map(function(f,d){var p=f.props,v=p.direction,x=p.dataKey;return fe.cloneElement(f,{key:"".concat(v,"-").concat(x,"-").concat(s[d]),data:s,xAxis:o,yAxis:a,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(y,w){return{x:y.cx,y:y.cy,value:v==="x"?+y.node.x:+y.node.y,errorVal:fs(y,w)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,o=r.lineType,a=r.lineJointType,l=xn(this.props,!1),u=xn(s,!1),f,d;if(o==="joint")f=i.map(function(S){return{x:S.cx,y:S.cy}});else if(o==="fitting"){var p=Jse(i),v=p.xmin,x=p.xmax,b=p.a,y=p.b,w=function(A){return b*A+y};f=[{x:v,y:w(v)},{x,y:w(x)}]}var M=bo(bo(bo({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:f});return fe.isValidElement(s)?d=fe.cloneElement(s,M):cn(s)?d=s(M):d=fe.createElement(NR,Mv({},M,{type:a})),fe.createElement(hr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,o=r.line,a=r.className,l=r.xAxis,u=r.yAxis,f=r.left,d=r.top,p=r.width,v=r.height,x=r.id,b=r.isAnimationActive;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=bn("recharts-scatter",a),M=l&&l.allowDataOverflow,S=u&&u.allowDataOverflow,A=M||S,P=nn(x)?this.id:x;return fe.createElement(hr,{className:w,clipPath:A?"url(#clipPath-".concat(P,")"):null},M||S?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(P)},fe.createElement("rect",{x:M?f:f-p/2,y:S?d:d-v/2,width:M?p:p*2,height:S?v:v*2}))):null,o&&this.renderLine(),this.renderErrorBar(),fe.createElement(hr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||y)&&yc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(B.PureComponent);gc(c0,"displayName","Scatter");gc(c0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Sm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});gc(c0,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,s=t.displayedData,o=t.xAxisTicks,a=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,f=eo(i.props.children,Jw),d=nn(e.dataKey)?i.props.dataKey:e.dataKey,p=nn(n.dataKey)?i.props.dataKey:n.dataKey,v=r&&r.dataKey,x=r?r.range:u0.defaultProps.range,b=x&&x[0],y=e.scale.bandwidth?e.scale.bandwidth():0,w=n.scale.bandwidth?n.scale.bandwidth():0,M=s.map(function(S,A){var P=fs(S,d),O=fs(S,p),I=!nn(v)&&fs(S,v)||"-",k=[{name:nn(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:P,payload:S,dataKey:d,type:u},{name:nn(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:S,dataKey:p,type:u}];I!=="-"&&k.push({name:r.name||r.dataKey,unit:r.unit||"",value:I,payload:S,dataKey:v,type:u});var L=Dj({axis:e,ticks:o,bandSize:y,entry:S,index:A,dataKey:d}),F=Dj({axis:n,ticks:a,bandSize:w,entry:S,index:A,dataKey:p}),j=I!=="-"?r.scale(I):b,H=Math.sqrt(Math.max(j,0)/Math.PI);return bo(bo({},S),{},{cx:L,cy:F,x:L-H,y:F-H,xAxis:e,yAxis:n,zAxis:r,width:2*H,height:2*H,size:j,node:{x:P,y:O,z:I},tooltipPayload:k,tooltipPosition:{x:L,y:F},payload:S},f&&f[A]&&f[A].props)});return bo({points:M},l)});function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pq(r.key),r)}}function kxe(t,e,n){return e&&Dxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fxe(t,e,n){return e=aw(e),Uxe(t,Tq()?Reflect.construct(e,n||[],aw(t).constructor):e.apply(t,n))}function Uxe(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(t)}function Bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tq=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aw(t)}function jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r2(t,e)}function Aq(t,e,n){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=zxe(t,"string");return om(e)=="symbol"?e:e+""}function zxe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i2.apply(this,arguments)}function Vxe(t){var e=t.xAxisId,n=cq(),r=fq(),i=lq(e);return i==null?null:fe.createElement(xS,i2({},i,{className:bn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Jf(o,!0)}}))}var _S=(function(t){function e(){return Lxe(this,e),Fxe(this,e,arguments)}return jxe(e,t),kxe(e,[{key:"render",value:function(){return fe.createElement(Vxe,this.props)}}])})(fe.Component);Aq(_S,"displayName","XAxis");Aq(_S,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function Hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oq(r.key),r)}}function Gxe(t,e,n){return e&&Wxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $xe(t,e,n){return e=lw(e),qxe(t,Cq()?Reflect.construct(e,n||[],lw(t).constructor):e.apply(t,n))}function qxe(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xxe(t)}function Xxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cq=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lw(t)}function Kxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s2(t,e)}function s2(t,e){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s2(t,e)}function Rq(t,e,n){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t){var e=Yxe(t,"string");return am(e)=="symbol"?e:e+""}function Yxe(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(this,arguments)}var Zxe=function(e){var n=e.yAxisId,r=cq(),i=fq(),s=uq(n);return s==null?null:fe.createElement(xS,o2({},s,{className:bn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Jf(a,!0)}}))},bS=(function(t){function e(){return Hxe(this,e),$xe(this,e,arguments)}return Kxe(e,t),Gxe(e,[{key:"render",value:function(){return fe.createElement(Zxe,this.props)}}])})(fe.Component);Rq(bS,"displayName","YAxis");Rq(bS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function x4(t){return t_e(t)||e_e(t)||Jxe(t)||Qxe()}function Qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(t,e){if(t){if(typeof t=="string")return a2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(t,e)}}function e_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t_e(t){if(Array.isArray(t))return a2(t)}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l2=function(e,n,r,i,s){var o=eo(e,pS),a=eo(e,gS),l=[].concat(x4(o),x4(a)),u=eo(e,yS),f="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(b,y){if(y.props[f]===r&&Xa(y.props,"extendDomain")&&dt(y.props[d])){var w=y.props[d];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},p)),u.length){var v="".concat(d,"1"),x="".concat(d,"2");p=u.reduce(function(b,y){if(y.props[f]===r&&Xa(y.props,"extendDomain")&&dt(y.props[v])&&dt(y.props[x])){var w=y.props[v],M=y.props[x];return[Math.min(b[0],w,M),Math.max(b[1],w,M)]}return b},p)}return s&&s.length&&(p=s.reduce(function(b,y){return dt(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},p)),p},QA={exports:{}},_4;function n_e(){return _4||(_4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,d||l,p),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,x=new Array(v);p<v;p++)x[p]=d[p].fn;return x},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,p,v,x){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,M,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,x),!0}for(S=1,M=new Array(w-1);S<w;S++)M[S-1]=arguments[S];y.fn.apply(y.context,M)}else{var A=y.length,P;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,d);break;case 4:y[S].fn.call(y[S].context,f,d,p);break;default:if(!M)for(P=1,M=new Array(w-1);P<w;P++)M[P-1]=arguments[P];y[S].fn.apply(y[S].context,M)}}return!0},a.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,p){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!d||x.context===d)&&o(this,v);else{for(var b=0,y=[],w=x.length;b<w;b++)(x[b].fn!==f||p&&!x[b].once||d&&x[b].context!==d)&&y.push(x[b]);y.length?this._events[v]=y.length===1?y[0]:y:o(this,v)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(QA)),QA.exports}var r_e=n_e();const i_e=Tn(r_e);var JA=new i_e,eP="recharts.syncMouseEvents";function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nq(r.key),r)}}function a_e(t,e,n){return e&&o_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tP(t,e,n){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=l_e(t,"string");return _y(e)=="symbol"?e:e+""}function l_e(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u_e=(function(){function t(){s_e(this,t),tP(this,"activeIndex",0),tP(this,"coordinateList",[]),tP(this,"layout","horizontal")}return a_e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,d=f===void 0?null:f,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+u,p=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function c_e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&dt(r)&&dt(i))return!0}return!1}function f_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Iq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Ai(e,n,r,i),a=Ai(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function d_e(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,d=e.angle,p=Ai(a,l,u,d),v=Ai(a,l,f,d);r=p.x,i=p.y,s=v.x,o=v.y}else return Iq(e);return[{x:r,y:i},{x:s,y:o}]}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){h_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return by(e)=="symbol"?e:e+""}function m_e(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g_e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var x,b=NR;if(p==="ScatterChart")x=o,b=Mve;else if(p==="BarChart")x=f_e(d,o,l,f),b=pI;else if(d==="radial"){var y=Iq(o),w=y.cx,M=y.cy,S=y.radius,A=y.startAngle,P=y.endAngle;x={cx:w,cy:M,startAngle:A,endAngle:P,innerRadius:S,outerRadius:S},b=F$}else x={points:d_e(d,o,l)},b=NR;var O=jx(jx(jx(jx({stroke:"#ccc",pointerEvents:"none"},l),x),xn(v,!1)),{},{payload:a,payloadIndex:u,className:bn("recharts-tooltip-cursor",v.className)});return B.isValidElement(v)?B.cloneElement(v,O):B.createElement(b,O)}var v_e=["item"],y_e=["children","className","width","height","style","compact","title","desc"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function w4(t,e){return b_e(t)||__e(t,e)||Dq(t,e)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function b_e(t){if(Array.isArray(t))return t}function S4(t,e){if(t==null)return{};var n=w_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function E_e(t,e,n){return e&&M_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_e(t,e,n){return e=uw(e),A_e(t,Lq()?Reflect.construct(e,n||[],uw(t).constructor):e.apply(t,n))}function A_e(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P_e(t)}function P_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!t})()}function uw(t){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uw(t)}function C_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u2(t,e)}function um(t){return N_e(t)||O_e(t)||Dq(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dq(t,e){if(t){if(typeof t=="string")return c2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(t,e)}}function O_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N_e(t){if(Array.isArray(t))return c2(t)}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){Dt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dt(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=I_e(t,"string");return lm(e)=="symbol"?e:e+""}function I_e(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L_e={xAxis:["bottom","top"],yAxis:["left","right"]},D_e={width:"100%",height:"100%"},Fq={x:0,y:0};function zx(t){return t}var k_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},F_e=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Ie(Ie(Ie({},i),Ai(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return Ie(Ie(Ie({},i),Ai(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Fq},wS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(um(a),um(u)):a},[]);return o.length>0?o:e&&e.length&&dt(i)&&dt(s)?e.slice(i,s+1):[]};function Uq(t){return t==="number"?[0,"auto"]:void 0}var f2=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=wS(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=d===void 0?a:d;p=pb(v,o.dataKey,i)}else p=d&&d[r]||a[r];return p?[].concat(um(l),[L$(u,p)]):l},[])},E4=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=k_e(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=ape(o,a,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,p=f2(e,n,f,d),v=F_e(r,a,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:p,activeCoordinate:v}}return null},U_e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,d=e.children,p=e.stackOffset,v=N$(f,s);return r.reduce(function(x,b){var y,w=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,M=w.type,S=w.dataKey,A=w.allowDataOverflow,P=w.allowDuplicatedCategory,O=w.scale,I=w.ticks,k=w.includeHidden,L=w[o];if(x[L])return x;var F=wS(e.data,{graphicalItems:i.filter(function(ne){var ye,ue=o in ne.props?ne.props[o]:(ye=ne.type.defaultProps)===null||ye===void 0?void 0:ye[o];return ue===L}),dataStartIndex:l,dataEndIndex:u}),j=F.length,H,q,X;c_e(w.domain,A,M)&&(H=AR(w.domain,null,A),v&&(M==="number"||O!=="auto")&&(X=bv(F,S,"category")));var J=Uq(M);if(!H||H.length===0){var Z,ee=(Z=w.domain)!==null&&Z!==void 0?Z:J;if(S){if(H=bv(F,S,M),M==="category"&&v){var V=Qse(H);P&&V?(q=H,H=Kb(0,j)):P||(H=Bj(ee,H,b).reduce(function(ne,ye){return ne.indexOf(ye)>=0?ne:[].concat(um(ne),[ye])},[]))}else if(M==="category")P?H=H.filter(function(ne){return ne!==""&&!nn(ne)}):H=Bj(ee,H,b).reduce(function(ne,ye){return ne.indexOf(ye)>=0||ye===""||nn(ye)?ne:[].concat(um(ne),[ye])},[]);else if(M==="number"){var K=dpe(F,i.filter(function(ne){var ye,ue,xe=o in ne.props?ne.props[o]:(ye=ne.type.defaultProps)===null||ye===void 0?void 0:ye[o],Re="hide"in ne.props?ne.props.hide:(ue=ne.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return xe===L&&(k||!Re)}),S,s,f);K&&(H=K)}v&&(M==="number"||O!=="auto")&&(X=bv(F,S,"category"))}else v?H=Kb(0,j):a&&a[L]&&a[L].hasStack&&M==="number"?H=p==="expand"?[0,1]:I$(a[L].stackGroups,l,u):H=O$(F,i.filter(function(ne){var ye=o in ne.props?ne.props[o]:ne.type.defaultProps[o],ue="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return ye===L&&(k||!ue)}),M,f,!0);if(M==="number")H=l2(d,H,L,s,I),ee&&(H=AR(ee,H,A));else if(M==="category"&&ee){var Q=ee,G=H.every(function(ne){return Q.indexOf(ne)>=0});G&&(H=Q)}}return Ie(Ie({},x),{},Dt({},L,Ie(Ie({},w),{},{axisType:s,domain:H,categoricalDomain:X,duplicateDomain:q,originalDomain:(y=w.domain)!==null&&y!==void 0?y:J,isCategorical:v,layout:f})))},{})},B_e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,d=e.children,p=wS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),v=p.length,x=N$(f,s),b=-1;return r.reduce(function(y,w){var M=w.type.defaultProps!==void 0?Ie(Ie({},w.type.defaultProps),w.props):w.props,S=M[o],A=Uq("number");if(!y[S]){b++;var P;return x?P=Kb(0,v):a&&a[S]&&a[S].hasStack?(P=I$(a[S].stackGroups,l,u),P=l2(d,P,S,s)):(P=AR(A,O$(p,r.filter(function(O){var I,k,L=o in O.props?O.props[o]:(I=O.type.defaultProps)===null||I===void 0?void 0:I[o],F="hide"in O.props?O.props.hide:(k=O.type.defaultProps)===null||k===void 0?void 0:k.hide;return L===S&&!F}),"number",f),i.defaultProps.allowDataOverflow),P=l2(d,P,S,s)),Ie(Ie({},y),{},Dt({},S,Ie(Ie({axisType:s},i.defaultProps),{},{hide:!0,orientation:Po(L_e,"".concat(s,".").concat(b%2),null),domain:P,originalDomain:A,isCategorical:x,layout:f})))}return y},{})},j_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,d="".concat(i,"Id"),p=eo(f,s),v={};return p&&p.length?v=U_e(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(v=B_e(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),v},z_e=function(e){var n=op(e),r=Jf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:zN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:jb(n,r)}},T4=function(e){var n=e.children,r=e.defaultShowTooltip,i=qs(n,Qp),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},V_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Jl(n&&n.type);return r&&r.indexOf("Bar")>=0})},A4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},H_e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,f=r.height,d=r.children,p=r.margin||{},v=qs(d,Qp),x=qs(d,Pp),b=Object.keys(l).reduce(function(P,O){var I=l[O],k=I.orientation;return!I.mirror&&!I.hide?Ie(Ie({},P),{},Dt({},k,P[k]+I.width)):P},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(P,O){var I=o[O],k=I.orientation;return!I.mirror&&!I.hide?Ie(Ie({},P),{},Dt({},k,Po(P,"".concat(k))+I.height)):P},{top:p.top||0,bottom:p.bottom||0}),w=Ie(Ie({},y),b),M=w.bottom;v&&(w.bottom+=v.props.height||Qp.defaultProps.height),x&&n&&(w=cpe(w,i,r,n));var S=u-w.left-w.right,A=f-w.top-w.bottom;return Ie(Ie({brushBottom:M},w),{},{width:Math.max(S,0),height:Math.max(A,0)})},W_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},G_e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,p=function(w,M){var S=M.graphicalItems,A=M.stackGroups,P=M.offset,O=M.updateId,I=M.dataStartIndex,k=M.dataEndIndex,L=w.barSize,F=w.layout,j=w.barGap,H=w.barCategoryGap,q=w.maxBarSize,X=A4(F),J=X.numericAxisName,Z=X.cateAxisName,ee=V_e(S),V=[];return S.forEach(function(K,Q){var G=wS(w.data,{graphicalItems:[K],dataStartIndex:I,dataEndIndex:k}),ne=K.type.defaultProps!==void 0?Ie(Ie({},K.type.defaultProps),K.props):K.props,ye=ne.dataKey,ue=ne.maxBarSize,xe=ne["".concat(J,"Id")],Re=ne["".concat(Z,"Id")],Ce={},qe=l.reduce(function($,be){var Be=M["".concat(be.axisType,"Map")],Fe=ne["".concat(be.axisType,"Id")];Be&&Be[Fe]||be.axisType==="zAxis"||xd();var Ve=Be[Fe];return Ie(Ie({},$),{},Dt(Dt({},be.axisType,Ve),"".concat(be.axisType,"Ticks"),Jf(Ve)))},Ce),Ae=qe[Z],ze=qe["".concat(Z,"Ticks")],se=A&&A[xe]&&A[xe].hasStack&&Mpe(K,A[xe].stackGroups),ae=Jl(K.type).indexOf("Bar")>=0,Me=jb(Ae,ze),Ne=[],De=ee&&lpe({barSize:L,stackGroups:A,totalSize:W_e(qe,Z)});if(ae){var ke,Ze,et=nn(ue)?q:ue,At=(ke=(Ze=jb(Ae,ze,!0))!==null&&Ze!==void 0?Ze:et)!==null&&ke!==void 0?ke:0;Ne=upe({barGap:j,barCategoryGap:H,bandSize:At!==Me?At:Me,sizeList:De[Re],maxBarSize:et}),At!==Me&&(Ne=Ne.map(function($){return Ie(Ie({},$),{},{position:Ie(Ie({},$.position),{},{offset:$.position.offset-At/2})})}))}var ie=K&&K.type&&K.type.getComposedData;ie&&V.push({props:Ie(Ie({},ie(Ie(Ie({},qe),{},{displayedData:G,props:w,dataKey:ye,item:K,bandSize:Me,barPosition:Ne,offset:P,stackedData:se,layout:F,dataStartIndex:I,dataEndIndex:k}))),{},Dt(Dt(Dt({key:K.key||"item-".concat(Q)},J,qe[J]),Z,qe[Z]),"animationId",O)),childIndex:coe(K,w.children),item:K})}),V},v=function(w,M){var S=w.props,A=w.dataStartIndex,P=w.dataEndIndex,O=w.updateId;if(!J3({props:S}))return null;var I=S.children,k=S.layout,L=S.stackOffset,F=S.data,j=S.reverseStackOrder,H=A4(k),q=H.numericAxisName,X=H.cateAxisName,J=eo(I,r),Z=bpe(F,J,"".concat(q,"Id"),"".concat(X,"Id"),L,j),ee=l.reduce(function(ne,ye){var ue="".concat(ye.axisType,"Map");return Ie(Ie({},ne),{},Dt({},ue,j_e(S,Ie(Ie({},ye),{},{graphicalItems:J,stackGroups:ye.axisType===q&&Z,dataStartIndex:A,dataEndIndex:P}))))},{}),V=H_e(Ie(Ie({},ee),{},{props:S,graphicalItems:J}),M?.legendBBox);Object.keys(ee).forEach(function(ne){ee[ne]=f(S,ee[ne],V,ne.replace("Map",""),n)});var K=ee["".concat(X,"Map")],Q=z_e(K),G=p(S,Ie(Ie({},ee),{},{dataStartIndex:A,dataEndIndex:P,updateId:O,graphicalItems:J,stackGroups:Z,offset:V}));return Ie(Ie({formattedGraphicalItems:G,graphicalItems:J,offset:V,stackGroups:Z},Q),ee)},x=(function(y){function w(M){var S,A,P;return S_e(this,w),P=T_e(this,w,[M]),Dt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Dt(P,"accessibilityManager",new u_e),Dt(P,"handleLegendBBoxUpdate",function(O){if(O){var I=P.state,k=I.dataStartIndex,L=I.dataEndIndex,F=I.updateId;P.setState(Ie({legendBBox:O},v({props:P.props,dataStartIndex:k,dataEndIndex:L,updateId:F},Ie(Ie({},P.state),{},{legendBBox:O}))))}}),Dt(P,"handleReceiveSyncEvent",function(O,I,k){if(P.props.syncId===O){if(k===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(I)}}),Dt(P,"handleBrushChange",function(O){var I=O.startIndex,k=O.endIndex;if(I!==P.state.dataStartIndex||k!==P.state.dataEndIndex){var L=P.state.updateId;P.setState(function(){return Ie({dataStartIndex:I,dataEndIndex:k},v({props:P.props,dataStartIndex:I,dataEndIndex:k,updateId:L},P.state))}),P.triggerSyncEvent({dataStartIndex:I,dataEndIndex:k})}}),Dt(P,"handleMouseEnter",function(O){var I=P.getMouseInfo(O);if(I){var k=Ie(Ie({},I),{},{isTooltipActive:!0});P.setState(k),P.triggerSyncEvent(k);var L=P.props.onMouseEnter;cn(L)&&L(k,O)}}),Dt(P,"triggeredAfterMouseMove",function(O){var I=P.getMouseInfo(O),k=I?Ie(Ie({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var L=P.props.onMouseMove;cn(L)&&L(k,O)}),Dt(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Dt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Dt(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),Dt(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var k=P.props.onMouseLeave;cn(k)&&k(I,O)}),Dt(P,"handleOuterEvent",function(O){var I=uoe(O),k=Po(P.props,"".concat(I));if(I&&cn(k)){var L,F;/.*touch.*/i.test(I)?F=P.getMouseInfo(O.changedTouches[0]):F=P.getMouseInfo(O),k((L=F)!==null&&L!==void 0?L:{},O)}}),Dt(P,"handleClick",function(O){var I=P.getMouseInfo(O);if(I){var k=Ie(Ie({},I),{},{isTooltipActive:!0});P.setState(k),P.triggerSyncEvent(k);var L=P.props.onClick;cn(L)&&L(k,O)}}),Dt(P,"handleMouseDown",function(O){var I=P.props.onMouseDown;if(cn(I)){var k=P.getMouseInfo(O);I(k,O)}}),Dt(P,"handleMouseUp",function(O){var I=P.props.onMouseUp;if(cn(I)){var k=P.getMouseInfo(O);I(k,O)}}),Dt(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Dt(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),Dt(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),Dt(P,"handleDoubleClick",function(O){var I=P.props.onDoubleClick;if(cn(I)){var k=P.getMouseInfo(O);I(k,O)}}),Dt(P,"handleContextMenu",function(O){var I=P.props.onContextMenu;if(cn(I)){var k=P.getMouseInfo(O);I(k,O)}}),Dt(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&JA.emit(eP,P.props.syncId,O,P.eventEmitterSymbol)}),Dt(P,"applySyncEvent",function(O){var I=P.props,k=I.layout,L=I.syncMethod,F=P.state.updateId,j=O.dataStartIndex,H=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(Ie({dataStartIndex:j,dataEndIndex:H},v({props:P.props,dataStartIndex:j,dataEndIndex:H,updateId:F},P.state)));else if(O.activeTooltipIndex!==void 0){var q=O.chartX,X=O.chartY,J=O.activeTooltipIndex,Z=P.state,ee=Z.offset,V=Z.tooltipTicks;if(!ee)return;if(typeof L=="function")J=L(V,O);else if(L==="value"){J=-1;for(var K=0;K<V.length;K++)if(V[K].value===O.activeLabel){J=K;break}}var Q=Ie(Ie({},ee),{},{x:ee.left,y:ee.top}),G=Math.min(q,Q.x+Q.width),ne=Math.min(X,Q.y+Q.height),ye=V[J]&&V[J].value,ue=f2(P.state,P.props.data,J),xe=V[J]?{x:k==="horizontal"?V[J].coordinate:G,y:k==="horizontal"?ne:V[J].coordinate}:Fq;P.setState(Ie(Ie({},O),{},{activeLabel:ye,activeCoordinate:xe,activePayload:ue,activeTooltipIndex:J}))}else P.setState(O)}),Dt(P,"renderCursor",function(O){var I,k=P.state,L=k.isTooltipActive,F=k.activeCoordinate,j=k.activePayload,H=k.offset,q=k.activeTooltipIndex,X=k.tooltipAxisBandSize,J=P.getTooltipEventType(),Z=(I=O.props.active)!==null&&I!==void 0?I:L,ee=P.props.layout,V=O.key||"_recharts-cursor";return fe.createElement(g_e,{key:V,activeCoordinate:F,activePayload:j,activeTooltipIndex:q,chartName:n,element:O,isActive:Z,layout:ee,offset:H,tooltipAxisBandSize:X,tooltipEventType:J})}),Dt(P,"renderPolarAxis",function(O,I,k){var L=Po(O,"type.axisType"),F=Po(P.state,"".concat(L,"Map")),j=O.type.defaultProps,H=j!==void 0?Ie(Ie({},j),O.props):O.props,q=F&&F[H["".concat(L,"Id")]];return B.cloneElement(O,Ie(Ie({},q),{},{className:bn(L,q.className),key:O.key||"".concat(I,"-").concat(k),ticks:Jf(q,!0)}))}),Dt(P,"renderPolarGrid",function(O){var I=O.props,k=I.radialLines,L=I.polarAngles,F=I.polarRadius,j=P.state,H=j.radiusAxisMap,q=j.angleAxisMap,X=op(H),J=op(q),Z=J.cx,ee=J.cy,V=J.innerRadius,K=J.outerRadius;return B.cloneElement(O,{polarAngles:Array.isArray(L)?L:Jf(J,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(F)?F:Jf(X,!0).map(function(Q){return Q.coordinate}),cx:Z,cy:ee,innerRadius:V,outerRadius:K,key:O.key||"polar-grid",radialLines:k})}),Dt(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,I=P.props,k=I.children,L=I.width,F=I.height,j=P.props.margin||{},H=L-(j.left||0)-(j.right||0),q=C$({children:k,formattedGraphicalItems:O,legendWidth:H,legendContent:u});if(!q)return null;var X=q.item,J=S4(q,v_e);return B.cloneElement(X,Ie(Ie({},J),{},{chartWidth:L,chartHeight:F,margin:j,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Dt(P,"renderTooltip",function(){var O,I=P.props,k=I.children,L=I.accessibilityLayer,F=qs(k,Ua);if(!F)return null;var j=P.state,H=j.isTooltipActive,q=j.activeCoordinate,X=j.activePayload,J=j.activeLabel,Z=j.offset,ee=(O=F.props.active)!==null&&O!==void 0?O:H;return B.cloneElement(F,{viewBox:Ie(Ie({},Z),{},{x:Z.left,y:Z.top}),active:ee,label:J,payload:ee?X:[],coordinate:q,accessibilityLayer:L})}),Dt(P,"renderBrush",function(O){var I=P.props,k=I.margin,L=I.data,F=P.state,j=F.offset,H=F.dataStartIndex,q=F.dataEndIndex,X=F.updateId;return B.cloneElement(O,{key:O.key||"_recharts-brush",onChange:kx(P.handleBrushChange,O.props.onChange),data:L,x:dt(O.props.x)?O.props.x:j.left,y:dt(O.props.y)?O.props.y:j.top+j.height+j.brushBottom-(k.bottom||0),width:dt(O.props.width)?O.props.width:j.width,startIndex:H,endIndex:q,updateId:"brush-".concat(X)})}),Dt(P,"renderReferenceElement",function(O,I,k){if(!O)return null;var L=P,F=L.clipPathId,j=P.state,H=j.xAxisMap,q=j.yAxisMap,X=j.offset,J=O.type.defaultProps||{},Z=O.props,ee=Z.xAxisId,V=ee===void 0?J.xAxisId:ee,K=Z.yAxisId,Q=K===void 0?J.yAxisId:K;return B.cloneElement(O,{key:O.key||"".concat(I,"-").concat(k),xAxis:H[V],yAxis:q[Q],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:F})}),Dt(P,"renderActivePoints",function(O){var I=O.item,k=O.activePoint,L=O.basePoint,F=O.childIndex,j=O.isRange,H=[],q=I.props.key,X=I.item.type.defaultProps!==void 0?Ie(Ie({},I.item.type.defaultProps),I.item.props):I.item.props,J=X.activeDot,Z=X.dataKey,ee=Ie(Ie({index:F,dataKey:Z,cx:k.x,cy:k.y,r:4,fill:hI(I.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},xn(J,!1)),mb(J));return H.push(w.renderActiveDot(J,ee,"".concat(q,"-activePoint-").concat(F))),L?H.push(w.renderActiveDot(J,Ie(Ie({},ee),{},{cx:L.x,cy:L.y}),"".concat(q,"-basePoint-").concat(F))):j&&H.push(null),H}),Dt(P,"renderGraphicChild",function(O,I,k){var L=P.filterFormatItem(O,I,k);if(!L)return null;var F=P.getTooltipEventType(),j=P.state,H=j.isTooltipActive,q=j.tooltipAxis,X=j.activeTooltipIndex,J=j.activeLabel,Z=P.props.children,ee=qs(Z,Ua),V=L.props,K=V.points,Q=V.isRange,G=V.baseLine,ne=L.item.type.defaultProps!==void 0?Ie(Ie({},L.item.type.defaultProps),L.item.props):L.item.props,ye=ne.activeDot,ue=ne.hide,xe=ne.activeBar,Re=ne.activeShape,Ce=!!(!ue&&H&&ee&&(ye||xe||Re)),qe={};F!=="axis"&&ee&&ee.props.trigger==="click"?qe={onClick:kx(P.handleItemMouseEnter,O.props.onClick)}:F!=="axis"&&(qe={onMouseLeave:kx(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:kx(P.handleItemMouseEnter,O.props.onMouseEnter)});var Ae=B.cloneElement(O,Ie(Ie({},L.props),qe));function ze(be){return typeof q.dataKey=="function"?q.dataKey(be.payload):null}if(Ce)if(X>=0){var se,ae;if(q.dataKey&&!q.allowDuplicatedCategory){var Me=typeof q.dataKey=="function"?ze:"payload.".concat(q.dataKey.toString());se=pb(K,Me,J),ae=Q&&G&&pb(G,Me,J)}else se=K?.[X],ae=Q&&G&&G[X];if(Re||xe){var Ne=O.props.activeIndex!==void 0?O.props.activeIndex:X;return[B.cloneElement(O,Ie(Ie(Ie({},L.props),qe),{},{activeIndex:Ne})),null,null]}if(!nn(se))return[Ae].concat(um(P.renderActivePoints({item:L,activePoint:se,basePoint:ae,childIndex:X,isRange:Q})))}else{var De,ke=(De=P.getItemByXY(P.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:Ae},Ze=ke.graphicalItem,et=Ze.item,At=et===void 0?O:et,ie=Ze.childIndex,$=Ie(Ie(Ie({},L.props),qe),{},{activeIndex:ie});return[B.cloneElement(At,$),null,null]}return Q?[Ae,null,null]:[Ae,null]}),Dt(P,"renderCustomized",function(O,I,k){return B.cloneElement(O,Ie(Ie({key:"recharts-customized-".concat(k)},P.props),P.state))}),Dt(P,"renderMap",{CartesianGrid:{handler:zx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:zx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:zx},YAxis:{handler:zx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=M.id)!==null&&S!==void 0?S:t0("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=CG(P.triggeredAfterMouseMove,(A=M.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return C_e(w,y),E_e(w,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,P=S.data,O=S.height,I=S.layout,k=qs(A,Ua);if(k){var L=k.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,j=f2(this.state,P,L,F),H=this.state.tooltipTicks[L].coordinate,q=(this.state.offset.top+O)/2,X=I==="horizontal",J=X?{x:H,y:q}:{y:H,x:q},Z=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});Z&&(J=Ie(Ie({},J),Z.props.points[L].tooltipPosition),j=Z.props.points[L].tooltipPayload);var ee={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:F,activePayload:j,activeCoordinate:J};this.setState(ee),this.renderCursor(k),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){KC([qs(S.children,Ua)],[qs(this.props.children,Ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=qs(this.props.children,Ua);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return a.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),O=Zue(P),I={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},k=P.width/A.offsetWidth||1,L=this.inRange(I.chartX,I.chartY,k);if(!L)return null;var F=this.state,j=F.xAxisMap,H=F.yAxisMap,q=this.getTooltipEventType(),X=E4(this.state,this.props.data,this.props.layout,L);if(q!=="axis"&&j&&H){var J=op(j).scale,Z=op(H).scale,ee=J&&J.invert?J.invert(I.chartX):null,V=Z&&Z.invert?Z.invert(I.chartY):null;return Ie(Ie({},I),{},{xValue:ee,yValue:V},X)}return X?Ie(Ie({},I),X):null}},{key:"inRange",value:function(S,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,I=S/P,k=A/P;if(O==="horizontal"||O==="vertical"){var L=this.state.offset,F=I>=L.left&&I<=L.left+L.width&&k>=L.top&&k<=L.top+L.height;return F?{x:I,y:k}:null}var j=this.state,H=j.angleAxisMap,q=j.radiusAxisMap;if(H&&q){var X=op(H);return Vj({x:I,y:k},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),P=qs(S,Ua),O={};P&&A==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=mb(this.props,this.handleOuterEvent);return Ie(Ie({},I),O)}},{key:"addListener",value:function(){JA.on(eP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){JA.removeListener(eP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,P){for(var O=this.state.formattedGraphicalItems,I=0,k=O.length;I<k;I++){var L=O[I];if(L.item===S||L.props.key===S.key||A===Jl(L.item.type)&&P===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,P=A.left,O=A.top,I=A.height,k=A.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:S},fe.createElement("rect",{x:P,y:O,height:I,width:k})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=w4(P,2),I=O[0],k=O[1];return Ie(Ie({},A),{},Dt({},I,k.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=w4(P,2),I=O[0],k=O[1];return Ie(Ie({},A),{},Dt({},I,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,P=A.formattedGraphicalItems,O=A.activeItem;if(P&&P.length)for(var I=0,k=P.length;I<k;I++){var L=P[I],F=L.props,j=L.item,H=j.type.defaultProps!==void 0?Ie(Ie({},j.type.defaultProps),j.props):j.props,q=Jl(j.type);if(q==="Bar"){var X=(F.data||[]).find(function(V){return pve(S,V)});if(X)return{graphicalItem:L,payload:X}}else if(q==="RadialBar"){var J=(F.data||[]).find(function(V){return Vj(S,V)});if(J)return{graphicalItem:L,payload:J}}else if(fS(L,O)||dS(L,O)||my(L,O)){var Z=rye({graphicalItem:L,activeTooltipItem:O,itemData:H.data}),ee=H.activeIndex===void 0?Z:H.activeIndex;return{graphicalItem:Ie(Ie({},L),{},{childIndex:ee}),payload:my(L,O)?H.data[Z]:L.props.data[Z]}}}return null}},{key:"render",value:function(){var S=this;if(!J3(this))return null;var A=this.props,P=A.children,O=A.className,I=A.width,k=A.height,L=A.style,F=A.compact,j=A.title,H=A.desc,q=S4(A,y_e),X=xn(q,!1);if(F)return fe.createElement(o4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(ZC,gp({},X,{width:I,height:k,title:j,desc:H}),this.renderClipPath(),tF(P,this.renderMap)));if(this.props.accessibilityLayer){var J,Z;X.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,X.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",X.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},X.onFocus=function(){S.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return fe.createElement(o4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",gp({className:bn("recharts-wrapper",O),style:Ie({position:"relative",cursor:"default",width:I,height:k},L)},ee,{ref:function(K){S.container=K}}),fe.createElement(ZC,gp({},X,{width:I,height:k,title:j,desc:H,style:D_e}),this.renderClipPath(),tF(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);Dt(x,"displayName",n),Dt(x,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Dt(x,"getDerivedStateFromProps",function(y,w){var M=y.dataKey,S=y.data,A=y.children,P=y.width,O=y.height,I=y.layout,k=y.stackOffset,L=y.margin,F=w.dataStartIndex,j=w.dataEndIndex;if(w.updateId===void 0){var H=T4(y);return Ie(Ie(Ie({},H),{},{updateId:0},v(Ie(Ie({props:y},H),{},{updateId:0}),w)),{},{prevDataKey:M,prevData:S,prevWidth:P,prevHeight:O,prevLayout:I,prevStackOffset:k,prevMargin:L,prevChildren:A})}if(M!==w.prevDataKey||S!==w.prevData||P!==w.prevWidth||O!==w.prevHeight||I!==w.prevLayout||k!==w.prevStackOffset||!Ap(L,w.prevMargin)){var q=T4(y),X={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},J=Ie(Ie({},E4(w,S,I)),{},{updateId:w.updateId+1}),Z=Ie(Ie(Ie({},q),X),J);return Ie(Ie(Ie({},Z),v(Ie({props:y},Z),w)),{},{prevDataKey:M,prevData:S,prevWidth:P,prevHeight:O,prevLayout:I,prevStackOffset:k,prevMargin:L,prevChildren:A})}if(!KC(A,w.prevChildren)){var ee,V,K,Q,G=qs(A,Qp),ne=G&&(ee=(V=G.props)===null||V===void 0?void 0:V.startIndex)!==null&&ee!==void 0?ee:F,ye=G&&(K=(Q=G.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&K!==void 0?K:j,ue=ne!==F||ye!==j,xe=!nn(S),Re=xe&&!ue?w.updateId:w.updateId+1;return Ie(Ie({updateId:Re},v(Ie(Ie({props:y},w),{},{updateId:Re,dataStartIndex:ne,dataEndIndex:ye}),w)),{},{prevChildren:A,dataStartIndex:ne,dataEndIndex:ye})}return null}),Dt(x,"renderActiveDot",function(y,w,M){var S;return B.isValidElement(y)?S=B.cloneElement(y,w):cn(y)?S=y(w):S=fe.createElement(G$,w),fe.createElement(hr,{className:"recharts-active-dot",key:M},S)});var b=B.forwardRef(function(w,M){return fe.createElement(x,gp({},w,{ref:M}))});return b.displayName=x.displayName,b},$_e=G_e({chartName:"ScatterChart",GraphicalChild:c0,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:_S},{axisType:"yAxis",AxisComp:bS},{axisType:"zAxis",AxisComp:u0}],formatAxisMap:e0e});function q_e({mainProduct:t,alternatives:e}){const{theme:n}=uee(),r=B.useMemo(()=>[t,...e].map(f=>({name:f.name,price:f.price,score:f.upgradeScore||50,isMain:f.id===t.id,isHighlight:f.isHighMargin,isTopPick:f.isTopPick,brand:f.brand,margin:f.isHighMargin?"Populr":"Standard"})),[t,e]),i=Math.min(...r.map(u=>u.price))*.9,s=Math.max(...r.map(u=>u.price))*1.1,o=Math.min(...r.map(u=>u.score))*.8,a=Math.max(...r.map(u=>u.score))*1.1,l=({active:u,payload:f})=>{if(u&&f&&f.length){const d=f[0].payload;return C.jsxs("div",{className:"glass-strong p-3 border border-white/10 rounded-xl shadow-xl text-xs",children:[C.jsxs("p",{className:"font-bold mb-1 text-foreground",children:[d.name.substring(0,30),"..."]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("div",{className:"flex justify-between gap-4",children:[C.jsx("span",{className:"text-muted-foreground",children:"Pris:"}),C.jsx("span",{className:"font-mono font-medium text-primary",children:ma(d.price)})]}),C.jsxs("div",{className:"flex justify-between gap-4",children:[C.jsx("span",{className:"text-muted-foreground",children:"Score:"}),C.jsx("span",{className:"font-mono font-medium text-green-400",children:Math.round(d.score)})]}),C.jsxs("div",{className:"flex justify-between gap-4",children:[C.jsx("span",{className:"text-muted-foreground",children:"Type:"}),C.jsx("span",{className:`font-medium ${d.isHighlight?"text-orange-400":"text-slate-400"}`,children:d.margin})]})]})]})}return null};return C.jsxs(ou,{className:"glass border-white/5 overflow-hidden animate-fade-in delay-300",children:[C.jsx(kp,{className:"pb-2 border-b border-white/5",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs(kO,{className:"text-sm font-semibold flex items-center gap-2",children:[C.jsx(Mw,{className:"h-4 w-4 text-primary"}),"Vrdi Analyse (Pris vs. Ydelse)"]}),C.jsxs(Eo,{variant:"outline",className:"text-[10px] gap-1 bg-white/5",children:[C.jsx(BZ,{className:"h-3 w-3"}),'Find "Sweet Spot"']})]})}),C.jsxs(wc,{className:"p-0 h-[250px] relative",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background/50 pointer-events-none"}),C.jsx(Wue,{width:"100%",height:"100%",children:C.jsxs($_e,{margin:{top:20,right:30,bottom:20,left:0},children:[C.jsx(_S,{type:"number",dataKey:"price",name:"Pris",unit:" kr",domain:[i,s],tickFormatter:u=>`${u/1e3}k`,stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1}),C.jsx(bS,{type:"number",dataKey:"score",name:"Score",domain:[o,a],stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1,tick:!1,label:{value:"Ydelse ",angle:-90,position:"insideLeft",fill:"hsl(var(--muted-foreground))",fontSize:10}}),C.jsx(u0,{type:"number",range:[60,400]}),C.jsx(Ua,{content:C.jsx(l,{}),cursor:{strokeDasharray:"3 3"}}),C.jsx(pS,{x:t.price,stroke:"hsl(var(--muted-foreground)/0.2)",strokeDasharray:"3 3"}),C.jsx(c0,{name:"Products",data:r,children:r.map((u,f)=>{let d="hsl(var(--muted))",p="transparent";return u.isMain?d="hsl(var(--foreground))":u.isTopPick?(d="hsl(var(--primary))",p="hsl(var(--primary)/0.5)"):u.isHighlight&&(d="hsl(var(--chart-2))"),C.jsx(Jw,{fill:d,stroke:p,strokeWidth:u.isTopPick?4:0,className:"transition-all duration-300 hover:opacity-80 cursor-pointer"},`cell-${f}`)})})]})}),C.jsxs("div",{className:"absolute bottom-2 right-4 flex gap-3 text-[9px] text-muted-foreground bg-background/80 backdrop-blur px-2 py-1 rounded-full border border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground"}),C.jsx("span",{children:"Valg"})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),C.jsx("span",{children:"Anbefalet"})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--chart-2))]"}),C.jsx("span",{children:"Populr"})]})]})]})]})}var nP="rovingFocusGroup.onEntryFocus",X_e={bubbles:!1,cancelable:!0},SS="RovingFocusGroup",[d2,Bq,K_e]=pH(SS),[Y_e,jq]=Td(SS,[K_e]),[Z_e,Q_e]=Y_e(SS),zq=B.forwardRef((t,e)=>C.jsx(d2.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(d2.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(J_e,{...t,ref:e})})}));zq.displayName=SS;var J_e=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=t,p=B.useRef(null),v=ci(e,p),x=vN(s),[b=null,y]=_w({prop:o,defaultProp:a,onChange:l}),[w,M]=B.useState(!1),S=li(u),A=Bq(n),P=B.useRef(!1),[O,I]=B.useState(0);return B.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(nP,S),()=>k.removeEventListener(nP,S)},[S]),C.jsx(Z_e,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:B.useCallback(k=>y(k),[y]),onItemShiftTab:B.useCallback(()=>M(!0),[]),onFocusableItemAdd:B.useCallback(()=>I(k=>k+1),[]),onFocusableItemRemove:B.useCallback(()=>I(k=>k-1),[]),children:C.jsx(nr.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...d,ref:v,style:{outline:"none",...t.style},onMouseDown:dn(t.onMouseDown,()=>{P.current=!0}),onFocus:dn(t.onFocus,k=>{const L=!P.current;if(k.target===k.currentTarget&&L&&!w){const F=new CustomEvent(nP,X_e);if(k.currentTarget.dispatchEvent(F),!F.defaultPrevented){const j=A().filter(Z=>Z.focusable),H=j.find(Z=>Z.active),q=j.find(Z=>Z.id===b),J=[H,q,...j].filter(Boolean).map(Z=>Z.ref.current);Wq(J,f)}}P.current=!1}),onBlur:dn(t.onBlur,()=>M(!1))})})}),Vq="RovingFocusGroupItem",Hq=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=EO(),l=s||a,u=Q_e(Vq,n),f=u.currentTabStopId===l,d=Bq(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return B.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),C.jsx(d2.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:C.jsx(nr.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:dn(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:dn(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:dn(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=nbe(x,u.orientation,u.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=d().filter(M=>M.focusable).map(M=>M.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const M=w.indexOf(x.currentTarget);w=u.loop?rbe(w,M+1):w.slice(M+1)}setTimeout(()=>Wq(w))}})})})});Hq.displayName=Vq;var ebe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tbe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nbe(t,e,n){const r=tbe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ebe[r]}function Wq(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ibe=zq,sbe=Hq,yI="Tabs",[obe]=Td(yI,[jq]),Gq=jq(),[abe,xI]=obe(yI),$q=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,f=vN(a),[d,p]=_w({prop:r,onChange:i,defaultProp:s});return C.jsx(abe,{scope:n,baseId:EO(),value:d,onValueChange:p,orientation:o,dir:f,activationMode:l,children:C.jsx(nr.div,{dir:f,"data-orientation":o,...u,ref:e})})});$q.displayName=yI;var qq="TabsList",Xq=B.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=xI(qq,n),o=Gq(n);return C.jsx(ibe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:C.jsx(nr.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Xq.displayName=qq;var Kq="TabsTrigger",Yq=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=xI(Kq,n),a=Gq(n),l=Jq(o.baseId,r),u=e9(o.baseId,r),f=r===o.value;return C.jsx(sbe,{asChild:!0,...a,focusable:!i,active:f,children:C.jsx(nr.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:dn(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:dn(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:dn(t.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!i&&d&&o.onValueChange(r)})})})});Yq.displayName=Kq;var Zq="TabsContent",Qq=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=xI(Zq,n),l=Jq(a.baseId,r),u=e9(a.baseId,r),f=r===a.value,d=B.useRef(f);return B.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),C.jsx(Ac,{present:i||f,children:({present:p})=>C.jsx(nr.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&s})})});Qq.displayName=Zq;function Jq(t,e){return`${t}-trigger-${e}`}function e9(t,e){return`${t}-content-${e}`}var lbe=$q,t9=Xq,n9=Yq,r9=Qq;const ube=lbe,i9=B.forwardRef(({className:t,...e},n)=>C.jsx(t9,{ref:n,className:_n("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));i9.displayName=t9.displayName;const h2=B.forwardRef(({className:t,...e},n)=>C.jsx(n9,{ref:n,className:_n("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));h2.displayName=n9.displayName;const p2=B.forwardRef(({className:t,...e},n)=>C.jsx(r9,{ref:n,className:_n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));p2.displayName=r9.displayName;var rP,P4;function cbe(){if(P4)return rP;P4=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,u;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),a=u.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(t&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&s.$$typeof)&&!i(s[u[l]],o[u[l]]))return!1;return!0}return s!==s&&o!==o}return rP=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},rP}var fbe=cbe();const dbe=Tn(fbe);var iP,C4;function hbe(){if(C4)return iP;C4=1;var t=function(e,n,r,i,s,o,a,l){if(!e){var u;if(n===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,s,o,a,l],d=0;u=new Error(n.replace(/%s/g,function(){return f[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return iP=t,iP}var pbe=hbe();const R4=Tn(pbe);var sP,O4;function mbe(){return O4||(O4=1,sP=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var f=o[u];if(!l(f))return!1;var d=e[f],p=n[f];if(s=r?r.call(i,d,p,f):void 0,s===!1||s===void 0&&d!==p)return!1}return!0}),sP}var gbe=mbe();const vbe=Tn(gbe);var s9=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(s9||{}),oP={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},N4=Object.values(s9),_I={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ybe=Object.entries(_I).reduce((t,[e,n])=>(t[n]=e,t),{}),pa="data-rh",Op={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Np=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},xbe=t=>{let e=Np(t,"title");const n=Np(t,Op.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Np(t,Op.DEFAULT_TITLE);return e||r||void 0},_be=t=>Np(t,Op.ON_CHANGE_CLIENT_STATE)||(()=>{}),aP=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),bbe=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),wbe=t=>console&&typeof console.warn=="function"&&console.warn(t),Vg=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&wbe(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let u;const f=Object.keys(l);for(let p=0;p<f.length;p+=1){const v=f[p],x=v.toLowerCase();e.indexOf(x)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(x==="rel"&&l[x].toLowerCase()==="stylesheet")&&(u=x),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(u=v)}if(!u||!l[u])return!1;const d=l[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][d]?!1:(o[u][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const u=a[l],f={...r[u],...o[u]};r[u]=f}return i},[]).reverse()},Sbe=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},Mbe=t=>({baseTag:bbe(["href"],t),bodyAttributes:aP("bodyAttributes",t),defer:Np(t,Op.DEFER),encode:Np(t,Op.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:aP("htmlAttributes",t),linkTags:Vg("link",["rel","href"],t),metaTags:Vg("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Vg("noscript",["innerHTML"],t),onChangeClientState:_be(t),scriptTags:Vg("script",["src","innerHTML"],t),styleTags:Vg("style",["cssText"],t),title:xbe(t),titleAttributes:aP("titleAttributes",t),prioritizeSeoTags:Sbe(t,Op.PRIORITIZE_SEO_TAGS)}),o9=t=>Array.isArray(t)?t.join(""):t,Ebe=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},lP=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Ebe(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},I4=(t,e)=>({...t,[e]:void 0}),Tbe=["noscript","script","style"],m2=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),a9=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Abe=(t,e,n,r)=>{const i=a9(n),s=o9(e);return i?`<${t} ${pa}="true" ${i}>${m2(s,r)}</${t}>`:`<${t} ${pa}="true">${m2(s,r)}</${t}>`},Pbe=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,f)=>{const d=typeof s[f]>"u"?f:`${f}="${m2(s[f],n)}"`;return u?`${u} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=Tbe.indexOf(t)===-1;return`${r}<${t} ${pa}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),l9=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=_I[r];return n[i||r]=t[r],n},e),Cbe=(t,e,n)=>{const r={key:e,[pa]:!0},i=l9(n,r);return[fe.createElement("title",i,e)]},H_=(t,e)=>e.map((n,r)=>{const i={key:r,[pa]:!0};return Object.keys(n).forEach(s=>{const a=_I[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),fe.createElement(t,i)}),wo=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Cbe(t,e.title,e.titleAttributes),toString:()=>Abe(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>l9(e),toString:()=>a9(e)};default:return{toComponent:()=>H_(t,e),toString:()=>Pbe(t,e,n)}}},Rbe=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=lP(t,oP.meta),s=lP(e,oP.link),o=lP(n,oP.script);return{priorityMethods:{toComponent:()=>[...H_("meta",i.priority),...H_("link",s.priority),...H_("script",o.priority)],toString:()=>`${wo("meta",i.priority,r)} ${wo("link",s.priority,r)} ${wo("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Obe=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:f,metaTags:d,scriptTags:p}=t,v={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:v,linkTags:f,metaTags:d,scriptTags:p}=Rbe(t)),{priority:v,base:wo("base",e,r),bodyAttributes:wo("bodyAttributes",n,r),htmlAttributes:wo("htmlAttributes",i,r),link:wo("link",f,r),meta:wo("meta",d,r),noscript:wo("noscript",s,r),script:wo("script",p,r),style:wo("style",o,r),title:wo("title",{title:a,titleAttributes:l},r)}},g2=Obe,Vx=[],u9=!!(typeof window<"u"&&window.document&&window.document.createElement),v2=class{instances=[];canUseDOM=u9;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Vx:this.instances,add:t=>{(this.canUseDOM?Vx:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Vx:this.instances).indexOf(t);(this.canUseDOM?Vx:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=g2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Nbe={},c9=fe.createContext(Nbe),f9=class d9 extends B.Component{static canUseDOM=u9;helmetData;constructor(e){super(e),this.helmetData=new v2(this.props.context||{},d9.canUseDOM)}render(){return fe.createElement(c9.Provider,{value:this.helmetData.value},this.props.children)}},Dh=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${pa}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const f=u,d=typeof a[f]>"u"?"":a[f];l.setAttribute(u,d)}l.setAttribute(pa,"true"),i.some((u,f)=>(o=f,l.isEqualNode(u)))?i.splice(o,1):s.push(l)}),i.forEach(a=>a.parentNode?.removeChild(a)),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},y2=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(pa),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const u=s.indexOf(a);u!==-1&&s.splice(u,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(pa):n.getAttribute(pa)!==o.join(",")&&n.setAttribute(pa,o.join(","))},Ibe=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=o9(t)),y2("title",e)},L4=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:f,title:d,titleAttributes:p}=t;y2("body",r),y2("html",i),Ibe(d,p);const v={baseTag:Dh("base",n),linkTags:Dh("link",s),metaTags:Dh("meta",o),noscriptTags:Dh("noscript",a),scriptTags:Dh("script",u),styleTags:Dh("style",f)},x={},b={};Object.keys(v).forEach(y=>{const{newTags:w,oldTags:M}=v[y];w.length&&(x[y]=w),M.length&&(b[y]=v[y].oldTags)}),e&&e(),l(t,x,b)},Hg=null,Lbe=t=>{Hg&&cancelAnimationFrame(Hg),t.defer?Hg=requestAnimationFrame(()=>{L4(t,()=>{Hg=null})}):(L4(t),Hg=null)},Dbe=Lbe,D4=class extends B.Component{rendered=!1;shouldComponentUpdate(t){return!vbe(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const r=Mbe(t.get().map(i=>{const s={...i.props};return delete s.context,s}));f9.canUseDOM?Dbe(r):g2&&(n=g2(r)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ev=class extends B.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!dbe(I4(this.props,"helmetData"),I4(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return R4(N4.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${N4.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),R4(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return fe.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,u)=>(l[ybe[u]||u]=s[u],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof v2)){const i=r;r=new v2(i.context,!0),delete n.helmetData}return r?fe.createElement(D4,{...n,context:r.value}):fe.createElement(c9.Consumer,null,i=>fe.createElement(D4,{...n,context:i}))}};const kbe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},uP={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},Fbe={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}};function Ube(){const[t,e]=B.useState(""),[n,r]=B.useState(!1),[i,s]=B.useState(!1),[o,a]=B.useState(!1),{toast:l}=fH(),u=PY({mutationFn:async()=>{let k=0,L=0,F=!0;for(;F;){const j=await fetch(`/api/sync?from=${L}`,{method:"POST"});if(!j.ok)throw new Error("Sync failed during batch processing");const H=await j.json();if(!H.success)throw new Error(H.error||"Sync failed");k+=H.syncedCount,F=H.hasMore,L=H.nextFrom||0,H.message,F&&await new Promise(q=>setTimeout(q,500))}return{success:!0,totalSynced:k,totalInDatabase:k,message:`Frdig! ${k} produkter synkroniseret.`}},onSuccess:k=>{xC.invalidateQueries({queryKey:["/api/db/status"]}),xC.invalidateQueries({queryKey:["/api/search"]}),l({title:"Synkronisering fuldfrt",description:k.message})},onError:k=>{l({title:"Synkronisering fejlede",description:k instanceof Error?k.message:"Kunne ikke synkronisere",variant:"destructive"})}}),{data:f}=Nv({queryKey:["/api/db/status"],staleTime:6e4}),{data:d,isLoading:p,error:v}=Nv({queryKey:["/api/search",t,f?.hasProducts],queryFn:async()=>{const k=f?.hasProducts?"true":"false",L=await fetch(`/api/search?q=${encodeURIComponent(t)}&db=${k}`);if(!L.ok)throw new Error(`${L.status}: ${await L.text()}`);return L.json()},enabled:n&&t.length>0}),x=k=>{e(k),r(!0)},b=()=>{u.mutate()},y=async()=>{if(d?.products){s(!0);try{const k=await fetch("/api/export/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:d.products,searchQuery:t})});if(!k.ok)throw new Error("Fejl ved PDF-eksport");const L=await k.blob(),F=window.URL.createObjectURL(L),j=document.createElement("a");j.href=F,j.download=`power-produkter-${Date.now()}.pdf`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(F),document.body.removeChild(j),l({title:"PDF eksporteret",description:`${d.products.length} produkter`})}catch{l({title:"Eksport fejlede",variant:"destructive"})}finally{s(!1)}}},w=async()=>{if(d?.products){a(!0);try{const k=await fetch("/api/export/excel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:d.products,searchQuery:t})});if(!k.ok)throw new Error("Fejl ved Excel-eksport");const L=await k.blob(),F=window.URL.createObjectURL(L),j=document.createElement("a");j.href=F,j.download=`power-produkter-${Date.now()}.xlsx`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(F),document.body.removeChild(j),l({title:"Excel eksporteret",description:`${d.products.length} produkter`})}catch{l({title:"Eksport fejlede",variant:"destructive"})}finally{a(!1)}}},[M,S]=B.useState(null),A=d?.products?.[0],P=d?.products?.slice(1)||[],O=P.find(k=>k.isTopPick)||P[0],I=M?P.find(k=>k.id===M):O;return C.jsxs(or.div,{...Fbe,className:"min-h-screen bg-background relative overflow-hidden font-sans",children:[C.jsxs(Ev,{children:[C.jsx("title",{children:"Dashboard | Power Margin Pro"}),C.jsx("meta",{name:"description",content:"Sg efter produkter, se fortjeneste og find bedre alternativer."})]}),C.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-950/20 via-background to-amber-950/15"}),C.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-orange-500/5 rounded-full blur-3xl animate-pulse"}),C.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-amber-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),C.jsx(zie,{data:d,isLoading:p,pdfLoading:i,excelLoading:o,isSyncing:u.isPending,onSearch:x,onSync:b,onExportPdf:y,onExportExcel:w}),C.jsxs("main",{className:"container mx-auto px-6 py-8 relative z-10",children:[C.jsx("div",{className:"mb-8",children:C.jsx(Vie,{})}),!n&&C.jsx(tM,{type:"initial"}),n&&p&&C.jsx(qie,{}),n&&v&&C.jsx(tM,{type:"error",message:v instanceof Error?v.message:"Der opstod en fejl."}),n&&!p&&!v&&d&&d.products.length===0&&C.jsx(tM,{type:"no-results",message:`Ingen produkter fundet for "${t}".`}),n&&!p&&!v&&d&&d.products.length>0&&C.jsxs(or.div,{variants:kbe,initial:"hidden",animate:"visible",className:"space-y-8",children:[C.jsx(or.div,{variants:uP,children:A&&I&&C.jsx(Gie,{mainProduct:A,topPick:I})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx(or.div,{variants:uP,className:"lg:col-span-1",children:C.jsxs("div",{className:"sticky top-[280px] space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-white/5",children:[C.jsx("span",{className:"w-6 h-px bg-gradient-to-r from-primary to-transparent"}),C.jsx("h2",{className:"text-[10px] font-bold text-primary uppercase tracking-[0.2em]",children:"Kundens Valg"})]}),A&&C.jsx(Xie,{product:A,variant:"main"})]}),A&&P.length>0&&C.jsx(q_e,{mainProduct:A,alternatives:P})]})}),C.jsx(or.div,{variants:uP,className:"lg:col-span-2",children:C.jsxs(ube,{defaultValue:"alternatives",className:"h-full flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4 pb-2 border-b border-white/5",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"w-6 h-px bg-gradient-to-r from-primary to-transparent"}),C.jsx("h2",{className:"text-[10px] font-bold text-primary uppercase tracking-[0.2em]",children:"Alternativer"})]}),C.jsxs(i9,{className:"h-7 bg-white/5 border border-white/10",children:[C.jsx(h2,{value:"alternatives",className:"text-[10px] px-3 h-5 data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Liste"}),C.jsx(h2,{value:"specs",className:"text-[10px] px-3 h-5 data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:"Specs"})]})]}),C.jsxs(Eo,{variant:"outline",className:"text-[10px] gap-1.5 px-2.5 py-0.5 border-white/10 bg-white/5 backdrop-blur-sm",children:[C.jsx(Os,{className:"h-3 w-3 text-amber-400"}),P.length," fundet"]})]}),C.jsx(p2,{value:"alternatives",className:"h-full mt-0",children:C.jsx(cse,{alternatives:P,referencePrice:A?.price||0,selectedId:I?.id,onSelect:k=>S(k)})}),C.jsx(p2,{value:"specs",className:"h-full mt-0",children:C.jsx("div",{className:"h-40 glass flex items-center justify-center text-muted-foreground text-sm",children:"Detaljeret specifikationsvisning kommer snart"})})]})})]})]})]}),C.jsx("footer",{className:"border-t border-white/5 mt-auto glass-strong py-6",children:C.jsx("div",{className:"container mx-auto px-6",children:C.jsx("p",{className:"text-[10px] text-center text-muted-foreground/40 tracking-widest uppercase font-medium",children:"Power Salgsassistent Pro v2.0  Din hjlp i hverdagen"})})})]})}function Bbe({ids:t}){const{data:e,isLoading:n}=Nv({queryKey:["ai-compare",t.join(",")],queryFn:async()=>{const r=await fetch("/api/ai-compare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:t})});if(!r.ok)throw new Error("Could not fetch AI summary");return r.json()},enabled:t.length>1,staleTime:1/0});return n?C.jsxs("div",{className:"bg-card/30 border border-border/50 rounded-lg p-6 mb-8 glass-card",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx(Os,{className:"h-5 w-5 text-indigo-400 animate-pulse"}),C.jsx("h3",{className:"text-lg font-semibold text-white",children:"Henter Power.dk's sammenligning..."})]}),C.jsx("div",{className:"h-20 flex items-center justify-center",children:C.jsx(Mp,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):e?.summary?C.jsxs("div",{className:"bg-card/30 border border-indigo-500/30 rounded-lg p-6 mb-8 glass-card animate-fade-in relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none -mr-32 -mt-32"}),C.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[C.jsx("div",{className:"bg-indigo-500/20 p-2 rounded-lg",children:C.jsx(Os,{className:"h-5 w-5 text-indigo-400"})}),C.jsx("h3",{className:"text-lg font-semibold text-white",children:"Power.dk's Vurdering"})]}),C.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-slate-300 [&>h3]:text-indigo-300 [&>h3]:text-base [&>h3]:mt-4 [&>h3]:mb-2 [&>ul]:pl-5 [&>ul]:list-disc [&>ul>li]:mb-1 [&>p]:leading-relaxed",dangerouslySetInnerHTML:{__html:e.summary}})]}):null}const h9=B.forwardRef(({className:t,...e},n)=>C.jsx("div",{className:"relative w-full overflow-auto",children:C.jsx("table",{ref:n,className:_n("w-full caption-bottom text-sm",t),...e})}));h9.displayName="Table";const p9=B.forwardRef(({className:t,...e},n)=>C.jsx("thead",{ref:n,className:_n("[&_tr]:border-b",t),...e}));p9.displayName="TableHeader";const m9=B.forwardRef(({className:t,...e},n)=>C.jsx("tbody",{ref:n,className:_n("[&_tr:last-child]:border-0",t),...e}));m9.displayName="TableBody";const jbe=B.forwardRef(({className:t,...e},n)=>C.jsx("tfoot",{ref:n,className:_n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));jbe.displayName="TableFooter";const fv=B.forwardRef(({className:t,...e},n)=>C.jsx("tr",{ref:n,className:_n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));fv.displayName="TableRow";const x2=B.forwardRef(({className:t,...e},n)=>C.jsx("th",{ref:n,className:_n("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));x2.displayName="TableHead";const Gf=B.forwardRef(({className:t,...e},n)=>C.jsx("td",{ref:n,className:_n("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gf.displayName="TableCell";const zbe=B.forwardRef(({className:t,...e},n)=>C.jsx("caption",{ref:n,className:_n("mt-4 text-sm text-muted-foreground",t),...e}));zbe.displayName="TableCaption";const cP={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2}};function Vbe(){const[t,e]=KV(),n=new URLSearchParams(window.location.search);let r=[];n.has("ids")?r=n.get("ids")?.split(",").filter(Boolean)||[]:r=n.getAll("id").filter(Boolean);const i=r.join(","),{data:s,isLoading:o,error:a}=Nv({queryKey:["compare",i],queryFn:async()=>{if(!i)return{products:[]};const f=await fetch(`/api/compare?ids=${i}`);if(!f.ok)throw new Error("Failed to fetch comparison data");return f.json()},enabled:r.length>0});if(!i||r.length===0)return C.jsxs(or.div,{...cP,className:"min-h-screen p-8 flex flex-col items-center justify-center text-center",children:[C.jsx(Ev,{children:C.jsx("title",{children:"Sammenligning | Power Margin Pro"})}),C.jsx("h1",{className:"text-2xl font-bold mb-4 gradient-text",children:"Ingen produkter valgt til sammenligning"}),C.jsx(cs,{onClick:()=>e("/"),children:"G tilbage til Dashboard"})]});if(o)return C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsx(Mp,{className:"h-12 w-12 animate-spin text-primary"})});if(a||!s)return C.jsxs(or.div,{...cP,className:"min-h-screen p-8 flex flex-col items-center justify-center text-center",children:[C.jsx(Ev,{children:C.jsx("title",{children:"Fejl | Power Margin Pro"})}),C.jsx(KH,{className:"h-12 w-12 text-destructive mb-4"}),C.jsx("h1",{className:"text-xl font-bold mb-4 text-destructive",children:"Fejl ved indlsning af sammenligning"}),C.jsx(cs,{onClick:()=>e("/"),children:"G tilbage"})]});const l=s.products,u=[{label:"Pris",render:f=>C.jsxs("span",{className:"font-bold text-lg",children:[(f.price||0).toLocaleString("da-DK")," kr"]})},{label:"Mrke",render:f=>f.brand},{label:"CPU",render:f=>f.specs?.cpu||"-"},{label:"RAM",render:f=>f.specs?.ram||"-"},{label:"Lagerplads",render:f=>f.specs?.storage||"-"},{label:"Skrm",render:f=>`${f.specs?.screenSize||""} ${f.specs?.screenType||""} ${f.specs?.screenResolution||""}`},{label:"Grafikkort",render:f=>f.specs?.gpu||"-"},{label:"Anbefalet",render:f=>f.isHighMargin?C.jsx(_O,{className:"text-green-500 inline h-5 w-5"}):C.jsx(SO,{className:"text-muted-foreground inline h-5 w-5"})},{label:"Begrundelse",render:f=>f.marginReason||"-"}];return C.jsxs(or.div,{...cP,className:"min-h-screen p-4 md:p-8 space-y-8 bg-background/50 backdrop-blur-sm",children:[C.jsxs(Ev,{children:[C.jsx("title",{children:"Sammenligning | Power Margin Pro"}),C.jsx("meta",{name:"description",content:"Sammenlign produkter side om side og find den bedste lsning for kunden."})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs(cs,{variant:"ghost",onClick:()=>e("/"),className:"gap-2",children:[C.jsx(CZ,{className:"h-4 w-4"})," Tilbage"]}),C.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Produktsammenligning"}),C.jsx("div",{className:"w-[100px]"})," "]}),C.jsx(Bbe,{ids:r}),C.jsx("div",{className:"overflow-x-auto rounded-lg border border-border/50 bg-card/30 glass-card",children:C.jsxs(h9,{children:[C.jsx(p9,{children:C.jsxs(fv,{children:[C.jsx(x2,{className:"w-[150px] bg-muted/50",children:"Specifikation"}),l.map(f=>C.jsx(x2,{className:"min-w-[250px] text-center bg-muted/30",children:C.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[f.imageUrl?C.jsx("div",{className:"w-32 h-32 relative bg-white rounded-lg p-2 flex items-center justify-center",children:C.jsx("img",{src:f.imageUrl,alt:f.name,className:"max-w-full max-h-full object-contain mix-blend-multiply"})}):C.jsx("div",{className:"w-32 h-32 bg-muted rounded-lg flex items-center justify-center text-muted-foreground",children:"No Image"}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("div",{className:"font-bold text-lg leading-tight line-clamp-2 h-[3rem] px-2",title:f.name,children:f.name}),C.jsx("div",{className:"text-sm text-muted-foreground",children:f.sku||"Ingen SKU"})]})]})},f.id))]})}),C.jsxs(m9,{children:[u.map((f,d)=>C.jsxs(fv,{className:d%2===0?"bg-muted/10":"bg-transparent",children:[C.jsx(Gf,{className:"font-medium bg-muted/30",children:f.label}),l.map(p=>C.jsx(Gf,{className:"text-center",children:f.render(p)},p.id))]},d)),C.jsxs(fv,{children:[C.jsx(Gf,{className:"font-medium bg-muted/30 align-top pt-4",children:"Funktioner"}),l.map(f=>C.jsx(Gf,{className:"align-top",children:C.jsx("ul",{className:"text-sm space-y-1 text-muted-foreground",children:f.specs?.features?.map((d,p)=>C.jsxs("li",{children:[" ",d]},p))||"-"})},f.id))]}),C.jsxs(fv,{children:[C.jsx(Gf,{className:"font-medium bg-muted/30",children:"Link"}),l.map(f=>C.jsx(Gf,{className:"text-center",children:C.jsx("a",{href:f.productUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"Se p Power.dk"})},f.id))]})]})]})})]})}const f0="165",Hbe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wbe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},g9=0,_2=1,v9=2,Gbe=3,y9=0,MS=1,Tv=2,la=3,du=0,ds=1,ja=2,tu=0,ld=1,b2=2,w2=3,S2=4,x9=5,pc=100,_9=101,b9=102,w9=103,S9=104,M9=200,E9=201,T9=202,A9=203,cw=204,fw=205,P9=206,C9=207,R9=208,O9=209,N9=210,I9=211,L9=212,D9=213,k9=214,F9=0,U9=1,B9=2,wy=3,j9=4,z9=5,V9=6,H9=7,d0=0,W9=1,G9=2,Ka=0,$9=1,q9=2,X9=3,bI=4,K9=5,Y9=6,Z9=7,M2="attached",Q9="detached",ES=300,hu=301,Ec=302,Sy=303,My=304,Am=306,Ey=1e3,Ao=1001,Ty=1002,ui=1003,wI=1004,$be=1004,vp=1005,qbe=1005,Fr=1006,Av=1007,Xbe=1007,Va=1008,Kbe=1008,Ja=1009,J9=1010,e7=1011,Ay=1012,SI=1013,bd=1014,Zs=1015,h0=1016,MI=1017,EI=1018,wd=1020,t7=35902,n7=1021,r7=1022,us=1023,i7=1024,s7=1025,ud=1026,Sd=1027,TI=1028,AI=1029,o7=1030,PI=1031,CI=1033,W_=33776,G_=33777,$_=33778,q_=33779,E2=35840,T2=35841,A2=35842,P2=35843,C2=36196,R2=37492,O2=37496,N2=37808,I2=37809,L2=37810,D2=37811,k2=37812,F2=37813,U2=37814,B2=37815,j2=37816,z2=37817,V2=37818,H2=37819,W2=37820,G2=37821,X_=36492,$2=36494,q2=36495,a7=36283,X2=36284,K2=36285,Y2=36286,l7=2200,u7=2201,c7=2202,Py=2300,dw=2301,K_=2302,ed=2400,td=2401,Cy=2402,TS=2500,RI=2501,Ybe=0,Zbe=1,Qbe=2,f7=3200,d7=3201,Lc=0,h7=1,$l="",Mo="srgb",yu="srgb-linear",AS="display-p3",p0="display-p3-linear",Ry="linear",Xn="srgb",Oy="rec709",Ny="p3",Jbe=0,$f=7680,ewe=7681,twe=7682,nwe=7683,rwe=34055,iwe=34056,swe=5386,owe=512,awe=513,lwe=514,uwe=515,cwe=516,fwe=517,dwe=518,Z2=519,p7=512,m7=513,g7=514,OI=515,v7=516,y7=517,x7=518,_7=519,Iy=35044,cd=35048,hwe=35040,pwe=35045,mwe=35049,gwe=35041,vwe=35046,ywe=35050,xwe=35042,_we="100",Q2="300 es",Ha=2e3,Ly=2001;class xu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Fi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let k4=1234567;const fd=Math.PI/180,cm=180/Math.PI;function to(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Fi[t&255]+Fi[t>>8&255]+Fi[t>>16&255]+Fi[t>>24&255]+"-"+Fi[e&255]+Fi[e>>8&255]+"-"+Fi[e>>16&15|64]+Fi[e>>24&255]+"-"+Fi[n&63|128]+Fi[n>>8&255]+"-"+Fi[n>>16&255]+Fi[n>>24&255]+Fi[r&255]+Fi[r>>8&255]+Fi[r>>16&255]+Fi[r>>24&255]).toLowerCase()}function wr(t,e,n){return Math.max(e,Math.min(n,t))}function NI(t,e){return(t%e+e)%e}function bwe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function wwe(t,e,n){return t!==e?(n-t)/(e-t):0}function Pv(t,e,n){return(1-n)*t+n*e}function Swe(t,e,n,r){return Pv(t,e,1-Math.exp(-n*r))}function Mwe(t,e=1){return e-Math.abs(NI(t,e*2)-e)}function Ewe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Twe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Awe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Pwe(t,e){return t+Math.random()*(e-t)}function Cwe(t){return t*(.5-Math.random())}function Rwe(t){t!==void 0&&(k4=t);let e=k4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Owe(t){return t*fd}function Nwe(t){return t*cm}function Iwe(t){return(t&t-1)===0&&t!==0}function Lwe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Dwe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function kwe(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),v=s((r-e)/2),x=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*f,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*f,a*u);break;case"XZX":t.set(a*f,l*x,l*v,a*u);break;case"YXY":t.set(l*v,a*f,l*x,a*u);break;case"ZYZ":t.set(l*x,l*v,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function as(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Kt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Fwe={DEG2RAD:fd,RAD2DEG:cm,generateUUID:to,clamp:wr,euclideanModulo:NI,mapLinear:bwe,inverseLerp:wwe,lerp:Pv,damp:Swe,pingpong:Mwe,smoothstep:Ewe,smootherstep:Twe,randInt:Awe,randFloat:Pwe,randFloatSpread:Cwe,seededRandom:Rwe,degToRad:Owe,radToDeg:Nwe,isPowerOfTwo:Iwe,ceilPowerOfTwo:Lwe,floorPowerOfTwo:Dwe,setQuaternionFromProperEuler:kwe,normalize:Kt,denormalize:as};class je{constructor(e=0,n=0){je.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(wr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xt{constructor(e,n,r,i,s,o,a,l,u){Xt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],d=r[7],p=r[2],v=r[5],x=r[8],b=i[0],y=i[3],w=i[6],M=i[1],S=i[4],A=i[7],P=i[2],O=i[5],I=i[8];return s[0]=o*b+a*M+l*P,s[3]=o*y+a*S+l*O,s[6]=o*w+a*A+l*I,s[1]=u*b+f*M+d*P,s[4]=u*y+f*S+d*O,s[7]=u*w+f*A+d*I,s[2]=p*b+v*M+x*P,s[5]=p*y+v*S+x*O,s[8]=p*w+v*A+x*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,v=u*s-o*l,x=n*d+r*p+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/x;return e[0]=d*b,e[1]=(i*u-f*r)*b,e[2]=(a*r-i*o)*b,e[3]=p*b,e[4]=(f*n-i*l)*b,e[5]=(i*s-a*n)*b,e[6]=v*b,e[7]=(r*l-u*n)*b,e[8]=(o*n-r*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(fP.makeScale(e,n)),this}rotate(e){return this.premultiply(fP.makeRotation(-e)),this}translate(e,n){return this.premultiply(fP.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fP=new Xt;function b7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Uwe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function yp(t,e){return new Uwe[t](e)}function Dy(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function w7(){const t=Dy("canvas");return t.style.display="block",t}const F4={};function II(t){t in F4||(F4[t]=!0,console.warn(t))}function Bwe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const U4=new Xt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),B4=new Xt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Hx={[yu]:{transfer:Ry,primaries:Oy,toReference:t=>t,fromReference:t=>t},[Mo]:{transfer:Xn,primaries:Oy,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[p0]:{transfer:Ry,primaries:Ny,toReference:t=>t.applyMatrix3(B4),fromReference:t=>t.applyMatrix3(U4)},[AS]:{transfer:Xn,primaries:Ny,toReference:t=>t.convertSRGBToLinear().applyMatrix3(B4),fromReference:t=>t.applyMatrix3(U4).convertLinearToSRGB()}},jwe=new Set([yu,p0]),En={enabled:!0,_workingColorSpace:yu,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!jwe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Hx[e].toReference,i=Hx[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Hx[t].primaries},getTransfer:function(t){return t===$l?Ry:Hx[t].transfer}};function Ip(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function dP(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let kh;class S7{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{kh===void 0&&(kh=Dy("canvas")),kh.width=e.width,kh.height=e.height;const r=kh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=kh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Dy("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ip(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ip(n[r]/255)*255):n[r]=Ip(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zwe=0;class nd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zwe++}),this.uuid=to(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(hP(i[o].image)):s.push(hP(i[o]))}else s=hP(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function hP(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?S7.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Vwe=0;class mr extends xu{constructor(e=mr.DEFAULT_IMAGE,n=mr.DEFAULT_MAPPING,r=Ao,i=Ao,s=Fr,o=Va,a=us,l=Ja,u=mr.DEFAULT_ANISOTROPY,f=$l){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Vwe++}),this.uuid=to(),this.name="",this.source=new nd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new je(0,0),this.repeat=new je(1,1),this.center=new je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ES)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ey:e.x=e.x-Math.floor(e.x);break;case Ao:e.x=e.x<0?0:1;break;case Ty:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ey:e.y=e.y-Math.floor(e.y);break;case Ao:e.y=e.y<0?0:1;break;case Ty:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}mr.DEFAULT_IMAGE=null;mr.DEFAULT_MAPPING=ES;mr.DEFAULT_ANISOTROPY=1;class In{constructor(e=0,n=0,r=0,i=1){In.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],v=l[5],x=l[9],b=l[2],y=l[6],w=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-b)<.01&&Math.abs(x-y)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+b)<.1&&Math.abs(x+y)<.1&&Math.abs(u+v+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,A=(v+1)/2,P=(w+1)/2,O=(f+p)/4,I=(d+b)/4,k=(x+y)/4;return S>A&&S>P?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=O/r,s=I/r):A>P?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=O/i,s=k/i):P<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),r=I/s,i=k/s),this.set(r,i,s,n),this}let M=Math.sqrt((y-x)*(y-x)+(d-b)*(d-b)+(p-f)*(p-f));return Math.abs(M)<.001&&(M=1),this.x=(y-x)/M,this.y=(d-b)/M,this.z=(p-f)/M,this.w=Math.acos((u+v+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class M7 extends xu{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new In(0,0,e,n),this.scissorTest=!1,this.viewport=new In(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new mr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new nd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ya extends M7{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class PS extends mr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ui,this.minFilter=ui,this.wrapR=Ao,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Hwe extends ya{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new PS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class LI extends mr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ui,this.minFilter=ui,this.wrapR=Ao,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wwe extends ya{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new LI(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Rs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],d=r[i+3];const p=s[o+0],v=s[o+1],x=s[o+2],b=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=v,e[n+2]=x,e[n+3]=b;return}if(d!==b||l!==p||u!==v||f!==x){let y=1-a;const w=l*p+u*v+f*x+d*b,M=w>=0?1:-1,S=1-w*w;if(S>Number.EPSILON){const P=Math.sqrt(S),O=Math.atan2(P,w*M);y=Math.sin(y*O)/P,a=Math.sin(a*O)/P}const A=a*M;if(l=l*y+p*A,u=u*y+v*A,f=f*y+x*A,d=d*y+b*A,y===1-a){const P=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=P,u*=P,f*=P,d*=P}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],d=s[o],p=s[o+1],v=s[o+2],x=s[o+3];return e[n]=a*x+f*d+l*v-u*p,e[n+1]=l*x+f*p+u*d-a*v,e[n+2]=u*x+f*v+a*p-l*d,e[n+3]=f*x-a*d-l*p-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),d=a(s/2),p=l(r/2),v=l(i/2),x=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*v*x,this._y=u*v*d-p*f*x,this._z=u*f*x+p*v*d,this._w=u*f*d-p*v*x;break;case"YXZ":this._x=p*f*d+u*v*x,this._y=u*v*d-p*f*x,this._z=u*f*x-p*v*d,this._w=u*f*d+p*v*x;break;case"ZXY":this._x=p*f*d-u*v*x,this._y=u*v*d+p*f*x,this._z=u*f*x+p*v*d,this._w=u*f*d-p*v*x;break;case"ZYX":this._x=p*f*d-u*v*x,this._y=u*v*d+p*f*x,this._z=u*f*x-p*v*d,this._w=u*f*d+p*v*x;break;case"YZX":this._x=p*f*d+u*v*x,this._y=u*v*d+p*f*x,this._z=u*f*x-p*v*d,this._w=u*f*d-p*v*x;break;case"XZY":this._x=p*f*d-u*v*x,this._y=u*v*d-p*f*x,this._z=u*f*x+p*v*d,this._w=u*f*d+p*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],f=n[6],d=n[10],p=r+a+d;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(f-l)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>a&&r>d){const v=2*Math.sqrt(1+r-a-d);this._w=(f-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(a>d){const v=2*Math.sqrt(1+a-r-d);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+d-r-a);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-n)*f)/u,p=Math.sin(n*f)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,r=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(j4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(j4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),f=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*u+o*d-a*f,this.y=r+l*f+a*u-s*d,this.z=i+l*d+s*f-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return pP.copy(this).projectOnVector(e),this.sub(pP)}reflect(e){return this.sub(pP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(wr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const pP=new te,j4=new Rs;class hs{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ia.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ia.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ia.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,ia):ia.fromBufferAttribute(s,o),ia.applyMatrix4(e.matrixWorld),this.expandByPoint(ia);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Wx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Wx.copy(r.boundingBox)),Wx.applyMatrix4(e.matrixWorld),this.union(Wx)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ia),ia.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wg),Gx.subVectors(this.max,Wg),Fh.subVectors(e.a,Wg),Uh.subVectors(e.b,Wg),Bh.subVectors(e.c,Wg),nc.subVectors(Uh,Fh),rc.subVectors(Bh,Uh),Pf.subVectors(Fh,Bh);let n=[0,-nc.z,nc.y,0,-rc.z,rc.y,0,-Pf.z,Pf.y,nc.z,0,-nc.x,rc.z,0,-rc.x,Pf.z,0,-Pf.x,-nc.y,nc.x,0,-rc.y,rc.x,0,-Pf.y,Pf.x,0];return!mP(n,Fh,Uh,Bh,Gx)||(n=[1,0,0,0,1,0,0,0,1],!mP(n,Fh,Uh,Bh,Gx))?!1:($x.crossVectors(nc,rc),n=[$x.x,$x.y,$x.z],mP(n,Fh,Uh,Bh,Gx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ia).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ia).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jl=[new te,new te,new te,new te,new te,new te,new te,new te],ia=new te,Wx=new hs,Fh=new te,Uh=new te,Bh=new te,nc=new te,rc=new te,Pf=new te,Wg=new te,Gx=new te,$x=new te,Cf=new te;function mP(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Cf.fromArray(t,s);const a=i.x*Math.abs(Cf.x)+i.y*Math.abs(Cf.y)+i.z*Math.abs(Cf.z),l=e.dot(Cf),u=n.dot(Cf),f=r.dot(Cf);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const Gwe=new hs,Gg=new te,gP=new te;class Wi{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Gwe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Gg.subVectors(e,this.center);const n=Gg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Gg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(gP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Gg.copy(e.center).add(gP)),this.expandByPoint(Gg.copy(e.center).sub(gP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const zl=new te,vP=new te,qx=new te,ic=new te,yP=new te,Xx=new te,xP=new te;class Pm{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,zl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=zl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(zl.copy(this.origin).addScaledVector(this.direction,n),zl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){vP.copy(e).add(n).multiplyScalar(.5),qx.copy(n).sub(e).normalize(),ic.copy(this.origin).sub(vP);const s=e.distanceTo(n)*.5,o=-this.direction.dot(qx),a=ic.dot(this.direction),l=-ic.dot(qx),u=ic.lengthSq(),f=Math.abs(1-o*o);let d,p,v,x;if(f>0)if(d=o*l-a,p=o*a-l,x=s*f,d>=0)if(p>=-x)if(p<=x){const b=1/f;d*=b,p*=b,v=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),v=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),v=-d*d+p*(p+2*l)+u;else p<=-x?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),v=-d*d+p*(p+2*l)+u):p<=x?(d=0,p=Math.min(Math.max(-s,-l),s),v=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),v=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),v=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(vP).addScaledVector(qx,p),v}intersectSphere(e,n){zl.subVectors(e.center,this.origin);const r=zl.dot(this.direction),i=zl.dot(zl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,zl)!==null}intersectTriangle(e,n,r,i,s){yP.subVectors(n,e),Xx.subVectors(r,e),xP.crossVectors(yP,Xx);let o=this.direction.dot(xP),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ic.subVectors(this.origin,e);const l=a*this.direction.dot(Xx.crossVectors(ic,Xx));if(l<0)return null;const u=a*this.direction.dot(yP.cross(ic));if(u<0||l+u>o)return null;const f=-a*ic.dot(xP);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,n,r,i,s,o,a,l,u,f,d,p,v,x,b,y){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,f,d,p,v,x,b,y)}set(e,n,r,i,s,o,a,l,u,f,d,p,v,x,b,y){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=f,w[10]=d,w[14]=p,w[3]=v,w[7]=x,w[11]=b,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/jh.setFromMatrixColumn(e,0).length(),s=1/jh.setFromMatrixColumn(e,1).length(),o=1/jh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,v=o*d,x=a*f,b=a*d;n[0]=l*f,n[4]=-l*d,n[8]=u,n[1]=v+x*u,n[5]=p-b*u,n[9]=-a*l,n[2]=b-p*u,n[6]=x+v*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,v=l*d,x=u*f,b=u*d;n[0]=p+b*a,n[4]=x*a-v,n[8]=o*u,n[1]=o*d,n[5]=o*f,n[9]=-a,n[2]=v*a-x,n[6]=b+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,v=l*d,x=u*f,b=u*d;n[0]=p-b*a,n[4]=-o*d,n[8]=x+v*a,n[1]=v+x*a,n[5]=o*f,n[9]=b-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,v=o*d,x=a*f,b=a*d;n[0]=l*f,n[4]=x*u-v,n[8]=p*u+b,n[1]=l*d,n[5]=b*u+p,n[9]=v*u-x,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*u,x=a*l,b=a*u;n[0]=l*f,n[4]=b-p*d,n[8]=x*d+v,n[1]=d,n[5]=o*f,n[9]=-a*f,n[2]=-u*f,n[6]=v*d+x,n[10]=p-b*d}else if(e.order==="XZY"){const p=o*l,v=o*u,x=a*l,b=a*u;n[0]=l*f,n[4]=-d,n[8]=u*f,n[1]=p*d+b,n[5]=o*f,n[9]=v*d-x,n[2]=x*d-v,n[6]=a*f,n[10]=b*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose($we,e,qwe)}lookAt(e,n,r){const i=this.elements;return Ws.subVectors(e,n),Ws.lengthSq()===0&&(Ws.z=1),Ws.normalize(),sc.crossVectors(r,Ws),sc.lengthSq()===0&&(Math.abs(r.z)===1?Ws.x+=1e-4:Ws.z+=1e-4,Ws.normalize(),sc.crossVectors(r,Ws)),sc.normalize(),Kx.crossVectors(Ws,sc),i[0]=sc.x,i[4]=Kx.x,i[8]=Ws.x,i[1]=sc.y,i[5]=Kx.y,i[9]=Ws.y,i[2]=sc.z,i[6]=Kx.z,i[10]=Ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],d=r[5],p=r[9],v=r[13],x=r[2],b=r[6],y=r[10],w=r[14],M=r[3],S=r[7],A=r[11],P=r[15],O=i[0],I=i[4],k=i[8],L=i[12],F=i[1],j=i[5],H=i[9],q=i[13],X=i[2],J=i[6],Z=i[10],ee=i[14],V=i[3],K=i[7],Q=i[11],G=i[15];return s[0]=o*O+a*F+l*X+u*V,s[4]=o*I+a*j+l*J+u*K,s[8]=o*k+a*H+l*Z+u*Q,s[12]=o*L+a*q+l*ee+u*G,s[1]=f*O+d*F+p*X+v*V,s[5]=f*I+d*j+p*J+v*K,s[9]=f*k+d*H+p*Z+v*Q,s[13]=f*L+d*q+p*ee+v*G,s[2]=x*O+b*F+y*X+w*V,s[6]=x*I+b*j+y*J+w*K,s[10]=x*k+b*H+y*Z+w*Q,s[14]=x*L+b*q+y*ee+w*G,s[3]=M*O+S*F+A*X+P*V,s[7]=M*I+S*j+A*J+P*K,s[11]=M*k+S*H+A*Z+P*Q,s[15]=M*L+S*q+A*ee+P*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],v=e[14],x=e[3],b=e[7],y=e[11],w=e[15];return x*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*v-r*l*v)+b*(+n*l*v-n*u*p+s*o*p-i*o*v+i*u*f-s*l*f)+y*(+n*u*d-n*a*v-s*o*d+r*o*v+s*a*f-r*u*f)+w*(-i*a*f-n*l*d+n*a*p+i*o*d-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],v=e[11],x=e[12],b=e[13],y=e[14],w=e[15],M=d*y*u-b*p*u+b*l*v-a*y*v-d*l*w+a*p*w,S=x*p*u-f*y*u-x*l*v+o*y*v+f*l*w-o*p*w,A=f*b*u-x*d*u+x*a*v-o*b*v-f*a*w+o*d*w,P=x*d*l-f*b*l-x*a*p+o*b*p+f*a*y-o*d*y,O=n*M+r*S+i*A+s*P;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/O;return e[0]=M*I,e[1]=(b*p*s-d*y*s-b*i*v+r*y*v+d*i*w-r*p*w)*I,e[2]=(a*y*s-b*l*s+b*i*u-r*y*u-a*i*w+r*l*w)*I,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*v-r*l*v)*I,e[4]=S*I,e[5]=(f*y*s-x*p*s+x*i*v-n*y*v-f*i*w+n*p*w)*I,e[6]=(x*l*s-o*y*s-x*i*u+n*y*u+o*i*w-n*l*w)*I,e[7]=(o*p*s-f*l*s+f*i*u-n*p*u-o*i*v+n*l*v)*I,e[8]=A*I,e[9]=(x*d*s-f*b*s-x*r*v+n*b*v+f*r*w-n*d*w)*I,e[10]=(o*b*s-x*a*s+x*r*u-n*b*u-o*r*w+n*a*w)*I,e[11]=(f*a*s-o*d*s-f*r*u+n*d*u+o*r*v-n*a*v)*I,e[12]=P*I,e[13]=(f*b*i-x*d*i+x*r*p-n*b*p-f*r*y+n*d*y)*I,e[14]=(x*a*i-o*b*i-x*r*l+n*b*l+o*r*y-n*a*y)*I,e[15]=(o*d*i-f*a*i+f*r*l-n*d*l-o*r*p+n*a*p)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,f=o+o,d=a+a,p=s*u,v=s*f,x=s*d,b=o*f,y=o*d,w=a*d,M=l*u,S=l*f,A=l*d,P=r.x,O=r.y,I=r.z;return i[0]=(1-(b+w))*P,i[1]=(v+A)*P,i[2]=(x-S)*P,i[3]=0,i[4]=(v-A)*O,i[5]=(1-(p+w))*O,i[6]=(y+M)*O,i[7]=0,i[8]=(x+S)*I,i[9]=(y-M)*I,i[10]=(1-(p+b))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=jh.set(i[0],i[1],i[2]).length();const o=jh.set(i[4],i[5],i[6]).length(),a=jh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],sa.copy(this);const u=1/s,f=1/o,d=1/a;return sa.elements[0]*=u,sa.elements[1]*=u,sa.elements[2]*=u,sa.elements[4]*=f,sa.elements[5]*=f,sa.elements[6]*=f,sa.elements[8]*=d,sa.elements[9]*=d,sa.elements[10]*=d,n.setFromRotationMatrix(sa),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ha){const l=this.elements,u=2*s/(n-e),f=2*s/(r-i),d=(n+e)/(n-e),p=(r+i)/(r-i);let v,x;if(a===Ha)v=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===Ly)v=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ha){const l=this.elements,u=1/(n-e),f=1/(r-i),d=1/(o-s),p=(n+e)*u,v=(r+i)*f;let x,b;if(a===Ha)x=(o+s)*d,b=-2*d;else if(a===Ly)x=s*d,b=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=b,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const jh=new te,sa=new Nt,$we=new te(0,0,0),qwe=new te(1,1,1),sc=new te,Kx=new te,Ws=new te,z4=new Nt,V4=new Rs;class ro{constructor(e=0,n=0,r=0,i=ro.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],d=i[2],p=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(wr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-wr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(wr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-wr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(wr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-wr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return z4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(z4,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return V4.setFromEuler(this),this.setFromQuaternion(V4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ro.DEFAULT_ORDER="XYZ";class dd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Xwe=0;const H4=new te,zh=new Rs,Vl=new Nt,Yx=new te,$g=new te,Kwe=new te,Ywe=new Rs,W4=new te(1,0,0),G4=new te(0,1,0),$4=new te(0,0,1),q4={type:"added"},Zwe={type:"removed"},Vh={type:"childadded",child:null},_P={type:"childremoved",child:null};class Sn extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xwe++}),this.uuid=to(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sn.DEFAULT_UP.clone();const e=new te,n=new ro,r=new Rs,i=new te(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Xt}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=Sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return zh.setFromAxisAngle(e,n),this.quaternion.multiply(zh),this}rotateOnWorldAxis(e,n){return zh.setFromAxisAngle(e,n),this.quaternion.premultiply(zh),this}rotateX(e){return this.rotateOnAxis(W4,e)}rotateY(e){return this.rotateOnAxis(G4,e)}rotateZ(e){return this.rotateOnAxis($4,e)}translateOnAxis(e,n){return H4.copy(e).applyQuaternion(this.quaternion),this.position.add(H4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(W4,e)}translateY(e){return this.translateOnAxis(G4,e)}translateZ(e){return this.translateOnAxis($4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Vl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Yx.copy(e):Yx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),$g.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vl.lookAt($g,Yx,this.up):Vl.lookAt(Yx,$g,this.up),this.quaternion.setFromRotationMatrix(Vl),i&&(Vl.extractRotation(i.matrixWorld),zh.setFromRotationMatrix(Vl),this.quaternion.premultiply(zh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(q4),Vh.child=e,this.dispatchEvent(Vh),Vh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Zwe),_P.child=e,this.dispatchEvent(_P),_P.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Vl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Vl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(q4),Vh.child=e,this.dispatchEvent(Vh),Vh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($g,e,Kwe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($g,Ywe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),v=o(e.animations),x=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Sn.DEFAULT_UP=new te(0,1,0);Sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const oa=new te,Hl=new te,bP=new te,Wl=new te,Hh=new te,Wh=new te,X4=new te,wP=new te,SP=new te,MP=new te;class Ys{constructor(e=new te,n=new te,r=new te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),oa.subVectors(e,n),i.cross(oa);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){oa.subVectors(i,n),Hl.subVectors(r,n),bP.subVectors(e,n);const o=oa.dot(oa),a=oa.dot(Hl),l=oa.dot(bP),u=Hl.dot(Hl),f=Hl.dot(bP),d=o*u-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,v=(u*l-a*f)*p,x=(o*f-a*l)*p;return s.set(1-v-x,x,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Wl)===null?!1:Wl.x>=0&&Wl.y>=0&&Wl.x+Wl.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Wl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Wl.x),l.addScaledVector(o,Wl.y),l.addScaledVector(a,Wl.z),l)}static isFrontFacing(e,n,r,i){return oa.subVectors(r,n),Hl.subVectors(e,n),oa.cross(Hl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oa.subVectors(this.c,this.b),Hl.subVectors(this.a,this.b),oa.cross(Hl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ys.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ys.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ys.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ys.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ys.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Hh.subVectors(i,r),Wh.subVectors(s,r),wP.subVectors(e,r);const l=Hh.dot(wP),u=Wh.dot(wP);if(l<=0&&u<=0)return n.copy(r);SP.subVectors(e,i);const f=Hh.dot(SP),d=Wh.dot(SP);if(f>=0&&d<=f)return n.copy(i);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Hh,o);MP.subVectors(e,s);const v=Hh.dot(MP),x=Wh.dot(MP);if(x>=0&&v<=x)return n.copy(s);const b=v*u-l*x;if(b<=0&&u>=0&&x<=0)return a=u/(u-x),n.copy(r).addScaledVector(Wh,a);const y=f*x-v*d;if(y<=0&&d-f>=0&&v-x>=0)return X4.subVectors(s,i),a=(d-f)/(d-f+(v-x)),n.copy(i).addScaledVector(X4,a);const w=1/(y+b+p);return o=b*w,a=p*w,n.copy(r).addScaledVector(Hh,o).addScaledVector(Wh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const E7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},oc={h:0,s:0,l:0},Zx={h:0,s:0,l:0};function EP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ht{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Mo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,En.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=En.workingColorSpace){return this.r=e,this.g=n,this.b=r,En.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=En.workingColorSpace){if(e=NI(e,1),n=wr(n,0,1),r=wr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=EP(o,s,e+1/3),this.g=EP(o,s,e),this.b=EP(o,s,e-1/3)}return En.toWorkingColorSpace(this,i),this}setStyle(e,n=Mo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Mo){const r=E7[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ip(e.r),this.g=Ip(e.g),this.b=Ip(e.b),this}copyLinearToSRGB(e){return this.r=dP(e.r),this.g=dP(e.g),this.b=dP(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mo){return En.fromWorkingColorSpace(Ui.copy(this),e),Math.round(wr(Ui.r*255,0,255))*65536+Math.round(wr(Ui.g*255,0,255))*256+Math.round(wr(Ui.b*255,0,255))}getHexString(e=Mo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=En.workingColorSpace){En.fromWorkingColorSpace(Ui.copy(this),n);const r=Ui.r,i=Ui.g,s=Ui.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=En.workingColorSpace){return En.fromWorkingColorSpace(Ui.copy(this),n),e.r=Ui.r,e.g=Ui.g,e.b=Ui.b,e}getStyle(e=Mo){En.fromWorkingColorSpace(Ui.copy(this),e);const n=Ui.r,r=Ui.g,i=Ui.b;return e!==Mo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(oc),this.setHSL(oc.h+e,oc.s+n,oc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(oc),e.getHSL(Zx);const r=Pv(oc.h,Zx.h,n),i=Pv(oc.s,Zx.s,n),s=Pv(oc.l,Zx.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ui=new ht;ht.NAMES=E7;let Qwe=0;class Pi extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Qwe++}),this.uuid=to(),this.name="",this.type="Material",this.blending=ld,this.side=du,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=cw,this.blendDst=fw,this.blendEquation=pc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ht(0,0,0),this.blendAlpha=0,this.depthFunc=wy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Z2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$f,this.stencilZFail=$f,this.stencilZPass=$f,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ld&&(r.blending=this.blending),this.side!==du&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==cw&&(r.blendSrc=this.blendSrc),this.blendDst!==fw&&(r.blendDst=this.blendDst),this.blendEquation!==pc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==wy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Z2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$f&&(r.stencilFail=this.stencilFail),this.stencilZFail!==$f&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==$f&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Dc extends Pi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=d0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ql=Jwe();function Jwe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;(u&8388608)===0;)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ps(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=wr(t,-65504,65504),ql.floatView[0]=t;const e=ql.uint32View[0],n=e>>23&511;return ql.baseTable[n]+((e&8388607)>>ql.shiftTable[n])}function dv(t){const e=t>>10;return ql.uint32View[0]=ql.mantissaTable[ql.offsetTable[e]+(t&1023)]+ql.exponentTable[e],ql.floatView[0]}const eSe={toHalfFloat:Ps,fromHalfFloat:dv},Dr=new te,Qx=new je;class Ln{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Iy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Zs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return II("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Qx.fromBufferAttribute(this,n),Qx.applyMatrix3(e),this.setXY(n,Qx.x,Qx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.applyMatrix3(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.applyMatrix4(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.applyNormalMatrix(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.transformDirection(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=as(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Kt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=as(n,this.array)),n}setX(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=as(n,this.array)),n}setY(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=as(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=as(n,this.array)),n}setW(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Iy&&(e.usage=this.usage),e}}class tSe extends Ln{constructor(e,n,r){super(new Int8Array(e),n,r)}}class nSe extends Ln{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class rSe extends Ln{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class iSe extends Ln{constructor(e,n,r){super(new Int16Array(e),n,r)}}class DI extends Ln{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class sSe extends Ln{constructor(e,n,r){super(new Int32Array(e),n,r)}}class kI extends Ln{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class oSe extends Ln{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=dv(this.array[e*this.itemSize]);return this.normalized&&(n=as(n,this.array)),n}setX(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize]=Ps(n),this}getY(e){let n=dv(this.array[e*this.itemSize+1]);return this.normalized&&(n=as(n,this.array)),n}setY(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+1]=Ps(n),this}getZ(e){let n=dv(this.array[e*this.itemSize+2]);return this.normalized&&(n=as(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+2]=Ps(n),this}getW(e){let n=dv(this.array[e*this.itemSize+3]);return this.normalized&&(n=as(n,this.array)),n}setW(e,n){return this.normalized&&(n=Kt(n,this.array)),this.array[e*this.itemSize+3]=Ps(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(r),this.array[e+2]=Ps(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(r),this.array[e+2]=Ps(i),this.array[e+3]=Ps(s),this}}class St extends Ln{constructor(e,n,r){super(new Float32Array(e),n,r)}}let aSe=0;const xo=new Nt,TP=new Sn,Gh=new te,Gs=new hs,qg=new hs,si=new te;class en extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:aSe++}),this.uuid=to(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(b7(e)?kI:DI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Xt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xo.makeRotationFromQuaternion(e),this.applyMatrix4(xo),this}rotateX(e){return xo.makeRotationX(e),this.applyMatrix4(xo),this}rotateY(e){return xo.makeRotationY(e),this.applyMatrix4(xo),this}rotateZ(e){return xo.makeRotationZ(e),this.applyMatrix4(xo),this}translate(e,n,r){return xo.makeTranslation(e,n,r),this.applyMatrix4(xo),this}scale(e,n,r){return xo.makeScale(e,n,r),this.applyMatrix4(xo),this}lookAt(e){return TP.lookAt(e),TP.updateMatrix(),this.applyMatrix4(TP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gh).negate(),this.translate(Gh.x,Gh.y,Gh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new St(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Gs.setFromBufferAttribute(s),this.morphTargetsRelative?(si.addVectors(this.boundingBox.min,Gs.min),this.boundingBox.expandByPoint(si),si.addVectors(this.boundingBox.max,Gs.max),this.boundingBox.expandByPoint(si)):(this.boundingBox.expandByPoint(Gs.min),this.boundingBox.expandByPoint(Gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const r=this.boundingSphere.center;if(Gs.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];qg.setFromBufferAttribute(a),this.morphTargetsRelative?(si.addVectors(Gs.min,qg.min),Gs.expandByPoint(si),si.addVectors(Gs.max,qg.max),Gs.expandByPoint(si)):(Gs.expandByPoint(qg.min),Gs.expandByPoint(qg.max))}Gs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)si.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(si));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)si.fromBufferAttribute(a,u),l&&(Gh.fromBufferAttribute(e,u),si.add(Gh)),i=Math.max(i,r.distanceToSquared(si))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ln(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let k=0;k<r.count;k++)a[k]=new te,l[k]=new te;const u=new te,f=new te,d=new te,p=new je,v=new je,x=new je,b=new te,y=new te;function w(k,L,F){u.fromBufferAttribute(r,k),f.fromBufferAttribute(r,L),d.fromBufferAttribute(r,F),p.fromBufferAttribute(s,k),v.fromBufferAttribute(s,L),x.fromBufferAttribute(s,F),f.sub(u),d.sub(u),v.sub(p),x.sub(p);const j=1/(v.x*x.y-x.x*v.y);isFinite(j)&&(b.copy(f).multiplyScalar(x.y).addScaledVector(d,-v.y).multiplyScalar(j),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-x.x).multiplyScalar(j),a[k].add(b),a[L].add(b),a[F].add(b),l[k].add(y),l[L].add(y),l[F].add(y))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let k=0,L=M.length;k<L;++k){const F=M[k],j=F.start,H=F.count;for(let q=j,X=j+H;q<X;q+=3)w(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const S=new te,A=new te,P=new te,O=new te;function I(k){P.fromBufferAttribute(i,k),O.copy(P);const L=a[k];S.copy(L),S.sub(P.multiplyScalar(P.dot(L))).normalize(),A.crossVectors(O,L);const j=A.dot(l[k])<0?-1:1;o.setXYZW(k,S.x,S.y,S.z,j)}for(let k=0,L=M.length;k<L;++k){const F=M[k],j=F.start,H=F.count;for(let q=j,X=j+H;q<X;q+=3)I(e.getX(q+0)),I(e.getX(q+1)),I(e.getX(q+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ln(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,v=r.count;p<v;p++)r.setXYZ(p,0,0,0);const i=new te,s=new te,o=new te,a=new te,l=new te,u=new te,f=new te,d=new te;if(e)for(let p=0,v=e.count;p<v;p+=3){const x=e.getX(p+0),b=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,x),s.fromBufferAttribute(n,b),o.fromBufferAttribute(n,y),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,x),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,y),a.add(f),l.add(f),u.add(f),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,v=n.count;p<v;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)si.fromBufferAttribute(e,n),si.normalize(),e.setXYZ(n,si.x,si.y,si.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let v=0,x=0;for(let b=0,y=l.length;b<y;b++){a.isInterleavedBufferAttribute?v=l[b]*a.data.stride+a.offset:v=l[b]*f;for(let w=0;w<f;w++)p[x++]=u[v++]}return new Ln(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new en,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],v=e(p,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const v=u[d];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,v=d.length;p<v;p++)f.push(d[p].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const K4=new Nt,Rf=new Pm,Jx=new Wi,Y4=new te,$h=new te,qh=new te,Xh=new te,AP=new te,e_=new te,t_=new je,n_=new je,r_=new je,Z4=new te,Q4=new te,J4=new te,i_=new te,s_=new te;class Ur extends Sn{constructor(e=new en,n=new Dc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){e_.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],d=s[l];f!==0&&(AP.fromBufferAttribute(d,e),o?e_.addScaledVector(AP,f):e_.addScaledVector(AP.sub(n),f))}n.add(e_)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Jx.copy(r.boundingSphere),Jx.applyMatrix4(s),Rf.copy(e.ray).recast(e.near),!(Jx.containsPoint(Rf.origin)===!1&&(Rf.intersectSphere(Jx,Y4)===null||Rf.origin.distanceToSquared(Y4)>(e.far-e.near)**2))&&(K4.copy(s).invert(),Rf.copy(e.ray).applyMatrix4(K4),!(r.boundingBox!==null&&Rf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Rf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let x=0,b=p.length;x<b;x++){const y=p[x],w=o[y.materialIndex],M=Math.max(y.start,v.start),S=Math.min(a.count,Math.min(y.start+y.count,v.start+v.count));for(let A=M,P=S;A<P;A+=3){const O=a.getX(A),I=a.getX(A+1),k=a.getX(A+2);i=o_(this,w,e,r,u,f,d,O,I,k),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),b=Math.min(a.count,v.start+v.count);for(let y=x,w=b;y<w;y+=3){const M=a.getX(y),S=a.getX(y+1),A=a.getX(y+2);i=o_(this,o,e,r,u,f,d,M,S,A),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let x=0,b=p.length;x<b;x++){const y=p[x],w=o[y.materialIndex],M=Math.max(y.start,v.start),S=Math.min(l.count,Math.min(y.start+y.count,v.start+v.count));for(let A=M,P=S;A<P;A+=3){const O=A,I=A+1,k=A+2;i=o_(this,w,e,r,u,f,d,O,I,k),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),b=Math.min(l.count,v.start+v.count);for(let y=x,w=b;y<w;y+=3){const M=y,S=y+1,A=y+2;i=o_(this,o,e,r,u,f,d,M,S,A),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function lSe(t,e,n,r,i,s,o,a){let l;if(e.side===ds?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===du,a),l===null)return null;s_.copy(a),s_.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(s_);return u<n.near||u>n.far?null:{distance:u,point:s_.clone(),object:t}}function o_(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,$h),t.getVertexPosition(l,qh),t.getVertexPosition(u,Xh);const f=lSe(t,e,n,r,$h,qh,Xh,i_);if(f){i&&(t_.fromBufferAttribute(i,a),n_.fromBufferAttribute(i,l),r_.fromBufferAttribute(i,u),f.uv=Ys.getInterpolation(i_,$h,qh,Xh,t_,n_,r_,new je)),s&&(t_.fromBufferAttribute(s,a),n_.fromBufferAttribute(s,l),r_.fromBufferAttribute(s,u),f.uv1=Ys.getInterpolation(i_,$h,qh,Xh,t_,n_,r_,new je)),o&&(Z4.fromBufferAttribute(o,a),Q4.fromBufferAttribute(o,l),J4.fromBufferAttribute(o,u),f.normal=Ys.getInterpolation(i_,$h,qh,Xh,Z4,Q4,J4,new te),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new te,materialIndex:0};Ys.getNormal($h,qh,Xh,d.normal),f.face=d}return f}class Nd extends en{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,v=0;x("z","y","x",-1,-1,r,n,e,o,s,0),x("z","y","x",1,-1,r,n,-e,o,s,1),x("x","z","y",1,1,e,r,n,i,o,2),x("x","z","y",1,-1,e,r,-n,i,o,3),x("x","y","z",1,-1,e,n,r,i,s,4),x("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new St(u,3)),this.setAttribute("normal",new St(f,3)),this.setAttribute("uv",new St(d,2));function x(b,y,w,M,S,A,P,O,I,k,L){const F=A/I,j=P/k,H=A/2,q=P/2,X=O/2,J=I+1,Z=k+1;let ee=0,V=0;const K=new te;for(let Q=0;Q<Z;Q++){const G=Q*j-q;for(let ne=0;ne<J;ne++){const ye=ne*F-H;K[b]=ye*M,K[y]=G*S,K[w]=X,u.push(K.x,K.y,K.z),K[b]=0,K[y]=0,K[w]=O>0?1:-1,f.push(K.x,K.y,K.z),d.push(ne/I),d.push(1-Q/k),ee+=1}}for(let Q=0;Q<k;Q++)for(let G=0;G<I;G++){const ne=p+G+J*Q,ye=p+G+J*(Q+1),ue=p+(G+1)+J*(Q+1),xe=p+(G+1)+J*Q;l.push(ne,ye,xe),l.push(ye,ue,xe),V+=6}a.addGroup(v,V,L),v+=V,p+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function os(t){const e={};for(let n=0;n<t.length;n++){const r=fm(t[n]);for(const i in r)e[i]=r[i]}return e}function uSe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function T7(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:En.workingColorSpace}const A7={clone:fm,merge:os};var cSe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fSe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xa extends Pi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=cSe,this.fragmentShader=fSe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fm(e.uniforms),this.uniformsGroups=uSe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class m0 extends Sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=Ha}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ac=new te,e5=new je,t5=new je;class ai extends m0{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=cm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return cm*2*Math.atan(Math.tan(fd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ac.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ac.x,ac.y).multiplyScalar(-e/ac.z),ac.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ac.x,ac.y).multiplyScalar(-e/ac.z)}getViewSize(e,n){return this.getViewBounds(e,e5,t5),n.subVectors(t5,e5)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(fd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kh=-90,Yh=1;class P7 extends Sn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ai(Kh,Yh,e,n);i.layers=this.layers,this.add(i);const s=new ai(Kh,Yh,e,n);s.layers=this.layers,this.add(s);const o=new ai(Kh,Yh,e,n);o.layers=this.layers,this.add(o);const a=new ai(Kh,Yh,e,n);a.layers=this.layers,this.add(a);const l=new ai(Kh,Yh,e,n);l.layers=this.layers,this.add(l);const u=new ai(Kh,Yh,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ha)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ly)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(d,p,v),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class g0 extends mr{constructor(e,n,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:hu,super(e,n,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class C7 extends ya{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new g0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Fr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Nd(5,5,5),s=new xa({name:"CubemapFromEquirect",uniforms:fm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ds,blending:tu});s.uniforms.tEquirect.value=n;const o=new Ur(i,s),a=n.minFilter;return n.minFilter===Va&&(n.minFilter=Fr),new P7(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const PP=new te,dSe=new te,hSe=new Xt;class hc{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=PP.subVectors(r,n).cross(dSe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(PP),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||hSe.getNormalMatrix(e),i=this.coplanarPoint(PP).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Of=new Wi,a_=new te;class v0{constructor(e=new hc,n=new hc,r=new hc,i=new hc,s=new hc,o=new hc){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ha){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],d=i[6],p=i[7],v=i[8],x=i[9],b=i[10],y=i[11],w=i[12],M=i[13],S=i[14],A=i[15];if(r[0].setComponents(l-s,p-u,y-v,A-w).normalize(),r[1].setComponents(l+s,p+u,y+v,A+w).normalize(),r[2].setComponents(l+o,p+f,y+x,A+M).normalize(),r[3].setComponents(l-o,p-f,y-x,A-M).normalize(),r[4].setComponents(l-a,p-d,y-b,A-S).normalize(),n===Ha)r[5].setComponents(l+a,p+d,y+b,A+S).normalize();else if(n===Ly)r[5].setComponents(a,d,b,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Of.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Of.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Of)}intersectsSprite(e){return Of.center.set(0,0,0),Of.radius=.7071067811865476,Of.applyMatrix4(e.matrixWorld),this.intersectsSphere(Of)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(a_.x=i.normal.x>0?e.max.x:e.min.x,a_.y=i.normal.y>0?e.max.y:e.min.y,a_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(a_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function R7(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function pSe(t){const e=new WeakMap;function n(a,l){const u=a.array,f=a.usage,d=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,f),a.onUploadCallback();let v;if(u instanceof Float32Array)v=t.FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=t.SHORT;else if(u instanceof Uint32Array)v=t.UNSIGNED_INT;else if(u instanceof Int32Array)v=t.INT;else if(u instanceof Int8Array)v=t.BYTE;else if(u instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,u){const f=l.array,d=l._updateRange,p=l.updateRanges;if(t.bindBuffer(u,a),d.count===-1&&p.length===0&&t.bufferSubData(u,0,f),p.length!==0){for(let v=0,x=p.length;v<x;v++){const b=p[v];t.bufferSubData(u,b.start*f.BYTES_PER_ELEMENT,f,b.start,b.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(u,d.offset*f.BYTES_PER_ELEMENT,f,d.offset,d.count),d.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}class Cm extends en{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,d=e/a,p=n/l,v=[],x=[],b=[],y=[];for(let w=0;w<f;w++){const M=w*p-o;for(let S=0;S<u;S++){const A=S*d-s;x.push(A,-M,0),b.push(0,0,1),y.push(S/a),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let M=0;M<a;M++){const S=M+u*w,A=M+u*(w+1),P=M+1+u*(w+1),O=M+1+u*w;v.push(S,A,O),v.push(A,P,O)}this.setIndex(v),this.setAttribute("position",new St(x,3)),this.setAttribute("normal",new St(b,3)),this.setAttribute("uv",new St(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cm(e.width,e.height,e.widthSegments,e.heightSegments)}}var mSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,gSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,vSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ySe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xSe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,_Se=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wSe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SSe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,MSe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,ESe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,TSe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ASe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,PSe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,CSe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RSe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,OSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,NSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ISe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,LSe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,kSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,FSe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,USe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BSe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jSe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zSe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,VSe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,HSe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,WSe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,GSe="gl_FragColor = linearToOutputTexel( gl_FragColor );",$Se=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,qSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,XSe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KSe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YSe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,QSe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,JSe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,e1e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,t1e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,n1e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,r1e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,i1e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,s1e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,o1e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,a1e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,l1e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,u1e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,c1e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,f1e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,d1e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,h1e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,p1e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,m1e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,g1e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,v1e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,y1e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,x1e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_1e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,b1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,w1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,S1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,M1e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,E1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,T1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,A1e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,P1e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,C1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,R1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,O1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,N1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,I1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,L1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,k1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,F1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,U1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,B1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,j1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,z1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,V1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,H1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,W1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,G1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,q1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,X1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,K1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Y1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,Z1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Q1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,J1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,eMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,nMe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,oMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aMe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,lMe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,uMe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,cMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const pMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,mMe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xMe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_Me=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bMe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,wMe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,SMe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EMe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TMe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,AMe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,CMe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RMe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OMe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NMe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,IMe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LMe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DMe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,kMe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FMe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UMe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,BMe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jMe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zMe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VMe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,HMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WMe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GMe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$Me=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Jt={alphahash_fragment:mSe,alphahash_pars_fragment:gSe,alphamap_fragment:vSe,alphamap_pars_fragment:ySe,alphatest_fragment:xSe,alphatest_pars_fragment:_Se,aomap_fragment:bSe,aomap_pars_fragment:wSe,batching_pars_vertex:SSe,batching_vertex:MSe,begin_vertex:ESe,beginnormal_vertex:TSe,bsdfs:ASe,iridescence_fragment:PSe,bumpmap_pars_fragment:CSe,clipping_planes_fragment:RSe,clipping_planes_pars_fragment:OSe,clipping_planes_pars_vertex:NSe,clipping_planes_vertex:ISe,color_fragment:LSe,color_pars_fragment:DSe,color_pars_vertex:kSe,color_vertex:FSe,common:USe,cube_uv_reflection_fragment:BSe,defaultnormal_vertex:jSe,displacementmap_pars_vertex:zSe,displacementmap_vertex:VSe,emissivemap_fragment:HSe,emissivemap_pars_fragment:WSe,colorspace_fragment:GSe,colorspace_pars_fragment:$Se,envmap_fragment:qSe,envmap_common_pars_fragment:XSe,envmap_pars_fragment:KSe,envmap_pars_vertex:YSe,envmap_physical_pars_fragment:a1e,envmap_vertex:ZSe,fog_vertex:QSe,fog_pars_vertex:JSe,fog_fragment:e1e,fog_pars_fragment:t1e,gradientmap_pars_fragment:n1e,lightmap_pars_fragment:r1e,lights_lambert_fragment:i1e,lights_lambert_pars_fragment:s1e,lights_pars_begin:o1e,lights_toon_fragment:l1e,lights_toon_pars_fragment:u1e,lights_phong_fragment:c1e,lights_phong_pars_fragment:f1e,lights_physical_fragment:d1e,lights_physical_pars_fragment:h1e,lights_fragment_begin:p1e,lights_fragment_maps:m1e,lights_fragment_end:g1e,logdepthbuf_fragment:v1e,logdepthbuf_pars_fragment:y1e,logdepthbuf_pars_vertex:x1e,logdepthbuf_vertex:_1e,map_fragment:b1e,map_pars_fragment:w1e,map_particle_fragment:S1e,map_particle_pars_fragment:M1e,metalnessmap_fragment:E1e,metalnessmap_pars_fragment:T1e,morphinstance_vertex:A1e,morphcolor_vertex:P1e,morphnormal_vertex:C1e,morphtarget_pars_vertex:R1e,morphtarget_vertex:O1e,normal_fragment_begin:N1e,normal_fragment_maps:I1e,normal_pars_fragment:L1e,normal_pars_vertex:D1e,normal_vertex:k1e,normalmap_pars_fragment:F1e,clearcoat_normal_fragment_begin:U1e,clearcoat_normal_fragment_maps:B1e,clearcoat_pars_fragment:j1e,iridescence_pars_fragment:z1e,opaque_fragment:V1e,packing:H1e,premultiplied_alpha_fragment:W1e,project_vertex:G1e,dithering_fragment:$1e,dithering_pars_fragment:q1e,roughnessmap_fragment:X1e,roughnessmap_pars_fragment:K1e,shadowmap_pars_fragment:Y1e,shadowmap_pars_vertex:Z1e,shadowmap_vertex:Q1e,shadowmask_pars_fragment:J1e,skinbase_vertex:eMe,skinning_pars_vertex:tMe,skinning_vertex:nMe,skinnormal_vertex:rMe,specularmap_fragment:iMe,specularmap_pars_fragment:sMe,tonemapping_fragment:oMe,tonemapping_pars_fragment:aMe,transmission_fragment:lMe,transmission_pars_fragment:uMe,uv_pars_fragment:cMe,uv_pars_vertex:fMe,uv_vertex:dMe,worldpos_vertex:hMe,background_vert:pMe,background_frag:mMe,backgroundCube_vert:gMe,backgroundCube_frag:vMe,cube_vert:yMe,cube_frag:xMe,depth_vert:_Me,depth_frag:bMe,distanceRGBA_vert:wMe,distanceRGBA_frag:SMe,equirect_vert:MMe,equirect_frag:EMe,linedashed_vert:TMe,linedashed_frag:AMe,meshbasic_vert:PMe,meshbasic_frag:CMe,meshlambert_vert:RMe,meshlambert_frag:OMe,meshmatcap_vert:NMe,meshmatcap_frag:IMe,meshnormal_vert:LMe,meshnormal_frag:DMe,meshphong_vert:kMe,meshphong_frag:FMe,meshphysical_vert:UMe,meshphysical_frag:BMe,meshtoon_vert:jMe,meshtoon_frag:zMe,points_vert:VMe,points_frag:HMe,shadow_vert:WMe,shadow_frag:GMe,sprite_vert:$Me,sprite_frag:qMe},st={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xt},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xt}},envmap:{envMap:{value:null},envMapRotation:{value:new Xt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xt},normalScale:{value:new je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0},uvTransform:{value:new Xt}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xt},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0}}},fa={basic:{uniforms:os([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Jt.meshbasic_vert,fragmentShader:Jt.meshbasic_frag},lambert:{uniforms:os([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ht(0)}}]),vertexShader:Jt.meshlambert_vert,fragmentShader:Jt.meshlambert_frag},phong:{uniforms:os([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:Jt.meshphong_vert,fragmentShader:Jt.meshphong_frag},standard:{uniforms:os([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Jt.meshphysical_vert,fragmentShader:Jt.meshphysical_frag},toon:{uniforms:os([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new ht(0)}}]),vertexShader:Jt.meshtoon_vert,fragmentShader:Jt.meshtoon_frag},matcap:{uniforms:os([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Jt.meshmatcap_vert,fragmentShader:Jt.meshmatcap_frag},points:{uniforms:os([st.points,st.fog]),vertexShader:Jt.points_vert,fragmentShader:Jt.points_frag},dashed:{uniforms:os([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Jt.linedashed_vert,fragmentShader:Jt.linedashed_frag},depth:{uniforms:os([st.common,st.displacementmap]),vertexShader:Jt.depth_vert,fragmentShader:Jt.depth_frag},normal:{uniforms:os([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Jt.meshnormal_vert,fragmentShader:Jt.meshnormal_frag},sprite:{uniforms:os([st.sprite,st.fog]),vertexShader:Jt.sprite_vert,fragmentShader:Jt.sprite_frag},background:{uniforms:{uvTransform:{value:new Xt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Jt.background_vert,fragmentShader:Jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xt}},vertexShader:Jt.backgroundCube_vert,fragmentShader:Jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Jt.cube_vert,fragmentShader:Jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Jt.equirect_vert,fragmentShader:Jt.equirect_frag},distanceRGBA:{uniforms:os([st.common,st.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Jt.distanceRGBA_vert,fragmentShader:Jt.distanceRGBA_frag},shadow:{uniforms:os([st.lights,st.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:Jt.shadow_vert,fragmentShader:Jt.shadow_frag}};fa.physical={uniforms:os([fa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xt},clearcoatNormalScale:{value:new je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xt},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xt},transmissionSamplerSize:{value:new je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xt},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xt},anisotropyVector:{value:new je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xt}}]),vertexShader:Jt.meshphysical_vert,fragmentShader:Jt.meshphysical_frag};const l_={r:0,b:0,g:0},Nf=new ro,XMe=new Nt;function KMe(t,e,n,r,i,s,o){const a=new ht(0);let l=s===!0?0:1,u,f,d=null,p=0,v=null;function x(M){let S=M.isScene===!0?M.background:null;return S&&S.isTexture&&(S=(M.backgroundBlurriness>0?n:e).get(S)),S}function b(M){let S=!1;const A=x(M);A===null?w(a,l):A&&A.isColor&&(w(A,1),S=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(M,S){const A=x(S);A&&(A.isCubeTexture||A.mapping===Am)?(f===void 0&&(f=new Ur(new Nd(1,1,1),new xa({name:"BackgroundCubeMaterial",uniforms:fm(fa.backgroundCube.uniforms),vertexShader:fa.backgroundCube.vertexShader,fragmentShader:fa.backgroundCube.fragmentShader,side:ds,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,O,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),Nf.copy(S.backgroundRotation),Nf.x*=-1,Nf.y*=-1,Nf.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Nf.y*=-1,Nf.z*=-1),f.material.uniforms.envMap.value=A,f.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(XMe.makeRotationFromEuler(Nf)),f.material.toneMapped=En.getTransfer(A.colorSpace)!==Xn,(d!==A||p!==A.version||v!==t.toneMapping)&&(f.material.needsUpdate=!0,d=A,p=A.version,v=t.toneMapping),f.layers.enableAll(),M.unshift(f,f.geometry,f.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new Ur(new Cm(2,2),new xa({name:"BackgroundMaterial",uniforms:fm(fa.background.uniforms),vertexShader:fa.background.vertexShader,fragmentShader:fa.background.fragmentShader,side:du,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.toneMapped=En.getTransfer(A.colorSpace)!==Xn,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,d=A,p=A.version,v=t.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}function w(M,S){M.getRGB(l_,T7(t)),r.buffers.color.setClear(l_.r,l_.g,l_.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(M,S=1){a.set(M),l=S,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,w(a,l)},render:b,addToRenderList:y}}function YMe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(F,j,H,q,X){let J=!1;const Z=d(q,H,j);s!==Z&&(s=Z,u(s.object)),J=v(F,q,H,X),J&&x(F,q,H,X),X!==null&&e.update(X,t.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,A(F,j,H,q),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return t.createVertexArray()}function u(F){return t.bindVertexArray(F)}function f(F){return t.deleteVertexArray(F)}function d(F,j,H){const q=H.wireframe===!0;let X=r[F.id];X===void 0&&(X={},r[F.id]=X);let J=X[j.id];J===void 0&&(J={},X[j.id]=J);let Z=J[q];return Z===void 0&&(Z=p(l()),J[q]=Z),Z}function p(F){const j=[],H=[],q=[];for(let X=0;X<n;X++)j[X]=0,H[X]=0,q[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:H,attributeDivisors:q,object:F,attributes:{},index:null}}function v(F,j,H,q){const X=s.attributes,J=j.attributes;let Z=0;const ee=H.getAttributes();for(const V in ee)if(ee[V].location>=0){const Q=X[V];let G=J[V];if(G===void 0&&(V==="instanceMatrix"&&F.instanceMatrix&&(G=F.instanceMatrix),V==="instanceColor"&&F.instanceColor&&(G=F.instanceColor)),Q===void 0||Q.attribute!==G||G&&Q.data!==G.data)return!0;Z++}return s.attributesNum!==Z||s.index!==q}function x(F,j,H,q){const X={},J=j.attributes;let Z=0;const ee=H.getAttributes();for(const V in ee)if(ee[V].location>=0){let Q=J[V];Q===void 0&&(V==="instanceMatrix"&&F.instanceMatrix&&(Q=F.instanceMatrix),V==="instanceColor"&&F.instanceColor&&(Q=F.instanceColor));const G={};G.attribute=Q,Q&&Q.data&&(G.data=Q.data),X[V]=G,Z++}s.attributes=X,s.attributesNum=Z,s.index=q}function b(){const F=s.newAttributes;for(let j=0,H=F.length;j<H;j++)F[j]=0}function y(F){w(F,0)}function w(F,j){const H=s.newAttributes,q=s.enabledAttributes,X=s.attributeDivisors;H[F]=1,q[F]===0&&(t.enableVertexAttribArray(F),q[F]=1),X[F]!==j&&(t.vertexAttribDivisor(F,j),X[F]=j)}function M(){const F=s.newAttributes,j=s.enabledAttributes;for(let H=0,q=j.length;H<q;H++)j[H]!==F[H]&&(t.disableVertexAttribArray(H),j[H]=0)}function S(F,j,H,q,X,J,Z){Z===!0?t.vertexAttribIPointer(F,j,H,X,J):t.vertexAttribPointer(F,j,H,q,X,J)}function A(F,j,H,q){b();const X=q.attributes,J=H.getAttributes(),Z=j.defaultAttributeValues;for(const ee in J){const V=J[ee];if(V.location>=0){let K=X[ee];if(K===void 0&&(ee==="instanceMatrix"&&F.instanceMatrix&&(K=F.instanceMatrix),ee==="instanceColor"&&F.instanceColor&&(K=F.instanceColor)),K!==void 0){const Q=K.normalized,G=K.itemSize,ne=e.get(K);if(ne===void 0)continue;const ye=ne.buffer,ue=ne.type,xe=ne.bytesPerElement,Re=ue===t.INT||ue===t.UNSIGNED_INT||K.gpuType===SI;if(K.isInterleavedBufferAttribute){const Ce=K.data,qe=Ce.stride,Ae=K.offset;if(Ce.isInstancedInterleavedBuffer){for(let ze=0;ze<V.locationSize;ze++)w(V.location+ze,Ce.meshPerAttribute);F.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let ze=0;ze<V.locationSize;ze++)y(V.location+ze);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let ze=0;ze<V.locationSize;ze++)S(V.location+ze,G/V.locationSize,ue,Q,qe*xe,(Ae+G/V.locationSize*ze)*xe,Re)}else{if(K.isInstancedBufferAttribute){for(let Ce=0;Ce<V.locationSize;Ce++)w(V.location+Ce,K.meshPerAttribute);F.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let Ce=0;Ce<V.locationSize;Ce++)y(V.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let Ce=0;Ce<V.locationSize;Ce++)S(V.location+Ce,G/V.locationSize,ue,Q,G*xe,G/V.locationSize*Ce*xe,Re)}}else if(Z!==void 0){const Q=Z[ee];if(Q!==void 0)switch(Q.length){case 2:t.vertexAttrib2fv(V.location,Q);break;case 3:t.vertexAttrib3fv(V.location,Q);break;case 4:t.vertexAttrib4fv(V.location,Q);break;default:t.vertexAttrib1fv(V.location,Q)}}}}M()}function P(){k();for(const F in r){const j=r[F];for(const H in j){const q=j[H];for(const X in q)f(q[X].object),delete q[X];delete j[H]}delete r[F]}}function O(F){if(r[F.id]===void 0)return;const j=r[F.id];for(const H in j){const q=j[H];for(const X in q)f(q[X].object),delete q[X];delete j[H]}delete r[F.id]}function I(F){for(const j in r){const H=r[j];if(H[F.id]===void 0)continue;const q=H[F.id];for(const X in q)f(q[X].object),delete q[X];delete H[F.id]}}function k(){L(),o=!0,s!==i&&(s=i,u(s.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:k,resetDefaultState:L,dispose:P,releaseStatesOfGeometry:O,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:y,disableUnusedAttributes:M}}function ZMe(t,e,n){let r;function i(u){r=u}function s(u,f){t.drawArrays(r,u,f),n.update(f,r,1)}function o(u,f,d){d!==0&&(t.drawArraysInstanced(r,u,f,d),n.update(f,r,d))}function a(u,f,d){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let v=0;v<d;v++)this.render(u[v],f[v]);else{p.multiDrawArraysWEBGL(r,u,0,f,0,d);let v=0;for(let x=0;x<d;x++)v+=f[x];n.update(v,r,1)}}function l(u,f,d,p){if(d===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<u.length;x++)o(u[x],f[x],p[x]);else{v.multiDrawArraysInstancedWEBGL(r,u,0,f,0,p,0,d);let x=0;for(let b=0;b<d;b++)x+=f[b];for(let b=0;b<p.length;b++)n.update(x,r,p[b])}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function QMe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(O){return!(O!==us&&r.convert(O)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){const I=O===h0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==Ja&&r.convert(O)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==Zs&&!I)}function l(O){if(O==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const f=l(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const d=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),M=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=v>0,P=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:b,maxAttributes:y,maxVertexUniforms:w,maxVaryings:M,maxFragmentUniforms:S,vertexTextures:A,maxSamples:P}}function JMe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new hc,a=new Xt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const v=d.length!==0||p||r!==0||i;return i=p,r=d.length,v},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=f(d,p,0)},this.setState=function(d,p,v){const x=d.clippingPlanes,b=d.clipIntersection,y=d.clipShadows,w=t.get(d);if(!i||x===null||x.length===0||s&&!y)s?f(null):u();else{const M=s?0:r,S=M*4;let A=w.clippingState||null;l.value=A,A=f(x,p,S,v);for(let P=0;P!==S;++P)A[P]=n[P];w.clippingState=A,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,v,x){const b=d!==null?d.length:0;let y=null;if(b!==0){if(y=l.value,x!==!0||y===null){const w=v+b*4,M=p.matrixWorldInverse;a.getNormalMatrix(M),(y===null||y.length<w)&&(y=new Float32Array(w));for(let S=0,A=v;S!==b;++S,A+=4)o.copy(d[S]).applyMatrix4(M,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function eEe(t){let e=new WeakMap;function n(o,a){return a===Sy?o.mapping=hu:a===My&&(o.mapping=Ec),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Sy||a===My)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new C7(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class y0 extends m0{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const xp=4,n5=[.125,.215,.35,.446,.526,.582],Xf=20,CP=new y0,r5=new ht;let RP=null,OP=0,NP=0,IP=!1;const qf=(1+Math.sqrt(5))/2,Zh=1/qf,i5=[new te(-qf,Zh,0),new te(qf,Zh,0),new te(-Zh,0,qf),new te(Zh,0,qf),new te(0,qf,-Zh),new te(0,qf,Zh),new te(-1,1,-1),new te(1,1,-1),new te(-1,1,1),new te(1,1,1)];class J2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){RP=this._renderer.getRenderTarget(),OP=this._renderer.getActiveCubeFace(),NP=this._renderer.getActiveMipmapLevel(),IP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=a5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=o5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(RP,OP,NP),this._renderer.xr.enabled=IP,e.scissorTest=!1,u_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===hu||e.mapping===Ec?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RP=this._renderer.getRenderTarget(),OP=this._renderer.getActiveCubeFace(),NP=this._renderer.getActiveMipmapLevel(),IP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Fr,minFilter:Fr,generateMipmaps:!1,type:h0,format:us,colorSpace:yu,depthBuffer:!1},i=s5(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=s5(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tEe(s)),this._blurMaterial=nEe(s,e,n)}return i}_compileMaterial(e){const n=new Ur(this._lodPlanes[0],e);this._renderer.compile(n,CP)}_sceneToCubeUV(e,n,r,i){const a=new ai(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(r5),f.toneMapping=Ka,f.autoClear=!1;const v=new Dc({name:"PMREM.Background",side:ds,depthWrite:!1,depthTest:!1}),x=new Ur(new Nd,v);let b=!1;const y=e.background;y?y.isColor&&(v.color.copy(y),e.background=null,b=!0):(v.color.copy(r5),b=!0);for(let w=0;w<6;w++){const M=w%3;M===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):M===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const S=this._cubeSize;u_(i,M*S,w>2?S:0,S,S),f.setRenderTarget(i),b&&f.render(x,a),f.render(e,a)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=p,f.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===hu||e.mapping===Ec;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=a5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=o5());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ur(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;u_(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,CP)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=i5[(i-s-1)%i5.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Ur(this._lodPlanes[i],u),p=u.uniforms,v=this._sizeLods[r]-1,x=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Xf-1),b=s/x,y=isFinite(s)?1+Math.floor(f*b):Xf;y>Xf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xf}`);const w=[];let M=0;for(let I=0;I<Xf;++I){const k=I/b,L=Math.exp(-k*k/2);w.push(L),I===0?M+=L:I<y&&(M+=2*L)}for(let I=0;I<w.length;I++)w[I]=w[I]/M;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=x,p.mipInt.value=S-r;const A=this._sizeLods[i],P=3*A*(i>S-xp?i-S+xp:0),O=4*(this._cubeSize-A);u_(n,P,O,3*A,2*A),l.setRenderTarget(n),l.render(d,CP)}}function tEe(t){const e=[],n=[],r=[];let i=t;const s=t-xp+1+n5.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-xp?l=n5[o-t+xp-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],v=6,x=6,b=3,y=2,w=1,M=new Float32Array(b*x*v),S=new Float32Array(y*x*v),A=new Float32Array(w*x*v);for(let O=0;O<v;O++){const I=O%3*2/3-1,k=O>2?0:-1,L=[I,k,0,I+2/3,k,0,I+2/3,k+1,0,I,k,0,I+2/3,k+1,0,I,k+1,0];M.set(L,b*x*O),S.set(p,y*x*O);const F=[O,O,O,O,O,O];A.set(F,w*x*O)}const P=new en;P.setAttribute("position",new Ln(M,b)),P.setAttribute("uv",new Ln(S,y)),P.setAttribute("faceIndex",new Ln(A,w)),e.push(P),i>xp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function s5(t,e,n){const r=new ya(t,e,n);return r.texture.mapping=Am,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function u_(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function nEe(t,e,n){const r=new Float32Array(Xf),i=new te(0,1,0);return new xa({name:"SphericalGaussianBlur",defines:{n:Xf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function o5(){return new xa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function a5(){return new xa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function FI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function rEe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Sy||l===My,f=l===hu||l===Ec;if(u||f){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new J2(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const v=a.image;return u&&v&&v.height>0||f&&v&&i(v)?(n===null&&(n=new J2(t)),d=u?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function iEe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&II("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function sEe(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const x in p.attributes)e.remove(p.attributes[x]);for(const x in p.morphAttributes){const b=p.morphAttributes[x];for(let y=0,w=b.length;y<w;y++)e.remove(b[y])}p.removeEventListener("dispose",o),delete i[p.id];const v=s.get(p);v&&(e.remove(v),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const x in p)e.update(p[x],t.ARRAY_BUFFER);const v=d.morphAttributes;for(const x in v){const b=v[x];for(let y=0,w=b.length;y<w;y++)e.update(b[y],t.ARRAY_BUFFER)}}function u(d){const p=[],v=d.index,x=d.attributes.position;let b=0;if(v!==null){const M=v.array;b=v.version;for(let S=0,A=M.length;S<A;S+=3){const P=M[S+0],O=M[S+1],I=M[S+2];p.push(P,O,O,I,I,P)}}else if(x!==void 0){const M=x.array;b=x.version;for(let S=0,A=M.length/3-1;S<A;S+=3){const P=S+0,O=S+1,I=S+2;p.push(P,O,O,I,I,P)}}else return;const y=new(b7(p)?kI:DI)(p,1);y.version=b;const w=s.get(d);w&&e.remove(w),s.set(d,y)}function f(d){const p=s.get(d);if(p){const v=d.index;v!==null&&p.version<v.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function oEe(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,v){t.drawElements(r,v,s,p*o),n.update(v,r,1)}function u(p,v,x){x!==0&&(t.drawElementsInstanced(r,v,s,p*o,x),n.update(v,r,x))}function f(p,v,x){if(x===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let y=0;y<x;y++)this.render(p[y]/o,v[y]);else{b.multiDrawElementsWEBGL(r,v,0,s,p,0,x);let y=0;for(let w=0;w<x;w++)y+=v[w];n.update(y,r,1)}}function d(p,v,x,b){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let w=0;w<p.length;w++)u(p[w]/o,v[w],b[w]);else{y.multiDrawElementsInstancedWEBGL(r,v,0,s,p,0,b,0,x);let w=0;for(let M=0;M<x;M++)w+=v[M];for(let M=0;M<b.length;M++)n.update(w,r,b[M])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function aEe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function lEe(t,e,n){const r=new WeakMap,i=new In;function s(o,a,l){const u=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=f!==void 0?f.length:0;let p=r.get(a);if(p===void 0||p.count!==d){let F=function(){k.dispose(),r.delete(a),a.removeEventListener("dispose",F)};var v=F;p!==void 0&&p.texture.dispose();const x=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,w=a.morphAttributes.position||[],M=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let A=0;x===!0&&(A=1),b===!0&&(A=2),y===!0&&(A=3);let P=a.attributes.position.count*A,O=1;P>e.maxTextureSize&&(O=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const I=new Float32Array(P*O*4*d),k=new PS(I,P,O,d);k.type=Zs,k.needsUpdate=!0;const L=A*4;for(let j=0;j<d;j++){const H=w[j],q=M[j],X=S[j],J=P*O*4*j;for(let Z=0;Z<H.count;Z++){const ee=Z*L;x===!0&&(i.fromBufferAttribute(H,Z),I[J+ee+0]=i.x,I[J+ee+1]=i.y,I[J+ee+2]=i.z,I[J+ee+3]=0),b===!0&&(i.fromBufferAttribute(q,Z),I[J+ee+4]=i.x,I[J+ee+5]=i.y,I[J+ee+6]=i.z,I[J+ee+7]=0),y===!0&&(i.fromBufferAttribute(X,Z),I[J+ee+8]=i.x,I[J+ee+9]=i.y,I[J+ee+10]=i.z,I[J+ee+11]=X.itemSize===4?i.w:1)}}p={count:d,texture:k,size:new je(P,O)},r.set(a,p),a.addEventListener("dispose",F)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let x=0;for(let y=0;y<u.length;y++)x+=u[y];const b=a.morphTargetsRelative?1:1-x;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function uEe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class UI extends mr{constructor(e,n,r,i,s,o,a,l,u,f=ud){if(f!==ud&&f!==Sd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===ud&&(r=bd),r===void 0&&f===Sd&&(r=wd),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:ui,this.minFilter=l!==void 0?l:ui,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const O7=new mr,N7=new UI(1,1);N7.compareFunction=OI;const I7=new PS,L7=new LI,D7=new g0,l5=[],u5=[],c5=new Float32Array(16),f5=new Float32Array(9),d5=new Float32Array(4);function Rm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=l5[i];if(s===void 0&&(s=new Float32Array(i),l5[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Zr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Qr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function CS(t,e){let n=u5[e];n===void 0&&(n=new Int32Array(e),u5[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function cEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Zr(n,e))return;t.uniform2fv(this.addr,e),Qr(n,e)}}function dEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Zr(n,e))return;t.uniform3fv(this.addr,e),Qr(n,e)}}function hEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Zr(n,e))return;t.uniform4fv(this.addr,e),Qr(n,e)}}function pEe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Zr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Qr(n,e)}else{if(Zr(n,r))return;d5.set(r),t.uniformMatrix2fv(this.addr,!1,d5),Qr(n,r)}}function mEe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Zr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Qr(n,e)}else{if(Zr(n,r))return;f5.set(r),t.uniformMatrix3fv(this.addr,!1,f5),Qr(n,r)}}function gEe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Zr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Qr(n,e)}else{if(Zr(n,r))return;c5.set(r),t.uniformMatrix4fv(this.addr,!1,c5),Qr(n,r)}}function vEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function yEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Zr(n,e))return;t.uniform2iv(this.addr,e),Qr(n,e)}}function xEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Zr(n,e))return;t.uniform3iv(this.addr,e),Qr(n,e)}}function _Ee(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Zr(n,e))return;t.uniform4iv(this.addr,e),Qr(n,e)}}function bEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function wEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Zr(n,e))return;t.uniform2uiv(this.addr,e),Qr(n,e)}}function SEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Zr(n,e))return;t.uniform3uiv(this.addr,e),Qr(n,e)}}function MEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Zr(n,e))return;t.uniform4uiv(this.addr,e),Qr(n,e)}}function EEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?N7:O7;n.setTexture2D(e||s,i)}function TEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||L7,i)}function AEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||D7,i)}function PEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||I7,i)}function CEe(t){switch(t){case 5126:return cEe;case 35664:return fEe;case 35665:return dEe;case 35666:return hEe;case 35674:return pEe;case 35675:return mEe;case 35676:return gEe;case 5124:case 35670:return vEe;case 35667:case 35671:return yEe;case 35668:case 35672:return xEe;case 35669:case 35673:return _Ee;case 5125:return bEe;case 36294:return wEe;case 36295:return SEe;case 36296:return MEe;case 35678:case 36198:case 36298:case 36306:case 35682:return EEe;case 35679:case 36299:case 36307:return TEe;case 35680:case 36300:case 36308:case 36293:return AEe;case 36289:case 36303:case 36311:case 36292:return PEe}}function REe(t,e){t.uniform1fv(this.addr,e)}function OEe(t,e){const n=Rm(e,this.size,2);t.uniform2fv(this.addr,n)}function NEe(t,e){const n=Rm(e,this.size,3);t.uniform3fv(this.addr,n)}function IEe(t,e){const n=Rm(e,this.size,4);t.uniform4fv(this.addr,n)}function LEe(t,e){const n=Rm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function DEe(t,e){const n=Rm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function kEe(t,e){const n=Rm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function FEe(t,e){t.uniform1iv(this.addr,e)}function UEe(t,e){t.uniform2iv(this.addr,e)}function BEe(t,e){t.uniform3iv(this.addr,e)}function jEe(t,e){t.uniform4iv(this.addr,e)}function zEe(t,e){t.uniform1uiv(this.addr,e)}function VEe(t,e){t.uniform2uiv(this.addr,e)}function HEe(t,e){t.uniform3uiv(this.addr,e)}function WEe(t,e){t.uniform4uiv(this.addr,e)}function GEe(t,e,n){const r=this.cache,i=e.length,s=CS(n,i);Zr(r,s)||(t.uniform1iv(this.addr,s),Qr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||O7,s[o])}function $Ee(t,e,n){const r=this.cache,i=e.length,s=CS(n,i);Zr(r,s)||(t.uniform1iv(this.addr,s),Qr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||L7,s[o])}function qEe(t,e,n){const r=this.cache,i=e.length,s=CS(n,i);Zr(r,s)||(t.uniform1iv(this.addr,s),Qr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||D7,s[o])}function XEe(t,e,n){const r=this.cache,i=e.length,s=CS(n,i);Zr(r,s)||(t.uniform1iv(this.addr,s),Qr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||I7,s[o])}function KEe(t){switch(t){case 5126:return REe;case 35664:return OEe;case 35665:return NEe;case 35666:return IEe;case 35674:return LEe;case 35675:return DEe;case 35676:return kEe;case 5124:case 35670:return FEe;case 35667:case 35671:return UEe;case 35668:case 35672:return BEe;case 35669:case 35673:return jEe;case 5125:return zEe;case 36294:return VEe;case 36295:return HEe;case 36296:return WEe;case 35678:case 36198:case 36298:case 36306:case 35682:return GEe;case 35679:case 36299:case 36307:return $Ee;case 35680:case 36300:case 36308:case 36293:return qEe;case 36289:case 36303:case 36311:case 36292:return XEe}}class YEe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=CEe(n.type)}}class ZEe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=KEe(n.type)}}class QEe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const LP=/(\w+)(\])?(\[|\.)?/g;function h5(t,e){t.seq.push(e),t.map[e.id]=e}function JEe(t,e,n){const r=t.name,i=r.length;for(LP.lastIndex=0;;){const s=LP.exec(r),o=LP.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){h5(n,u===void 0?new YEe(a,t,e):new ZEe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new QEe(a),h5(n,d)),n=d}}}class Y_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);JEe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function p5(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const eTe=37297;let tTe=0;function nTe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function rTe(t){const e=En.getPrimaries(En.workingColorSpace),n=En.getPrimaries(t);let r;switch(e===n?r="":e===Ny&&n===Oy?r="LinearDisplayP3ToLinearSRGB":e===Oy&&n===Ny&&(r="LinearSRGBToLinearDisplayP3"),t){case yu:case p0:return[r,"LinearTransferOETF"];case Mo:case AS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function m5(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+nTe(t.getShaderSource(e),o)}else return i}function iTe(t,e){const n=rTe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function sTe(t,e){let n;switch(e){case $9:n="Linear";break;case q9:n="Reinhard";break;case X9:n="OptimizedCineon";break;case bI:n="ACESFilmic";break;case Y9:n="AgX";break;case Z9:n="Neutral";break;case K9:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function oTe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(hv).join(`
`)}function aTe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function lTe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function hv(t){return t!==""}function g5(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function v5(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function eO(t){return t.replace(uTe,fTe)}const cTe=new Map;function fTe(t,e){let n=Jt[e];if(n===void 0){const r=cTe.get(e);if(r!==void 0)n=Jt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return eO(n)}const dTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function y5(t){return t.replace(dTe,hTe)}function hTe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function x5(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function pTe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===MS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Tv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===la&&(e="SHADOWMAP_TYPE_VSM"),e}function mTe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case hu:case Ec:e="ENVMAP_TYPE_CUBE";break;case Am:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gTe(t){let e="ENVMAP_MODE_REFLECTION";return t.envMap&&t.envMapMode===Ec&&(e="ENVMAP_MODE_REFRACTION"),e}function vTe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case d0:e="ENVMAP_BLENDING_MULTIPLY";break;case W9:e="ENVMAP_BLENDING_MIX";break;case G9:e="ENVMAP_BLENDING_ADD";break}return e}function yTe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function xTe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=pTe(n),u=mTe(n),f=gTe(n),d=vTe(n),p=yTe(n),v=oTe(n),x=aTe(s),b=i.createProgram();let y,w,M=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(hv).join(`
`),y.length>0&&(y+=`
`),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(hv).join(`
`),w.length>0&&(w+=`
`)):(y=[x5(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(hv).join(`
`),w=[x5(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ka?"#define TONE_MAPPING":"",n.toneMapping!==Ka?Jt.tonemapping_pars_fragment:"",n.toneMapping!==Ka?sTe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Jt.colorspace_pars_fragment,iTe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(hv).join(`
`)),o=eO(o),o=g5(o,n),o=v5(o,n),a=eO(a),a=g5(a,n),a=v5(a,n),o=y5(o),a=y5(a),n.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,y=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",n.glslVersion===Q2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Q2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const S=M+y+o,A=M+w+a,P=p5(i,i.VERTEX_SHADER,S),O=p5(i,i.FRAGMENT_SHADER,A);i.attachShader(b,P),i.attachShader(b,O),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function I(j){if(t.debug.checkShaderErrors){const H=i.getProgramInfoLog(b).trim(),q=i.getShaderInfoLog(P).trim(),X=i.getShaderInfoLog(O).trim();let J=!0,Z=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,P,O);else{const ee=m5(i,P,"vertex"),V=m5(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+H+`
`+ee+`
`+V)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(q===""||X==="")&&(Z=!1);Z&&(j.diagnostics={runnable:J,programLog:H,vertexShader:{log:q,prefix:y},fragmentShader:{log:X,prefix:w}})}i.deleteShader(P),i.deleteShader(O),k=new Y_(i,b),L=lTe(i,b)}let k;this.getUniforms=function(){return k===void 0&&I(this),k};let L;this.getAttributes=function(){return L===void 0&&I(this),L};let F=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=i.getProgramParameter(b,eTe)),F},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=tTe++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=P,this.fragmentShader=O,this}let _Te=0;class bTe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new wTe(e),n.set(e,r)),r}}class wTe{constructor(e){this.id=_Te++,this.code=e,this.usedTimes=0}}function STe(t,e,n,r,i,s,o){const a=new dd,l=new bTe,u=new Set,f=[],d=i.logarithmicDepthBuffer,p=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(L){return u.add(L),L===0?"uv":`uv${L}`}function y(L,F,j,H,q){const X=H.fog,J=q.geometry,Z=L.isMeshStandardMaterial?H.environment:null,ee=(L.isMeshStandardMaterial?n:e).get(L.envMap||Z),V=ee&&ee.mapping===Am?ee.image.height:null,K=x[L.type];L.precision!==null&&(v=i.getMaxPrecision(L.precision),v!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",v,"instead."));const Q=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,G=Q!==void 0?Q.length:0;let ne=0;J.morphAttributes.position!==void 0&&(ne=1),J.morphAttributes.normal!==void 0&&(ne=2),J.morphAttributes.color!==void 0&&(ne=3);let ye,ue,xe,Re;if(K){const hn=fa[K];ye=hn.vertexShader,ue=hn.fragmentShader}else ye=L.vertexShader,ue=L.fragmentShader,l.update(L),xe=l.getVertexShaderID(L),Re=l.getFragmentShaderID(L);const Ce=t.getRenderTarget(),qe=q.isInstancedMesh===!0,Ae=q.isBatchedMesh===!0,ze=!!L.map,se=!!L.matcap,ae=!!ee,Me=!!L.aoMap,Ne=!!L.lightMap,De=!!L.bumpMap,ke=!!L.normalMap,Ze=!!L.displacementMap,et=!!L.emissiveMap,At=!!L.metalnessMap,ie=!!L.roughnessMap,$=L.anisotropy>0,be=L.clearcoat>0,Be=L.dispersion>0,Fe=L.iridescence>0,Ve=L.sheen>0,Et=L.transmission>0,nt=$&&!!L.anisotropyMap,rt=be&&!!L.clearcoatMap,Bt=be&&!!L.clearcoatNormalMap,$e=be&&!!L.clearcoatRoughnessMap,mt=Fe&&!!L.iridescenceMap,tn=Fe&&!!L.iridescenceThicknessMap,It=Ve&&!!L.sheenColorMap,ot=Ve&&!!L.sheenRoughnessMap,Wt=!!L.specularMap,Yt=!!L.specularColorMap,Dn=!!L.specularIntensityMap,ce=Et&&!!L.transmissionMap,at=Et&&!!L.thicknessMap,Le=!!L.gradientMap,Ue=!!L.alphaMap,Xe=L.alphaTest>0,Lt=!!L.alphaHash,on=!!L.extensions;let Vn=Ka;L.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(Vn=t.toneMapping);const lr={shaderID:K,shaderType:L.type,shaderName:L.name,vertexShader:ye,fragmentShader:ue,defines:L.defines,customVertexShaderID:xe,customFragmentShaderID:Re,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:v,batching:Ae,batchingColor:Ae&&q._colorsTexture!==null,instancing:qe,instancingColor:qe&&q.instanceColor!==null,instancingMorph:qe&&q.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Ce===null?t.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:yu,alphaToCoverage:!!L.alphaToCoverage,map:ze,matcap:se,envMap:ae,envMapMode:ae&&ee.mapping,envMapCubeUVHeight:V,aoMap:Me,lightMap:Ne,bumpMap:De,normalMap:ke,displacementMap:p&&Ze,emissiveMap:et,normalMapObjectSpace:ke&&L.normalMapType===h7,normalMapTangentSpace:ke&&L.normalMapType===Lc,metalnessMap:At,roughnessMap:ie,anisotropy:$,anisotropyMap:nt,clearcoat:be,clearcoatMap:rt,clearcoatNormalMap:Bt,clearcoatRoughnessMap:$e,dispersion:Be,iridescence:Fe,iridescenceMap:mt,iridescenceThicknessMap:tn,sheen:Ve,sheenColorMap:It,sheenRoughnessMap:ot,specularMap:Wt,specularColorMap:Yt,specularIntensityMap:Dn,transmission:Et,transmissionMap:ce,thicknessMap:at,gradientMap:Le,opaque:L.transparent===!1&&L.blending===ld&&L.alphaToCoverage===!1,alphaMap:Ue,alphaTest:Xe,alphaHash:Lt,combine:L.combine,mapUv:ze&&b(L.map.channel),aoMapUv:Me&&b(L.aoMap.channel),lightMapUv:Ne&&b(L.lightMap.channel),bumpMapUv:De&&b(L.bumpMap.channel),normalMapUv:ke&&b(L.normalMap.channel),displacementMapUv:Ze&&b(L.displacementMap.channel),emissiveMapUv:et&&b(L.emissiveMap.channel),metalnessMapUv:At&&b(L.metalnessMap.channel),roughnessMapUv:ie&&b(L.roughnessMap.channel),anisotropyMapUv:nt&&b(L.anisotropyMap.channel),clearcoatMapUv:rt&&b(L.clearcoatMap.channel),clearcoatNormalMapUv:Bt&&b(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&b(L.clearcoatRoughnessMap.channel),iridescenceMapUv:mt&&b(L.iridescenceMap.channel),iridescenceThicknessMapUv:tn&&b(L.iridescenceThicknessMap.channel),sheenColorMapUv:It&&b(L.sheenColorMap.channel),sheenRoughnessMapUv:ot&&b(L.sheenRoughnessMap.channel),specularMapUv:Wt&&b(L.specularMap.channel),specularColorMapUv:Yt&&b(L.specularColorMap.channel),specularIntensityMapUv:Dn&&b(L.specularIntensityMap.channel),transmissionMapUv:ce&&b(L.transmissionMap.channel),thicknessMapUv:at&&b(L.thicknessMap.channel),alphaMapUv:Ue&&b(L.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(ke||$),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!J.attributes.uv&&(ze||Ue),fog:!!X,useFog:L.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:q.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:ne,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:Vn,decodeVideoTexture:ze&&L.map.isVideoTexture===!0&&En.getTransfer(L.map.colorSpace)===Xn,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===ja,flipSided:L.side===ds,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:on&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:on&&L.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return lr.vertexUv1s=u.has(1),lr.vertexUv2s=u.has(2),lr.vertexUv3s=u.has(3),u.clear(),lr}function w(L){const F=[];if(L.shaderID?F.push(L.shaderID):(F.push(L.customVertexShaderID),F.push(L.customFragmentShaderID)),L.defines!==void 0)for(const j in L.defines)F.push(j),F.push(L.defines[j]);return L.isRawShaderMaterial===!1&&(M(F,L),S(F,L),F.push(t.outputColorSpace)),F.push(L.customProgramCacheKey),F.join()}function M(L,F){L.push(F.precision),L.push(F.outputColorSpace),L.push(F.envMapMode),L.push(F.envMapCubeUVHeight),L.push(F.mapUv),L.push(F.alphaMapUv),L.push(F.lightMapUv),L.push(F.aoMapUv),L.push(F.bumpMapUv),L.push(F.normalMapUv),L.push(F.displacementMapUv),L.push(F.emissiveMapUv),L.push(F.metalnessMapUv),L.push(F.roughnessMapUv),L.push(F.anisotropyMapUv),L.push(F.clearcoatMapUv),L.push(F.clearcoatNormalMapUv),L.push(F.clearcoatRoughnessMapUv),L.push(F.iridescenceMapUv),L.push(F.iridescenceThicknessMapUv),L.push(F.sheenColorMapUv),L.push(F.sheenRoughnessMapUv),L.push(F.specularMapUv),L.push(F.specularColorMapUv),L.push(F.specularIntensityMapUv),L.push(F.transmissionMapUv),L.push(F.thicknessMapUv),L.push(F.combine),L.push(F.fogExp2),L.push(F.sizeAttenuation),L.push(F.morphTargetsCount),L.push(F.morphAttributeCount),L.push(F.numDirLights),L.push(F.numPointLights),L.push(F.numSpotLights),L.push(F.numSpotLightMaps),L.push(F.numHemiLights),L.push(F.numRectAreaLights),L.push(F.numDirLightShadows),L.push(F.numPointLightShadows),L.push(F.numSpotLightShadows),L.push(F.numSpotLightShadowsWithMaps),L.push(F.numLightProbes),L.push(F.shadowMapType),L.push(F.toneMapping),L.push(F.numClippingPlanes),L.push(F.numClipIntersection),L.push(F.depthPacking)}function S(L,F){a.disableAll(),F.supportsVertexTextures&&a.enable(0),F.instancing&&a.enable(1),F.instancingColor&&a.enable(2),F.instancingMorph&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),F.alphaHash&&a.enable(18),F.batching&&a.enable(19),F.dispersion&&a.enable(20),F.batchingColor&&a.enable(21),L.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.skinning&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.doubleSided&&a.enable(10),F.flipSided&&a.enable(11),F.useDepthPacking&&a.enable(12),F.dithering&&a.enable(13),F.transmission&&a.enable(14),F.sheen&&a.enable(15),F.opaque&&a.enable(16),F.pointsUvs&&a.enable(17),F.decodeVideoTexture&&a.enable(18),F.alphaToCoverage&&a.enable(19),L.push(a.mask)}function A(L){const F=x[L.type];let j;if(F){const H=fa[F];j=A7.clone(H.uniforms)}else j=L.uniforms;return j}function P(L,F){let j;for(let H=0,q=f.length;H<q;H++){const X=f[H];if(X.cacheKey===F){j=X,++j.usedTimes;break}}return j===void 0&&(j=new xTe(t,F,L,s),f.push(j)),j}function O(L){if(--L.usedTimes===0){const F=f.indexOf(L);f[F]=f[f.length-1],f.pop(),L.destroy()}}function I(L){l.remove(L)}function k(){l.dispose()}return{getParameters:y,getProgramCacheKey:w,getUniforms:A,acquireProgram:P,releaseProgram:O,releaseShaderCache:I,programs:f,dispose:k}}function MTe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function ETe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _5(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function b5(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,v,x,b,y){let w=t[e];return w===void 0?(w={id:d.id,object:d,geometry:p,material:v,groupOrder:x,renderOrder:d.renderOrder,z:b,group:y},t[e]=w):(w.id=d.id,w.object=d,w.geometry=p,w.material=v,w.groupOrder=x,w.renderOrder=d.renderOrder,w.z=b,w.group=y),e++,w}function a(d,p,v,x,b,y){const w=o(d,p,v,x,b,y);v.transmission>0?r.push(w):v.transparent===!0?i.push(w):n.push(w)}function l(d,p,v,x,b,y){const w=o(d,p,v,x,b,y);v.transmission>0?r.unshift(w):v.transparent===!0?i.unshift(w):n.unshift(w)}function u(d,p){n.length>1&&n.sort(d||ETe),r.length>1&&r.sort(p||_5),i.length>1&&i.sort(p||_5)}function f(){for(let d=e,p=t.length;d<p;d++){const v=t[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function TTe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new b5,t.set(r,[o])):i>=s.length?(o=new b5,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function ATe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new ht};break;case"SpotLight":n={position:new te,direction:new te,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function PTe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let CTe=0;function RTe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function OTe(t){const e=new ATe,n=PTe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new te);const i=new te,s=new Nt,o=new Nt;function a(u){let f=0,d=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let v=0,x=0,b=0,y=0,w=0,M=0,S=0,A=0,P=0,O=0,I=0;u.sort(RTe);for(let L=0,F=u.length;L<F;L++){const j=u[L],H=j.color,q=j.intensity,X=j.distance,J=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)f+=H.r*q,d+=H.g*q,p+=H.b*q;else if(j.isLightProbe){for(let Z=0;Z<9;Z++)r.probe[Z].addScaledVector(j.sh.coefficients[Z],q);I++}else if(j.isDirectionalLight){const Z=e.get(j);if(Z.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const ee=j.shadow,V=n.get(j);V.shadowBias=ee.bias,V.shadowNormalBias=ee.normalBias,V.shadowRadius=ee.radius,V.shadowMapSize=ee.mapSize,r.directionalShadow[v]=V,r.directionalShadowMap[v]=J,r.directionalShadowMatrix[v]=j.shadow.matrix,M++}r.directional[v]=Z,v++}else if(j.isSpotLight){const Z=e.get(j);Z.position.setFromMatrixPosition(j.matrixWorld),Z.color.copy(H).multiplyScalar(q),Z.distance=X,Z.coneCos=Math.cos(j.angle),Z.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),Z.decay=j.decay,r.spot[b]=Z;const ee=j.shadow;if(j.map&&(r.spotLightMap[P]=j.map,P++,ee.updateMatrices(j),j.castShadow&&O++),r.spotLightMatrix[b]=ee.matrix,j.castShadow){const V=n.get(j);V.shadowBias=ee.bias,V.shadowNormalBias=ee.normalBias,V.shadowRadius=ee.radius,V.shadowMapSize=ee.mapSize,r.spotShadow[b]=V,r.spotShadowMap[b]=J,A++}b++}else if(j.isRectAreaLight){const Z=e.get(j);Z.color.copy(H).multiplyScalar(q),Z.halfWidth.set(j.width*.5,0,0),Z.halfHeight.set(0,j.height*.5,0),r.rectArea[y]=Z,y++}else if(j.isPointLight){const Z=e.get(j);if(Z.color.copy(j.color).multiplyScalar(j.intensity),Z.distance=j.distance,Z.decay=j.decay,j.castShadow){const ee=j.shadow,V=n.get(j);V.shadowBias=ee.bias,V.shadowNormalBias=ee.normalBias,V.shadowRadius=ee.radius,V.shadowMapSize=ee.mapSize,V.shadowCameraNear=ee.camera.near,V.shadowCameraFar=ee.camera.far,r.pointShadow[x]=V,r.pointShadowMap[x]=J,r.pointShadowMatrix[x]=j.shadow.matrix,S++}r.point[x]=Z,x++}else if(j.isHemisphereLight){const Z=e.get(j);Z.skyColor.copy(j.color).multiplyScalar(q),Z.groundColor.copy(j.groundColor).multiplyScalar(q),r.hemi[w]=Z,w++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=st.LTC_FLOAT_1,r.rectAreaLTC2=st.LTC_FLOAT_2):(r.rectAreaLTC1=st.LTC_HALF_1,r.rectAreaLTC2=st.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=p;const k=r.hash;(k.directionalLength!==v||k.pointLength!==x||k.spotLength!==b||k.rectAreaLength!==y||k.hemiLength!==w||k.numDirectionalShadows!==M||k.numPointShadows!==S||k.numSpotShadows!==A||k.numSpotMaps!==P||k.numLightProbes!==I)&&(r.directional.length=v,r.spot.length=b,r.rectArea.length=y,r.point.length=x,r.hemi.length=w,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=A+P-O,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=O,r.numLightProbes=I,k.directionalLength=v,k.pointLength=x,k.spotLength=b,k.rectAreaLength=y,k.hemiLength=w,k.numDirectionalShadows=M,k.numPointShadows=S,k.numSpotShadows=A,k.numSpotMaps=P,k.numLightProbes=I,r.version=CTe++)}function l(u,f){let d=0,p=0,v=0,x=0,b=0;const y=f.matrixWorldInverse;for(let w=0,M=u.length;w<M;w++){const S=u[w];if(S.isDirectionalLight){const A=r.directional[d];A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(y),d++}else if(S.isSpotLight){const A=r.spot[v];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(y),A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(y),v++}else if(S.isRectAreaLight){const A=r.rectArea[x];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(y),o.identity(),s.copy(S.matrixWorld),s.premultiply(y),o.extractRotation(s),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),x++}else if(S.isPointLight){const A=r.point[p];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const A=r.hemi[b];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(y),b++}}}return{setup:a,setupView:l,state:r}}function w5(t){const e=new OTe(t),n=[],r=[];function i(f){u.camera=f,n.length=0,r.length=0}function s(f){n.push(f)}function o(f){r.push(f)}function a(){e.setup(n)}function l(f){e.setupView(n,f)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function NTe(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new w5(t),e.set(i,[a])):s>=o.length?(a=new w5(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class BI extends Pi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=f7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jI extends Pi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ITe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LTe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function DTe(t,e,n){let r=new v0;const i=new je,s=new je,o=new In,a=new BI({depthPacking:d7}),l=new jI,u={},f=n.maxTextureSize,d={[du]:ds,[ds]:du,[ja]:ja},p=new xa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new je},radius:{value:4}},vertexShader:ITe,fragmentShader:LTe}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const x=new en;x.setAttribute("position",new Ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Ur(x,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=MS;let w=this.type;this.render=function(O,I,k){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||O.length===0)return;const L=t.getRenderTarget(),F=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),H=t.state;H.setBlending(tu),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const q=w!==la&&this.type===la,X=w===la&&this.type!==la;for(let J=0,Z=O.length;J<Z;J++){const ee=O[J],V=ee.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const K=V.getFrameExtents();if(i.multiply(K),s.copy(V.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/K.x),i.x=s.x*K.x,V.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/K.y),i.y=s.y*K.y,V.mapSize.y=s.y)),V.map===null||q===!0||X===!0){const G=this.type!==la?{minFilter:ui,magFilter:ui}:{};V.map!==null&&V.map.dispose(),V.map=new ya(i.x,i.y,G),V.map.texture.name=ee.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const Q=V.getViewportCount();for(let G=0;G<Q;G++){const ne=V.getViewport(G);o.set(s.x*ne.x,s.y*ne.y,s.x*ne.z,s.y*ne.w),H.viewport(o),V.updateMatrices(ee,G),r=V.getFrustum(),A(I,k,V.camera,ee,this.type)}V.isPointLightShadow!==!0&&this.type===la&&M(V,k),V.needsUpdate=!1}w=this.type,y.needsUpdate=!1,t.setRenderTarget(L,F,j)};function M(O,I){const k=e.update(b);p.defines.VSM_SAMPLES!==O.blurSamples&&(p.defines.VSM_SAMPLES=O.blurSamples,v.defines.VSM_SAMPLES=O.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new ya(i.x,i.y)),p.uniforms.shadow_pass.value=O.map.texture,p.uniforms.resolution.value=O.mapSize,p.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(I,null,k,p,b,null),v.uniforms.shadow_pass.value=O.mapPass.texture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(I,null,k,v,b,null)}function S(O,I,k,L){let F=null;const j=k.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(j!==void 0)F=j;else if(F=k.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const H=F.uuid,q=I.uuid;let X=u[H];X===void 0&&(X={},u[H]=X);let J=X[q];J===void 0&&(J=F.clone(),X[q]=J,I.addEventListener("dispose",P)),F=J}if(F.visible=I.visible,F.wireframe=I.wireframe,L===la?F.side=I.shadowSide!==null?I.shadowSide:I.side:F.side=I.shadowSide!==null?I.shadowSide:d[I.side],F.alphaMap=I.alphaMap,F.alphaTest=I.alphaTest,F.map=I.map,F.clipShadows=I.clipShadows,F.clippingPlanes=I.clippingPlanes,F.clipIntersection=I.clipIntersection,F.displacementMap=I.displacementMap,F.displacementScale=I.displacementScale,F.displacementBias=I.displacementBias,F.wireframeLinewidth=I.wireframeLinewidth,F.linewidth=I.linewidth,k.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const H=t.properties.get(F);H.light=k}return F}function A(O,I,k,L,F){if(O.visible===!1)return;if(O.layers.test(I.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&F===la)&&(!O.frustumCulled||r.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,O.matrixWorld);const q=e.update(O),X=O.material;if(Array.isArray(X)){const J=q.groups;for(let Z=0,ee=J.length;Z<ee;Z++){const V=J[Z],K=X[V.materialIndex];if(K&&K.visible){const Q=S(O,K,L,F);O.onBeforeShadow(t,O,I,k,q,Q,V),t.renderBufferDirect(k,null,q,Q,O,V),O.onAfterShadow(t,O,I,k,q,Q,V)}}}else if(X.visible){const J=S(O,X,L,F);O.onBeforeShadow(t,O,I,k,q,J,null),t.renderBufferDirect(k,null,q,J,O,null),O.onAfterShadow(t,O,I,k,q,J,null)}}const H=O.children;for(let q=0,X=H.length;q<X;q++)A(H[q],I,k,L,F)}function P(O){O.target.removeEventListener("dispose",P);for(const k in u){const L=u[k],F=O.target.uuid;F in L&&(L[F].dispose(),delete L[F])}}}function kTe(t){function e(){let ce=!1;const at=new In;let Le=null;const Ue=new In(0,0,0,0);return{setMask:function(Xe){Le!==Xe&&!ce&&(t.colorMask(Xe,Xe,Xe,Xe),Le=Xe)},setLocked:function(Xe){ce=Xe},setClear:function(Xe,Lt,on,Vn,lr){lr===!0&&(Xe*=Vn,Lt*=Vn,on*=Vn),at.set(Xe,Lt,on,Vn),Ue.equals(at)===!1&&(t.clearColor(Xe,Lt,on,Vn),Ue.copy(at))},reset:function(){ce=!1,Le=null,Ue.set(-1,0,0,0)}}}function n(){let ce=!1,at=null,Le=null,Ue=null;return{setTest:function(Xe){Xe?Re(t.DEPTH_TEST):Ce(t.DEPTH_TEST)},setMask:function(Xe){at!==Xe&&!ce&&(t.depthMask(Xe),at=Xe)},setFunc:function(Xe){if(Le!==Xe){switch(Xe){case F9:t.depthFunc(t.NEVER);break;case U9:t.depthFunc(t.ALWAYS);break;case B9:t.depthFunc(t.LESS);break;case wy:t.depthFunc(t.LEQUAL);break;case j9:t.depthFunc(t.EQUAL);break;case z9:t.depthFunc(t.GEQUAL);break;case V9:t.depthFunc(t.GREATER);break;case H9:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Le=Xe}},setLocked:function(Xe){ce=Xe},setClear:function(Xe){Ue!==Xe&&(t.clearDepth(Xe),Ue=Xe)},reset:function(){ce=!1,at=null,Le=null,Ue=null}}}function r(){let ce=!1,at=null,Le=null,Ue=null,Xe=null,Lt=null,on=null,Vn=null,lr=null;return{setTest:function(hn){ce||(hn?Re(t.STENCIL_TEST):Ce(t.STENCIL_TEST))},setMask:function(hn){at!==hn&&!ce&&(t.stencilMask(hn),at=hn)},setFunc:function(hn,di,Ci){(Le!==hn||Ue!==di||Xe!==Ci)&&(t.stencilFunc(hn,di,Ci),Le=hn,Ue=di,Xe=Ci)},setOp:function(hn,di,Ci){(Lt!==hn||on!==di||Vn!==Ci)&&(t.stencilOp(hn,di,Ci),Lt=hn,on=di,Vn=Ci)},setLocked:function(hn){ce=hn},setClear:function(hn){lr!==hn&&(t.clearStencil(hn),lr=hn)},reset:function(){ce=!1,at=null,Le=null,Ue=null,Xe=null,Lt=null,on=null,Vn=null,lr=null}}}const i=new e,s=new n,o=new r,a=new WeakMap,l=new WeakMap;let u={},f={},d=new WeakMap,p=[],v=null,x=!1,b=null,y=null,w=null,M=null,S=null,A=null,P=null,O=new ht(0,0,0),I=0,k=!1,L=null,F=null,j=null,H=null,q=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,Z=0;const ee=t.getParameter(t.VERSION);ee.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(ee)[1]),J=Z>=1):ee.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),J=Z>=2);let V=null,K={};const Q=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),ne=new In().fromArray(Q),ye=new In().fromArray(G);function ue(ce,at,Le,Ue){const Xe=new Uint8Array(4),Lt=t.createTexture();t.bindTexture(ce,Lt),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let on=0;on<Le;on++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(at,0,t.RGBA,1,1,Ue,0,t.RGBA,t.UNSIGNED_BYTE,Xe):t.texImage2D(at+on,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Xe);return Lt}const xe={};xe[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),xe[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),xe[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),xe[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Re(t.DEPTH_TEST),s.setFunc(wy),De(!1),ke(_2),Re(t.CULL_FACE),Me(tu);function Re(ce){u[ce]!==!0&&(t.enable(ce),u[ce]=!0)}function Ce(ce){u[ce]!==!1&&(t.disable(ce),u[ce]=!1)}function qe(ce,at){return f[ce]!==at?(t.bindFramebuffer(ce,at),f[ce]=at,ce===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=at),ce===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=at),!0):!1}function Ae(ce,at){let Le=p,Ue=!1;if(ce){Le=d.get(at),Le===void 0&&(Le=[],d.set(at,Le));const Xe=ce.textures;if(Le.length!==Xe.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let Lt=0,on=Xe.length;Lt<on;Lt++)Le[Lt]=t.COLOR_ATTACHMENT0+Lt;Le.length=Xe.length,Ue=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,Ue=!0);Ue&&t.drawBuffers(Le)}function ze(ce){return v!==ce?(t.useProgram(ce),v=ce,!0):!1}const se={[pc]:t.FUNC_ADD,[_9]:t.FUNC_SUBTRACT,[b9]:t.FUNC_REVERSE_SUBTRACT};se[w9]=t.MIN,se[S9]=t.MAX;const ae={[M9]:t.ZERO,[E9]:t.ONE,[T9]:t.SRC_COLOR,[cw]:t.SRC_ALPHA,[N9]:t.SRC_ALPHA_SATURATE,[R9]:t.DST_COLOR,[P9]:t.DST_ALPHA,[A9]:t.ONE_MINUS_SRC_COLOR,[fw]:t.ONE_MINUS_SRC_ALPHA,[O9]:t.ONE_MINUS_DST_COLOR,[C9]:t.ONE_MINUS_DST_ALPHA,[I9]:t.CONSTANT_COLOR,[L9]:t.ONE_MINUS_CONSTANT_COLOR,[D9]:t.CONSTANT_ALPHA,[k9]:t.ONE_MINUS_CONSTANT_ALPHA};function Me(ce,at,Le,Ue,Xe,Lt,on,Vn,lr,hn){if(ce===tu){x===!0&&(Ce(t.BLEND),x=!1);return}if(x===!1&&(Re(t.BLEND),x=!0),ce!==x9){if(ce!==b||hn!==k){if((y!==pc||S!==pc)&&(t.blendEquation(t.FUNC_ADD),y=pc,S=pc),hn)switch(ce){case ld:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case b2:t.blendFunc(t.ONE,t.ONE);break;case w2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case S2:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case ld:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case b2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case w2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case S2:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}w=null,M=null,A=null,P=null,O.set(0,0,0),I=0,b=ce,k=hn}return}Xe=Xe||at,Lt=Lt||Le,on=on||Ue,(at!==y||Xe!==S)&&(t.blendEquationSeparate(se[at],se[Xe]),y=at,S=Xe),(Le!==w||Ue!==M||Lt!==A||on!==P)&&(t.blendFuncSeparate(ae[Le],ae[Ue],ae[Lt],ae[on]),w=Le,M=Ue,A=Lt,P=on),(Vn.equals(O)===!1||lr!==I)&&(t.blendColor(Vn.r,Vn.g,Vn.b,lr),O.copy(Vn),I=lr),b=ce,k=!1}function Ne(ce,at){ce.side===ja?Ce(t.CULL_FACE):Re(t.CULL_FACE);let Le=ce.side===ds;at&&(Le=!Le),De(Le),ce.blending===ld&&ce.transparent===!1?Me(tu):Me(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),s.setFunc(ce.depthFunc),s.setTest(ce.depthTest),s.setMask(ce.depthWrite),i.setMask(ce.colorWrite);const Ue=ce.stencilWrite;o.setTest(Ue),Ue&&(o.setMask(ce.stencilWriteMask),o.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),o.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),et(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?Re(t.SAMPLE_ALPHA_TO_COVERAGE):Ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function De(ce){L!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),L=ce)}function ke(ce){ce!==g9?(Re(t.CULL_FACE),ce!==F&&(ce===_2?t.cullFace(t.BACK):ce===v9?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ce(t.CULL_FACE),F=ce}function Ze(ce){ce!==j&&(J&&t.lineWidth(ce),j=ce)}function et(ce,at,Le){ce?(Re(t.POLYGON_OFFSET_FILL),(H!==at||q!==Le)&&(t.polygonOffset(at,Le),H=at,q=Le)):Ce(t.POLYGON_OFFSET_FILL)}function At(ce){ce?Re(t.SCISSOR_TEST):Ce(t.SCISSOR_TEST)}function ie(ce){ce===void 0&&(ce=t.TEXTURE0+X-1),V!==ce&&(t.activeTexture(ce),V=ce)}function $(ce,at,Le){Le===void 0&&(V===null?Le=t.TEXTURE0+X-1:Le=V);let Ue=K[Le];Ue===void 0&&(Ue={type:void 0,texture:void 0},K[Le]=Ue),(Ue.type!==ce||Ue.texture!==at)&&(V!==Le&&(t.activeTexture(Le),V=Le),t.bindTexture(ce,at||xe[ce]),Ue.type=ce,Ue.texture=at)}function be(){const ce=K[V];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Fe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ve(){try{t.texSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Et(){try{t.texSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function nt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function rt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Bt(){try{t.texStorage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function $e(){try{t.texStorage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function mt(){try{t.texImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tn(){try{t.texImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function It(ce){ne.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),ne.copy(ce))}function ot(ce){ye.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),ye.copy(ce))}function Wt(ce,at){let Le=l.get(at);Le===void 0&&(Le=new WeakMap,l.set(at,Le));let Ue=Le.get(ce);Ue===void 0&&(Ue=t.getUniformBlockIndex(at,ce.name),Le.set(ce,Ue))}function Yt(ce,at){const Ue=l.get(at).get(ce);a.get(at)!==Ue&&(t.uniformBlockBinding(at,Ue,ce.__bindingPointIndex),a.set(at,Ue))}function Dn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},V=null,K={},f={},d=new WeakMap,p=[],v=null,x=!1,b=null,y=null,w=null,M=null,S=null,A=null,P=null,O=new ht(0,0,0),I=0,k=!1,L=null,F=null,j=null,H=null,q=null,ne.set(0,0,t.canvas.width,t.canvas.height),ye.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:Re,disable:Ce,bindFramebuffer:qe,drawBuffers:Ae,useProgram:ze,setBlending:Me,setMaterial:Ne,setFlipSided:De,setCullFace:ke,setLineWidth:Ze,setPolygonOffset:et,setScissorTest:At,activeTexture:ie,bindTexture:$,unbindTexture:be,compressedTexImage2D:Be,compressedTexImage3D:Fe,texImage2D:mt,texImage3D:tn,updateUBOMapping:Wt,uniformBlockBinding:Yt,texStorage2D:Bt,texStorage3D:$e,texSubImage2D:Ve,texSubImage3D:Et,compressedTexSubImage2D:nt,compressedTexSubImage3D:rt,scissor:It,viewport:ot,reset:Dn}}function FTe(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new je,f=new WeakMap;let d;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(ie,$){return v?new OffscreenCanvas(ie,$):Dy("canvas")}function b(ie,$,be){let Be=1;const Fe=At(ie);if((Fe.width>be||Fe.height>be)&&(Be=be/Math.max(Fe.width,Fe.height)),Be<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Ve=Math.floor(Be*Fe.width),Et=Math.floor(Be*Fe.height);d===void 0&&(d=x(Ve,Et));const nt=$?x(Ve,Et):d;return nt.width=Ve,nt.height=Et,nt.getContext("2d").drawImage(ie,0,0,Ve,Et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fe.width+"x"+Fe.height+") to ("+Ve+"x"+Et+")."),nt}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fe.width+"x"+Fe.height+")."),ie;return ie}function y(ie){return ie.generateMipmaps&&ie.minFilter!==ui&&ie.minFilter!==Fr}function w(ie){t.generateMipmap(ie)}function M(ie,$,be,Be,Fe=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Ve=$;if($===t.RED&&(be===t.FLOAT&&(Ve=t.R32F),be===t.HALF_FLOAT&&(Ve=t.R16F),be===t.UNSIGNED_BYTE&&(Ve=t.R8)),$===t.RED_INTEGER&&(be===t.UNSIGNED_BYTE&&(Ve=t.R8UI),be===t.UNSIGNED_SHORT&&(Ve=t.R16UI),be===t.UNSIGNED_INT&&(Ve=t.R32UI),be===t.BYTE&&(Ve=t.R8I),be===t.SHORT&&(Ve=t.R16I),be===t.INT&&(Ve=t.R32I)),$===t.RG&&(be===t.FLOAT&&(Ve=t.RG32F),be===t.HALF_FLOAT&&(Ve=t.RG16F),be===t.UNSIGNED_BYTE&&(Ve=t.RG8)),$===t.RG_INTEGER&&(be===t.UNSIGNED_BYTE&&(Ve=t.RG8UI),be===t.UNSIGNED_SHORT&&(Ve=t.RG16UI),be===t.UNSIGNED_INT&&(Ve=t.RG32UI),be===t.BYTE&&(Ve=t.RG8I),be===t.SHORT&&(Ve=t.RG16I),be===t.INT&&(Ve=t.RG32I)),$===t.RGB&&be===t.UNSIGNED_INT_5_9_9_9_REV&&(Ve=t.RGB9_E5),$===t.RGBA){const Et=Fe?Ry:En.getTransfer(Be);be===t.FLOAT&&(Ve=t.RGBA32F),be===t.HALF_FLOAT&&(Ve=t.RGBA16F),be===t.UNSIGNED_BYTE&&(Ve=Et===Xn?t.SRGB8_ALPHA8:t.RGBA8),be===t.UNSIGNED_SHORT_4_4_4_4&&(Ve=t.RGBA4),be===t.UNSIGNED_SHORT_5_5_5_1&&(Ve=t.RGB5_A1)}return(Ve===t.R16F||Ve===t.R32F||Ve===t.RG16F||Ve===t.RG32F||Ve===t.RGBA16F||Ve===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ve}function S(ie,$){let be;return ie?$===null||$===bd||$===wd?be=t.DEPTH24_STENCIL8:$===Zs?be=t.DEPTH32F_STENCIL8:$===Ay&&(be=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===bd||$===wd?be=t.DEPTH_COMPONENT24:$===Zs?be=t.DEPTH_COMPONENT32F:$===Ay&&(be=t.DEPTH_COMPONENT16),be}function A(ie,$){return y(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==ui&&ie.minFilter!==Fr?Math.log2(Math.max($.width,$.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?$.mipmaps.length:1}function P(ie){const $=ie.target;$.removeEventListener("dispose",P),I($),$.isVideoTexture&&f.delete($)}function O(ie){const $=ie.target;$.removeEventListener("dispose",O),L($)}function I(ie){const $=r.get(ie);if($.__webglInit===void 0)return;const be=ie.source,Be=p.get(be);if(Be){const Fe=Be[$.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&k(ie),Object.keys(Be).length===0&&p.delete(be)}r.remove(ie)}function k(ie){const $=r.get(ie);t.deleteTexture($.__webglTexture);const be=ie.source,Be=p.get(be);delete Be[$.__cacheKey],o.memory.textures--}function L(ie){const $=r.get(ie);if(ie.depthTexture&&ie.depthTexture.dispose(),ie.isWebGLCubeRenderTarget)for(let Be=0;Be<6;Be++){if(Array.isArray($.__webglFramebuffer[Be]))for(let Fe=0;Fe<$.__webglFramebuffer[Be].length;Fe++)t.deleteFramebuffer($.__webglFramebuffer[Be][Fe]);else t.deleteFramebuffer($.__webglFramebuffer[Be]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[Be])}else{if(Array.isArray($.__webglFramebuffer))for(let Be=0;Be<$.__webglFramebuffer.length;Be++)t.deleteFramebuffer($.__webglFramebuffer[Be]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let Be=0;Be<$.__webglColorRenderbuffer.length;Be++)$.__webglColorRenderbuffer[Be]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[Be]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}const be=ie.textures;for(let Be=0,Fe=be.length;Be<Fe;Be++){const Ve=r.get(be[Be]);Ve.__webglTexture&&(t.deleteTexture(Ve.__webglTexture),o.memory.textures--),r.remove(be[Be])}r.remove(ie)}let F=0;function j(){F=0}function H(){const ie=F;return ie>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),F+=1,ie}function q(ie){const $=[];return $.push(ie.wrapS),$.push(ie.wrapT),$.push(ie.wrapR||0),$.push(ie.magFilter),$.push(ie.minFilter),$.push(ie.anisotropy),$.push(ie.internalFormat),$.push(ie.format),$.push(ie.type),$.push(ie.generateMipmaps),$.push(ie.premultiplyAlpha),$.push(ie.flipY),$.push(ie.unpackAlignment),$.push(ie.colorSpace),$.join()}function X(ie,$){const be=r.get(ie);if(ie.isVideoTexture&&Ze(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&be.__version!==ie.version){const Be=ie.image;if(Be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(be,ie,$);return}}n.bindTexture(t.TEXTURE_2D,be.__webglTexture,t.TEXTURE0+$)}function J(ie,$){const be=r.get(ie);if(ie.version>0&&be.__version!==ie.version){ye(be,ie,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,be.__webglTexture,t.TEXTURE0+$)}function Z(ie,$){const be=r.get(ie);if(ie.version>0&&be.__version!==ie.version){ye(be,ie,$);return}n.bindTexture(t.TEXTURE_3D,be.__webglTexture,t.TEXTURE0+$)}function ee(ie,$){const be=r.get(ie);if(ie.version>0&&be.__version!==ie.version){ue(be,ie,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture,t.TEXTURE0+$)}const V={[Ey]:t.REPEAT,[Ao]:t.CLAMP_TO_EDGE,[Ty]:t.MIRRORED_REPEAT},K={[ui]:t.NEAREST,[wI]:t.NEAREST_MIPMAP_NEAREST,[vp]:t.NEAREST_MIPMAP_LINEAR,[Fr]:t.LINEAR,[Av]:t.LINEAR_MIPMAP_NEAREST,[Va]:t.LINEAR_MIPMAP_LINEAR},Q={[p7]:t.NEVER,[_7]:t.ALWAYS,[m7]:t.LESS,[OI]:t.LEQUAL,[g7]:t.EQUAL,[x7]:t.GEQUAL,[v7]:t.GREATER,[y7]:t.NOTEQUAL};function G(ie,$){if($.type===Zs&&e.has("OES_texture_float_linear")===!1&&($.magFilter===Fr||$.magFilter===Av||$.magFilter===vp||$.magFilter===Va||$.minFilter===Fr||$.minFilter===Av||$.minFilter===vp||$.minFilter===Va)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,V[$.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,V[$.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,V[$.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,K[$.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,K[$.minFilter]),$.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,Q[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===ui||$.minFilter!==vp&&$.minFilter!==Va||$.type===Zs&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||r.get($).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy}}}function ne(ie,$){let be=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,$.addEventListener("dispose",P));const Be=$.source;let Fe=p.get(Be);Fe===void 0&&(Fe={},p.set(Be,Fe));const Ve=q($);if(Ve!==ie.__cacheKey){Fe[Ve]===void 0&&(Fe[Ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Fe[Ve].usedTimes++;const Et=Fe[ie.__cacheKey];Et!==void 0&&(Fe[ie.__cacheKey].usedTimes--,Et.usedTimes===0&&k($)),ie.__cacheKey=Ve,ie.__webglTexture=Fe[Ve].texture}return be}function ye(ie,$,be){let Be=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Be=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Be=t.TEXTURE_3D);const Fe=ne(ie,$),Ve=$.source;n.bindTexture(Be,ie.__webglTexture,t.TEXTURE0+be);const Et=r.get(Ve);if(Ve.version!==Et.__version||Fe===!0){n.activeTexture(t.TEXTURE0+be);const nt=En.getPrimaries(En.workingColorSpace),rt=$.colorSpace===$l?null:En.getPrimaries($.colorSpace),Bt=$.colorSpace===$l||nt===rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Bt);let $e=b($.image,!1,i.maxTextureSize);$e=et($,$e);const mt=s.convert($.format,$.colorSpace),tn=s.convert($.type);let It=M($.internalFormat,mt,tn,$.colorSpace,$.isVideoTexture);G(Be,$);let ot;const Wt=$.mipmaps,Yt=$.isVideoTexture!==!0,Dn=Et.__version===void 0||Fe===!0,ce=Ve.dataReady,at=A($,$e);if($.isDepthTexture)It=S($.format===Sd,$.type),Dn&&(Yt?n.texStorage2D(t.TEXTURE_2D,1,It,$e.width,$e.height):n.texImage2D(t.TEXTURE_2D,0,It,$e.width,$e.height,0,mt,tn,null));else if($.isDataTexture)if(Wt.length>0){Yt&&Dn&&n.texStorage2D(t.TEXTURE_2D,at,It,Wt[0].width,Wt[0].height);for(let Le=0,Ue=Wt.length;Le<Ue;Le++)ot=Wt[Le],Yt?ce&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,ot.width,ot.height,mt,tn,ot.data):n.texImage2D(t.TEXTURE_2D,Le,It,ot.width,ot.height,0,mt,tn,ot.data);$.generateMipmaps=!1}else Yt?(Dn&&n.texStorage2D(t.TEXTURE_2D,at,It,$e.width,$e.height),ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e.width,$e.height,mt,tn,$e.data)):n.texImage2D(t.TEXTURE_2D,0,It,$e.width,$e.height,0,mt,tn,$e.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Yt&&Dn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,at,It,Wt[0].width,Wt[0].height,$e.depth);for(let Le=0,Ue=Wt.length;Le<Ue;Le++)if(ot=Wt[Le],$.format!==us)if(mt!==null)if(Yt){if(ce)if($.layerUpdates.size>0){for(const Xe of $.layerUpdates){const Lt=ot.width*ot.height;n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,Xe,ot.width,ot.height,1,mt,ot.data.slice(Lt*Xe,Lt*(Xe+1)),0,0)}$.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,ot.width,ot.height,$e.depth,mt,ot.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Le,It,ot.width,ot.height,$e.depth,0,ot.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Yt?ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,ot.width,ot.height,$e.depth,mt,tn,ot.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Le,It,ot.width,ot.height,$e.depth,0,mt,tn,ot.data)}else{Yt&&Dn&&n.texStorage2D(t.TEXTURE_2D,at,It,Wt[0].width,Wt[0].height);for(let Le=0,Ue=Wt.length;Le<Ue;Le++)ot=Wt[Le],$.format!==us?mt!==null?Yt?ce&&n.compressedTexSubImage2D(t.TEXTURE_2D,Le,0,0,ot.width,ot.height,mt,ot.data):n.compressedTexImage2D(t.TEXTURE_2D,Le,It,ot.width,ot.height,0,ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Yt?ce&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,ot.width,ot.height,mt,tn,ot.data):n.texImage2D(t.TEXTURE_2D,Le,It,ot.width,ot.height,0,mt,tn,ot.data)}else if($.isDataArrayTexture)if(Yt){if(Dn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,at,It,$e.width,$e.height,$e.depth),ce)if($.layerUpdates.size>0){let Le;switch(tn){case t.UNSIGNED_BYTE:switch(mt){case t.ALPHA:Le=1;break;case t.LUMINANCE:Le=1;break;case t.LUMINANCE_ALPHA:Le=2;break;case t.RGB:Le=3;break;case t.RGBA:Le=4;break;default:throw new Error(`Unknown texel size for format ${mt}.`)}break;case t.UNSIGNED_SHORT_4_4_4_4:case t.UNSIGNED_SHORT_5_5_5_1:case t.UNSIGNED_SHORT_5_6_5:Le=1;break;default:throw new Error(`Unknown texel size for type ${tn}.`)}const Ue=$e.width*$e.height*Le;for(const Xe of $.layerUpdates)n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Xe,$e.width,$e.height,1,mt,tn,$e.data.slice(Ue*Xe,Ue*(Xe+1)));$.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,mt,tn,$e.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,It,$e.width,$e.height,$e.depth,0,mt,tn,$e.data);else if($.isData3DTexture)Yt?(Dn&&n.texStorage3D(t.TEXTURE_3D,at,It,$e.width,$e.height,$e.depth),ce&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,mt,tn,$e.data)):n.texImage3D(t.TEXTURE_3D,0,It,$e.width,$e.height,$e.depth,0,mt,tn,$e.data);else if($.isFramebufferTexture){if(Dn)if(Yt)n.texStorage2D(t.TEXTURE_2D,at,It,$e.width,$e.height);else{let Le=$e.width,Ue=$e.height;for(let Xe=0;Xe<at;Xe++)n.texImage2D(t.TEXTURE_2D,Xe,It,Le,Ue,0,mt,tn,null),Le>>=1,Ue>>=1}}else if(Wt.length>0){if(Yt&&Dn){const Le=At(Wt[0]);n.texStorage2D(t.TEXTURE_2D,at,It,Le.width,Le.height)}for(let Le=0,Ue=Wt.length;Le<Ue;Le++)ot=Wt[Le],Yt?ce&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,mt,tn,ot):n.texImage2D(t.TEXTURE_2D,Le,It,mt,tn,ot);$.generateMipmaps=!1}else if(Yt){if(Dn){const Le=At($e);n.texStorage2D(t.TEXTURE_2D,at,It,Le.width,Le.height)}ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,mt,tn,$e)}else n.texImage2D(t.TEXTURE_2D,0,It,mt,tn,$e);y($)&&w(Be),Et.__version=Ve.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function ue(ie,$,be){if($.image.length!==6)return;const Be=ne(ie,$),Fe=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+be);const Ve=r.get(Fe);if(Fe.version!==Ve.__version||Be===!0){n.activeTexture(t.TEXTURE0+be);const Et=En.getPrimaries(En.workingColorSpace),nt=$.colorSpace===$l?null:En.getPrimaries($.colorSpace),rt=$.colorSpace===$l||Et===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,rt);const Bt=$.isCompressedTexture||$.image[0].isCompressedTexture,$e=$.image[0]&&$.image[0].isDataTexture,mt=[];for(let Ue=0;Ue<6;Ue++)!Bt&&!$e?mt[Ue]=b($.image[Ue],!0,i.maxCubemapSize):mt[Ue]=$e?$.image[Ue].image:$.image[Ue],mt[Ue]=et($,mt[Ue]);const tn=mt[0],It=s.convert($.format,$.colorSpace),ot=s.convert($.type),Wt=M($.internalFormat,It,ot,$.colorSpace),Yt=$.isVideoTexture!==!0,Dn=Ve.__version===void 0||Be===!0,ce=Fe.dataReady;let at=A($,tn);G(t.TEXTURE_CUBE_MAP,$);let Le;if(Bt){Yt&&Dn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,at,Wt,tn.width,tn.height);for(let Ue=0;Ue<6;Ue++){Le=mt[Ue].mipmaps;for(let Xe=0;Xe<Le.length;Xe++){const Lt=Le[Xe];$.format!==us?It!==null?Yt?ce&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe,0,0,Lt.width,Lt.height,It,Lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe,Wt,Lt.width,Lt.height,0,Lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Yt?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe,0,0,Lt.width,Lt.height,It,ot,Lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe,Wt,Lt.width,Lt.height,0,It,ot,Lt.data)}}}else{if(Le=$.mipmaps,Yt&&Dn){Le.length>0&&at++;const Ue=At(mt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,at,Wt,Ue.width,Ue.height)}for(let Ue=0;Ue<6;Ue++)if($e){Yt?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,mt[Ue].width,mt[Ue].height,It,ot,mt[Ue].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,Wt,mt[Ue].width,mt[Ue].height,0,It,ot,mt[Ue].data);for(let Xe=0;Xe<Le.length;Xe++){const on=Le[Xe].image[Ue].image;Yt?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe+1,0,0,on.width,on.height,It,ot,on.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe+1,Wt,on.width,on.height,0,It,ot,on.data)}}else{Yt?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,It,ot,mt[Ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,Wt,It,ot,mt[Ue]);for(let Xe=0;Xe<Le.length;Xe++){const Lt=Le[Xe];Yt?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe+1,0,0,It,ot,Lt.image[Ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe+1,Wt,It,ot,Lt.image[Ue])}}}y($)&&w(t.TEXTURE_CUBE_MAP),Ve.__version=Fe.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function xe(ie,$,be,Be,Fe,Ve){const Et=s.convert(be.format,be.colorSpace),nt=s.convert(be.type),rt=M(be.internalFormat,Et,nt,be.colorSpace);if(!r.get($).__hasExternalTextures){const $e=Math.max(1,$.width>>Ve),mt=Math.max(1,$.height>>Ve);Fe===t.TEXTURE_3D||Fe===t.TEXTURE_2D_ARRAY?n.texImage3D(Fe,Ve,rt,$e,mt,$.depth,0,Et,nt,null):n.texImage2D(Fe,Ve,rt,$e,mt,0,Et,nt,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),ke($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Be,Fe,r.get(be).__webglTexture,0,De($)):(Fe===t.TEXTURE_2D||Fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Be,Fe,r.get(be).__webglTexture,Ve),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(ie,$,be){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),$.depthBuffer){const Be=$.depthTexture,Fe=Be&&Be.isDepthTexture?Be.type:null,Ve=S($.stencilBuffer,Fe),Et=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=De($);ke($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,Ve,$.width,$.height):be?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,Ve,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,Ve,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Et,t.RENDERBUFFER,ie)}else{const Be=$.textures;for(let Fe=0;Fe<Be.length;Fe++){const Ve=Be[Fe],Et=s.convert(Ve.format,Ve.colorSpace),nt=s.convert(Ve.type),rt=M(Ve.internalFormat,Et,nt,Ve.colorSpace),Bt=De($);be&&ke($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Bt,rt,$.width,$.height):ke($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Bt,rt,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,rt,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(ie,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),X($.depthTexture,0);const Be=r.get($.depthTexture).__webglTexture,Fe=De($);if($.depthTexture.format===ud)ke($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Be,0);else if($.depthTexture.format===Sd)ke($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Be,0);else throw new Error("Unknown depthTexture format")}function qe(ie){const $=r.get(ie),be=ie.isWebGLCubeRenderTarget===!0;if(ie.depthTexture&&!$.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");Ce($.__webglFramebuffer,ie)}else if(be){$.__webglDepthbuffer=[];for(let Be=0;Be<6;Be++)n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[Be]),$.__webglDepthbuffer[Be]=t.createRenderbuffer(),Re($.__webglDepthbuffer[Be],ie,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer=t.createRenderbuffer(),Re($.__webglDepthbuffer,ie,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ae(ie,$,be){const Be=r.get(ie);$!==void 0&&xe(Be.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),be!==void 0&&qe(ie)}function ze(ie){const $=ie.texture,be=r.get(ie),Be=r.get($);ie.addEventListener("dispose",O);const Fe=ie.textures,Ve=ie.isWebGLCubeRenderTarget===!0,Et=Fe.length>1;if(Et||(Be.__webglTexture===void 0&&(Be.__webglTexture=t.createTexture()),Be.__version=$.version,o.memory.textures++),Ve){be.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer[nt]=[];for(let rt=0;rt<$.mipmaps.length;rt++)be.__webglFramebuffer[nt][rt]=t.createFramebuffer()}else be.__webglFramebuffer[nt]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer=[];for(let nt=0;nt<$.mipmaps.length;nt++)be.__webglFramebuffer[nt]=t.createFramebuffer()}else be.__webglFramebuffer=t.createFramebuffer();if(Et)for(let nt=0,rt=Fe.length;nt<rt;nt++){const Bt=r.get(Fe[nt]);Bt.__webglTexture===void 0&&(Bt.__webglTexture=t.createTexture(),o.memory.textures++)}if(ie.samples>0&&ke(ie)===!1){be.__webglMultisampledFramebuffer=t.createFramebuffer(),be.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let nt=0;nt<Fe.length;nt++){const rt=Fe[nt];be.__webglColorRenderbuffer[nt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,be.__webglColorRenderbuffer[nt]);const Bt=s.convert(rt.format,rt.colorSpace),$e=s.convert(rt.type),mt=M(rt.internalFormat,Bt,$e,rt.colorSpace,ie.isXRRenderTarget===!0),tn=De(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,tn,mt,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,be.__webglColorRenderbuffer[nt])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(be.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(be.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ve){n.bindTexture(t.TEXTURE_CUBE_MAP,Be.__webglTexture),G(t.TEXTURE_CUBE_MAP,$);for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0)for(let rt=0;rt<$.mipmaps.length;rt++)xe(be.__webglFramebuffer[nt][rt],ie,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,rt);else xe(be.__webglFramebuffer[nt],ie,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);y($)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Et){for(let nt=0,rt=Fe.length;nt<rt;nt++){const Bt=Fe[nt],$e=r.get(Bt);n.bindTexture(t.TEXTURE_2D,$e.__webglTexture),G(t.TEXTURE_2D,Bt),xe(be.__webglFramebuffer,ie,Bt,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,0),y(Bt)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let nt=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(nt=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(nt,Be.__webglTexture),G(nt,$),$.mipmaps&&$.mipmaps.length>0)for(let rt=0;rt<$.mipmaps.length;rt++)xe(be.__webglFramebuffer[rt],ie,$,t.COLOR_ATTACHMENT0,nt,rt);else xe(be.__webglFramebuffer,ie,$,t.COLOR_ATTACHMENT0,nt,0);y($)&&w(nt),n.unbindTexture()}ie.depthBuffer&&qe(ie)}function se(ie){const $=ie.textures;for(let be=0,Be=$.length;be<Be;be++){const Fe=$[be];if(y(Fe)){const Ve=ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Et=r.get(Fe).__webglTexture;n.bindTexture(Ve,Et),w(Ve),n.unbindTexture()}}}const ae=[],Me=[];function Ne(ie){if(ie.samples>0){if(ke(ie)===!1){const $=ie.textures,be=ie.width,Be=ie.height;let Fe=t.COLOR_BUFFER_BIT;const Ve=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Et=r.get(ie),nt=$.length>1;if(nt)for(let rt=0;rt<$.length;rt++)n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Et.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Et.__webglFramebuffer);for(let rt=0;rt<$.length;rt++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Fe|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Fe|=t.STENCIL_BUFFER_BIT)),nt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Et.__webglColorRenderbuffer[rt]);const Bt=r.get($[rt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Bt,0)}t.blitFramebuffer(0,0,be,Be,0,0,be,Be,Fe,t.NEAREST),l===!0&&(ae.length=0,Me.length=0,ae.push(t.COLOR_ATTACHMENT0+rt),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(ae.push(Ve),Me.push(Ve),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ae))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),nt)for(let rt=0;rt<$.length;rt++){n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,Et.__webglColorRenderbuffer[rt]);const Bt=r.get($[rt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,Bt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Et.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const $=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function De(ie){return Math.min(i.maxSamples,ie.samples)}function ke(ie){const $=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Ze(ie){const $=o.render.frame;f.get(ie)!==$&&(f.set(ie,$),ie.update())}function et(ie,$){const be=ie.colorSpace,Be=ie.format,Fe=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||be!==yu&&be!==$l&&(En.getTransfer(be)===Xn?(Be!==us||Fe!==Ja)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),$}function At(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(u.width=ie.naturalWidth||ie.width,u.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(u.width=ie.displayWidth,u.height=ie.displayHeight):(u.width=ie.width,u.height=ie.height),u}this.allocateTextureUnit=H,this.resetTextureUnits=j,this.setTexture2D=X,this.setTexture2DArray=J,this.setTexture3D=Z,this.setTextureCube=ee,this.rebindTextures=Ae,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=se,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=qe,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=ke}function k7(t,e){function n(r,i=$l){let s;const o=En.getTransfer(i);if(r===Ja)return t.UNSIGNED_BYTE;if(r===MI)return t.UNSIGNED_SHORT_4_4_4_4;if(r===EI)return t.UNSIGNED_SHORT_5_5_5_1;if(r===t7)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===J9)return t.BYTE;if(r===e7)return t.SHORT;if(r===Ay)return t.UNSIGNED_SHORT;if(r===SI)return t.INT;if(r===bd)return t.UNSIGNED_INT;if(r===Zs)return t.FLOAT;if(r===h0)return t.HALF_FLOAT;if(r===n7)return t.ALPHA;if(r===r7)return t.RGB;if(r===us)return t.RGBA;if(r===i7)return t.LUMINANCE;if(r===s7)return t.LUMINANCE_ALPHA;if(r===ud)return t.DEPTH_COMPONENT;if(r===Sd)return t.DEPTH_STENCIL;if(r===TI)return t.RED;if(r===AI)return t.RED_INTEGER;if(r===o7)return t.RG;if(r===PI)return t.RG_INTEGER;if(r===CI)return t.RGBA_INTEGER;if(r===W_||r===G_||r===$_||r===q_)if(o===Xn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===W_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===G_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===$_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===q_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===W_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===G_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===$_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===q_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===E2||r===T2||r===A2||r===P2)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===E2)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===T2)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===A2)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===P2)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===C2||r===R2||r===O2)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===C2||r===R2)return o===Xn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===O2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===N2||r===I2||r===L2||r===D2||r===k2||r===F2||r===U2||r===B2||r===j2||r===z2||r===V2||r===H2||r===W2||r===G2)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===N2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===I2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===L2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===D2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===k2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===F2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===U2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===B2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===j2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===z2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===V2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===H2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===W2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===G2)return o===Xn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===X_||r===$2||r===q2)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===X_)return o===Xn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===$2)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===q2)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===a7||r===X2||r===K2||r===Y2)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===X_)return s.COMPRESSED_RED_RGTC1_EXT;if(r===X2)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===K2)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Y2)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===wd?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class F7 extends ai{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class _p extends Sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const UTe={type:"move"};class DP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new _p,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new _p,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new _p,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const b of e.hand.values()){const y=n.getJointPose(b,r),w=this._getHandJoint(u,b);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=y.radius),w.visible=y!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),v=.02,x=.005;u.inputState.pinching&&p>v+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=v-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(UTe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new _p;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const BTe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,jTe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class zTe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new mr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new xa({vertexShader:BTe,fragmentShader:jTe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ur(new Cm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class VTe extends xu{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,d=null,p=null,v=null,x=null;const b=new zTe,y=n.getContextAttributes();let w=null,M=null;const S=[],A=[],P=new je;let O=null;const I=new ai;I.layers.enable(1),I.viewport=new In;const k=new ai;k.layers.enable(2),k.viewport=new In;const L=[I,k],F=new F7;F.layers.enable(1),F.layers.enable(2);let j=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let xe=S[ue];return xe===void 0&&(xe=new DP,S[ue]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(ue){let xe=S[ue];return xe===void 0&&(xe=new DP,S[ue]=xe),xe.getGripSpace()},this.getHand=function(ue){let xe=S[ue];return xe===void 0&&(xe=new DP,S[ue]=xe),xe.getHandSpace()};function q(ue){const xe=A.indexOf(ue.inputSource);if(xe===-1)return;const Re=S[xe];Re!==void 0&&(Re.update(ue.inputSource,ue.frame,u||o),Re.dispatchEvent({type:ue.type,data:ue.inputSource}))}function X(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",J);for(let ue=0;ue<S.length;ue++){const xe=A[ue];xe!==null&&(A[ue]=null,S[ue].disconnect(xe))}j=null,H=null,b.reset(),e.setRenderTarget(w),v=null,p=null,d=null,i=null,M=null,ye.stop(),r.isPresenting=!1,e.setPixelRatio(O),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){a=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return d},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(ue){if(i=ue,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",X),i.addEventListener("inputsourceschange",J),y.xrCompatible!==!0&&await n.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(P),i.renderState.layers===void 0){const xe={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,n,xe),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),M=new ya(v.framebufferWidth,v.framebufferHeight,{format:us,type:Ja,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let xe=null,Re=null,Ce=null;y.depth&&(Ce=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,xe=y.stencil?Sd:ud,Re=y.stencil?wd:bd);const qe={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(qe),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),M=new ya(p.textureWidth,p.textureHeight,{format:us,type:Ja,depthTexture:new UI(p.textureWidth,p.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ye.setContext(i),ye.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function J(ue){for(let xe=0;xe<ue.removed.length;xe++){const Re=ue.removed[xe],Ce=A.indexOf(Re);Ce>=0&&(A[Ce]=null,S[Ce].disconnect(Re))}for(let xe=0;xe<ue.added.length;xe++){const Re=ue.added[xe];let Ce=A.indexOf(Re);if(Ce===-1){for(let Ae=0;Ae<S.length;Ae++)if(Ae>=A.length){A.push(Re),Ce=Ae;break}else if(A[Ae]===null){A[Ae]=Re,Ce=Ae;break}if(Ce===-1)break}const qe=S[Ce];qe&&qe.connect(Re)}}const Z=new te,ee=new te;function V(ue,xe,Re){Z.setFromMatrixPosition(xe.matrixWorld),ee.setFromMatrixPosition(Re.matrixWorld);const Ce=Z.distanceTo(ee),qe=xe.projectionMatrix.elements,Ae=Re.projectionMatrix.elements,ze=qe[14]/(qe[10]-1),se=qe[14]/(qe[10]+1),ae=(qe[9]+1)/qe[5],Me=(qe[9]-1)/qe[5],Ne=(qe[8]-1)/qe[0],De=(Ae[8]+1)/Ae[0],ke=ze*Ne,Ze=ze*De,et=Ce/(-Ne+De),At=et*-Ne;xe.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(At),ue.translateZ(et),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert();const ie=ze+et,$=se+et,be=ke-At,Be=Ze+(Ce-At),Fe=ae*se/$*ie,Ve=Me*se/$*ie;ue.projectionMatrix.makePerspective(be,Be,Fe,Ve,ie,$),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}function K(ue,xe){xe===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(xe.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(i===null)return;b.texture!==null&&(ue.near=b.depthNear,ue.far=b.depthFar),F.near=k.near=I.near=ue.near,F.far=k.far=I.far=ue.far,(j!==F.near||H!==F.far)&&(i.updateRenderState({depthNear:F.near,depthFar:F.far}),j=F.near,H=F.far,I.near=j,I.far=H,k.near=j,k.far=H,I.updateProjectionMatrix(),k.updateProjectionMatrix(),ue.updateProjectionMatrix());const xe=ue.parent,Re=F.cameras;K(F,xe);for(let Ce=0;Ce<Re.length;Ce++)K(Re[Ce],xe);Re.length===2?V(F,I,k):F.projectionMatrix.copy(I.projectionMatrix),Q(ue,F,xe)};function Q(ue,xe,Re){Re===null?ue.matrix.copy(xe.matrixWorld):(ue.matrix.copy(Re.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(xe.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(xe.projectionMatrix),ue.projectionMatrixInverse.copy(xe.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=cm*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(ue){l=ue,p!==null&&(p.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(F)};let G=null;function ne(ue,xe){if(f=xe.getViewerPose(u||o),x=xe,f!==null){const Re=f.views;v!==null&&(e.setRenderTargetFramebuffer(M,v.framebuffer),e.setRenderTarget(M));let Ce=!1;Re.length!==F.cameras.length&&(F.cameras.length=0,Ce=!0);for(let Ae=0;Ae<Re.length;Ae++){const ze=Re[Ae];let se=null;if(v!==null)se=v.getViewport(ze);else{const Me=d.getViewSubImage(p,ze);se=Me.viewport,Ae===0&&(e.setRenderTargetTextures(M,Me.colorTexture,p.ignoreDepthValues?void 0:Me.depthStencilTexture),e.setRenderTarget(M))}let ae=L[Ae];ae===void 0&&(ae=new ai,ae.layers.enable(Ae),ae.viewport=new In,L[Ae]=ae),ae.matrix.fromArray(ze.transform.matrix),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.projectionMatrix.fromArray(ze.projectionMatrix),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert(),ae.viewport.set(se.x,se.y,se.width,se.height),Ae===0&&(F.matrix.copy(ae.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),Ce===!0&&F.cameras.push(ae)}const qe=i.enabledFeatures;if(qe&&qe.includes("depth-sensing")){const Ae=d.getDepthInformation(Re[0]);Ae&&Ae.isValid&&Ae.texture&&b.init(e,Ae,i.renderState)}}for(let Re=0;Re<S.length;Re++){const Ce=A[Re],qe=S[Re];Ce!==null&&qe!==void 0&&qe.update(Ce,xe,u||o)}G&&G(ue,xe),xe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:xe}),x=null}const ye=new R7;ye.setAnimationLoop(ne),this.setAnimationLoop=function(ue){G=ue},this.dispose=function(){}}}const If=new ro,HTe=new Nt;function WTe(t,e){function n(y,w){y.matrixAutoUpdate===!0&&y.updateMatrix(),w.value.copy(y.matrix)}function r(y,w){w.color.getRGB(y.fogColor.value,T7(t)),w.isFog?(y.fogNear.value=w.near,y.fogFar.value=w.far):w.isFogExp2&&(y.fogDensity.value=w.density)}function i(y,w,M,S,A){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(y,w):w.isMeshToonMaterial?(s(y,w),d(y,w)):w.isMeshPhongMaterial?(s(y,w),f(y,w)):w.isMeshStandardMaterial?(s(y,w),p(y,w),w.isMeshPhysicalMaterial&&v(y,w,A)):w.isMeshMatcapMaterial?(s(y,w),x(y,w)):w.isMeshDepthMaterial?s(y,w):w.isMeshDistanceMaterial?(s(y,w),b(y,w)):w.isMeshNormalMaterial?s(y,w):w.isLineBasicMaterial?(o(y,w),w.isLineDashedMaterial&&a(y,w)):w.isPointsMaterial?l(y,w,M,S):w.isSpriteMaterial?u(y,w):w.isShadowMaterial?(y.color.value.copy(w.color),y.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(y,w){y.opacity.value=w.opacity,w.color&&y.diffuse.value.copy(w.color),w.emissive&&y.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(y.map.value=w.map,n(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.bumpMap&&(y.bumpMap.value=w.bumpMap,n(w.bumpMap,y.bumpMapTransform),y.bumpScale.value=w.bumpScale,w.side===ds&&(y.bumpScale.value*=-1)),w.normalMap&&(y.normalMap.value=w.normalMap,n(w.normalMap,y.normalMapTransform),y.normalScale.value.copy(w.normalScale),w.side===ds&&y.normalScale.value.negate()),w.displacementMap&&(y.displacementMap.value=w.displacementMap,n(w.displacementMap,y.displacementMapTransform),y.displacementScale.value=w.displacementScale,y.displacementBias.value=w.displacementBias),w.emissiveMap&&(y.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,y.emissiveMapTransform)),w.specularMap&&(y.specularMap.value=w.specularMap,n(w.specularMap,y.specularMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest);const M=e.get(w),S=M.envMap,A=M.envMapRotation;S&&(y.envMap.value=S,If.copy(A),If.x*=-1,If.y*=-1,If.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(If.y*=-1,If.z*=-1),y.envMapRotation.value.setFromMatrix4(HTe.makeRotationFromEuler(If)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=w.reflectivity,y.ior.value=w.ior,y.refractionRatio.value=w.refractionRatio),w.lightMap&&(y.lightMap.value=w.lightMap,y.lightMapIntensity.value=w.lightMapIntensity,n(w.lightMap,y.lightMapTransform)),w.aoMap&&(y.aoMap.value=w.aoMap,y.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,y.aoMapTransform))}function o(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,w.map&&(y.map.value=w.map,n(w.map,y.mapTransform))}function a(y,w){y.dashSize.value=w.dashSize,y.totalSize.value=w.dashSize+w.gapSize,y.scale.value=w.scale}function l(y,w,M,S){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.size.value=w.size*M,y.scale.value=S*.5,w.map&&(y.map.value=w.map,n(w.map,y.uvTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function u(y,w){y.diffuse.value.copy(w.color),y.opacity.value=w.opacity,y.rotation.value=w.rotation,w.map&&(y.map.value=w.map,n(w.map,y.mapTransform)),w.alphaMap&&(y.alphaMap.value=w.alphaMap,n(w.alphaMap,y.alphaMapTransform)),w.alphaTest>0&&(y.alphaTest.value=w.alphaTest)}function f(y,w){y.specular.value.copy(w.specular),y.shininess.value=Math.max(w.shininess,1e-4)}function d(y,w){w.gradientMap&&(y.gradientMap.value=w.gradientMap)}function p(y,w){y.metalness.value=w.metalness,w.metalnessMap&&(y.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,y.metalnessMapTransform)),y.roughness.value=w.roughness,w.roughnessMap&&(y.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,y.roughnessMapTransform)),w.envMap&&(y.envMapIntensity.value=w.envMapIntensity)}function v(y,w,M){y.ior.value=w.ior,w.sheen>0&&(y.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),y.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(y.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,y.sheenColorMapTransform)),w.sheenRoughnessMap&&(y.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,y.sheenRoughnessMapTransform))),w.clearcoat>0&&(y.clearcoat.value=w.clearcoat,y.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(y.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,y.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(y.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===ds&&y.clearcoatNormalScale.value.negate())),w.dispersion>0&&(y.dispersion.value=w.dispersion),w.iridescence>0&&(y.iridescence.value=w.iridescence,y.iridescenceIOR.value=w.iridescenceIOR,y.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(y.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,y.iridescenceMapTransform)),w.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),w.transmission>0&&(y.transmission.value=w.transmission,y.transmissionSamplerMap.value=M.texture,y.transmissionSamplerSize.value.set(M.width,M.height),w.transmissionMap&&(y.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,y.transmissionMapTransform)),y.thickness.value=w.thickness,w.thicknessMap&&(y.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=w.attenuationDistance,y.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(y.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(y.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=w.specularIntensity,y.specularColor.value.copy(w.specularColor),w.specularColorMap&&(y.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,y.specularColorMapTransform)),w.specularIntensityMap&&(y.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,y.specularIntensityMapTransform))}function x(y,w){w.matcap&&(y.matcap.value=w.matcap)}function b(y,w){const M=e.get(w).light;y.referencePosition.value.setFromMatrixPosition(M.matrixWorld),y.nearDistance.value=M.shadow.camera.near,y.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function GTe(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(M,S){const A=S.program;r.uniformBlockBinding(M,A)}function u(M,S){let A=i[M.id];A===void 0&&(x(M),A=f(M),i[M.id]=A,M.addEventListener("dispose",y));const P=S.program;r.updateUBOMapping(M,P);const O=e.render.frame;s[M.id]!==O&&(p(M),s[M.id]=O)}function f(M){const S=d();M.__bindingPointIndex=S;const A=t.createBuffer(),P=M.__size,O=M.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,P,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,A),A}function d(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(M){const S=i[M.id],A=M.uniforms,P=M.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let O=0,I=A.length;O<I;O++){const k=Array.isArray(A[O])?A[O]:[A[O]];for(let L=0,F=k.length;L<F;L++){const j=k[L];if(v(j,O,L,P)===!0){const H=j.__offset,q=Array.isArray(j.value)?j.value:[j.value];let X=0;for(let J=0;J<q.length;J++){const Z=q[J],ee=b(Z);typeof Z=="number"||typeof Z=="boolean"?(j.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,H+X,j.__data)):Z.isMatrix3?(j.__data[0]=Z.elements[0],j.__data[1]=Z.elements[1],j.__data[2]=Z.elements[2],j.__data[3]=0,j.__data[4]=Z.elements[3],j.__data[5]=Z.elements[4],j.__data[6]=Z.elements[5],j.__data[7]=0,j.__data[8]=Z.elements[6],j.__data[9]=Z.elements[7],j.__data[10]=Z.elements[8],j.__data[11]=0):(Z.toArray(j.__data,X),X+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(M,S,A,P){const O=M.value,I=S+"_"+A;if(P[I]===void 0)return typeof O=="number"||typeof O=="boolean"?P[I]=O:P[I]=O.clone(),!0;{const k=P[I];if(typeof O=="number"||typeof O=="boolean"){if(k!==O)return P[I]=O,!0}else if(k.equals(O)===!1)return k.copy(O),!0}return!1}function x(M){const S=M.uniforms;let A=0;const P=16;for(let I=0,k=S.length;I<k;I++){const L=Array.isArray(S[I])?S[I]:[S[I]];for(let F=0,j=L.length;F<j;F++){const H=L[F],q=Array.isArray(H.value)?H.value:[H.value];for(let X=0,J=q.length;X<J;X++){const Z=q[X],ee=b(Z),V=A%P;V!==0&&P-V<ee.boundary&&(A+=P-V),H.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=A,A+=ee.storage}}}const O=A%P;return O>0&&(A+=P-O),M.__size=A,M.__cache={},this}function b(M){const S={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(S.boundary=4,S.storage=4):M.isVector2?(S.boundary=8,S.storage=8):M.isVector3||M.isColor?(S.boundary=16,S.storage=12):M.isVector4?(S.boundary=16,S.storage=16):M.isMatrix3?(S.boundary=48,S.storage=48):M.isMatrix4?(S.boundary=64,S.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),S}function y(M){const S=M.target;S.removeEventListener("dispose",y);const A=o.indexOf(S.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function w(){for(const M in i)t.deleteBuffer(i[M]);o=[],i={},s={}}return{bind:l,update:u,dispose:w}}class U7{constructor(e={}){const{canvas:n=w7(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=o;const v=new Uint32Array(4),x=new Int32Array(4);let b=null,y=null;const w=[],M=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mo,this.toneMapping=Ka,this.toneMappingExposure=1;const S=this;let A=!1,P=0,O=0,I=null,k=-1,L=null;const F=new In,j=new In;let H=null;const q=new ht(0);let X=0,J=n.width,Z=n.height,ee=1,V=null,K=null;const Q=new In(0,0,J,Z),G=new In(0,0,J,Z);let ne=!1;const ye=new v0;let ue=!1,xe=!1;const Re=new Nt,Ce=new te,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ae=!1;function ze(){return I===null?ee:1}let se=r;function ae(Y,pe){return n.getContext(Y,pe)}try{const Y={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${f0}`),n.addEventListener("webglcontextlost",at,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),se===null){const pe="webgl2";if(se=ae(pe,Y),se===null)throw ae(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let Me,Ne,De,ke,Ze,et,At,ie,$,be,Be,Fe,Ve,Et,nt,rt,Bt,$e,mt,tn,It,ot,Wt,Yt;function Dn(){Me=new iEe(se),Me.init(),ot=new k7(se,Me),Ne=new QMe(se,Me,e,ot),De=new kTe(se),ke=new aEe(se),Ze=new MTe,et=new FTe(se,Me,De,Ze,Ne,ot,ke),At=new eEe(S),ie=new rEe(S),$=new pSe(se),Wt=new YMe(se,$),be=new sEe(se,$,ke,Wt),Be=new uEe(se,be,$,ke),mt=new lEe(se,Ne,et),rt=new JMe(Ze),Fe=new STe(S,At,ie,Me,Ne,Wt,rt),Ve=new WTe(S,Ze),Et=new TTe,nt=new NTe(Me),$e=new KMe(S,At,ie,De,Be,p,l),Bt=new DTe(S,Be,Ne),Yt=new GTe(se,ke,Ne,De),tn=new ZMe(se,Me,ke),It=new oEe(se,Me,ke),ke.programs=Fe.programs,S.capabilities=Ne,S.extensions=Me,S.properties=Ze,S.renderLists=Et,S.shadowMap=Bt,S.state=De,S.info=ke}Dn();const ce=new VTe(S,se);this.xr=ce,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const Y=Me.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Me.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(Y){Y!==void 0&&(ee=Y,this.setSize(J,Z,!1))},this.getSize=function(Y){return Y.set(J,Z)},this.setSize=function(Y,pe,Se=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=Y,Z=pe,n.width=Math.floor(Y*ee),n.height=Math.floor(pe*ee),Se===!0&&(n.style.width=Y+"px",n.style.height=pe+"px"),this.setViewport(0,0,Y,pe)},this.getDrawingBufferSize=function(Y){return Y.set(J*ee,Z*ee).floor()},this.setDrawingBufferSize=function(Y,pe,Se){J=Y,Z=pe,ee=Se,n.width=Math.floor(Y*Se),n.height=Math.floor(pe*Se),this.setViewport(0,0,Y,pe)},this.getCurrentViewport=function(Y){return Y.copy(F)},this.getViewport=function(Y){return Y.copy(Q)},this.setViewport=function(Y,pe,Se,Ee){Y.isVector4?Q.set(Y.x,Y.y,Y.z,Y.w):Q.set(Y,pe,Se,Ee),De.viewport(F.copy(Q).multiplyScalar(ee).round())},this.getScissor=function(Y){return Y.copy(G)},this.setScissor=function(Y,pe,Se,Ee){Y.isVector4?G.set(Y.x,Y.y,Y.z,Y.w):G.set(Y,pe,Se,Ee),De.scissor(j.copy(G).multiplyScalar(ee).round())},this.getScissorTest=function(){return ne},this.setScissorTest=function(Y){De.setScissorTest(ne=Y)},this.setOpaqueSort=function(Y){V=Y},this.setTransparentSort=function(Y){K=Y},this.getClearColor=function(Y){return Y.copy($e.getClearColor())},this.setClearColor=function(){$e.setClearColor.apply($e,arguments)},this.getClearAlpha=function(){return $e.getClearAlpha()},this.setClearAlpha=function(){$e.setClearAlpha.apply($e,arguments)},this.clear=function(Y=!0,pe=!0,Se=!0){let Ee=0;if(Y){let ge=!1;if(I!==null){const Je=I.texture.format;ge=Je===CI||Je===PI||Je===AI}if(ge){const Je=I.texture.type,lt=Je===Ja||Je===bd||Je===Ay||Je===wd||Je===MI||Je===EI,gt=$e.getClearColor(),_t=$e.getClearAlpha(),ut=gt.r,Pt=gt.g,Tt=gt.b;lt?(v[0]=ut,v[1]=Pt,v[2]=Tt,v[3]=_t,se.clearBufferuiv(se.COLOR,0,v)):(x[0]=ut,x[1]=Pt,x[2]=Tt,x[3]=_t,se.clearBufferiv(se.COLOR,0,x))}else Ee|=se.COLOR_BUFFER_BIT}pe&&(Ee|=se.DEPTH_BUFFER_BIT),Se&&(Ee|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",at,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),Et.dispose(),nt.dispose(),Ze.dispose(),At.dispose(),ie.dispose(),Be.dispose(),Wt.dispose(),Yt.dispose(),Fe.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",di),ce.removeEventListener("sessionend",Ci),Gi.stop()};function at(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const Y=ke.autoReset,pe=Bt.enabled,Se=Bt.autoUpdate,Ee=Bt.needsUpdate,ge=Bt.type;Dn(),ke.autoReset=Y,Bt.enabled=pe,Bt.autoUpdate=Se,Bt.needsUpdate=Ee,Bt.type=ge}function Ue(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Xe(Y){const pe=Y.target;pe.removeEventListener("dispose",Xe),Lt(pe)}function Lt(Y){on(Y),Ze.remove(Y)}function on(Y){const pe=Ze.get(Y).programs;pe!==void 0&&(pe.forEach(function(Se){Fe.releaseProgram(Se)}),Y.isShaderMaterial&&Fe.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,pe,Se,Ee,ge,Je){pe===null&&(pe=qe);const lt=ge.isMesh&&ge.matrixWorld.determinant()<0,gt=Nm(Y,pe,Se,Ee,ge);De.setMaterial(Ee,lt);let _t=Se.index,ut=1;if(Ee.wireframe===!0){if(_t=be.getWireframeAttribute(Se),_t===void 0)return;ut=2}const Pt=Se.drawRange,Tt=Se.attributes.position;let an=Pt.start*ut,On=(Pt.start+Pt.count)*ut;Je!==null&&(an=Math.max(an,Je.start*ut),On=Math.min(On,(Je.start+Je.count)*ut)),_t!==null?(an=Math.max(an,0),On=Math.min(On,_t.count)):Tt!=null&&(an=Math.max(an,0),On=Math.min(On,Tt.count));const kn=On-an;if(kn<0||kn===1/0)return;Wt.setup(ge,Ee,gt,Se,_t);let ur,Gt=tn;if(_t!==null&&(ur=$.get(_t),Gt=It,Gt.setIndex(ur)),ge.isMesh)Ee.wireframe===!0?(De.setLineWidth(Ee.wireframeLinewidth*ze()),Gt.setMode(se.LINES)):Gt.setMode(se.TRIANGLES);else if(ge.isLine){let Ye=Ee.linewidth;Ye===void 0&&(Ye=1),De.setLineWidth(Ye*ze()),ge.isLineSegments?Gt.setMode(se.LINES):ge.isLineLoop?Gt.setMode(se.LINE_LOOP):Gt.setMode(se.LINE_STRIP)}else ge.isPoints?Gt.setMode(se.POINTS):ge.isSprite&&Gt.setMode(se.TRIANGLES);if(ge.isBatchedMesh)ge._multiDrawInstances!==null?Gt.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances):Gt.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else if(ge.isInstancedMesh)Gt.renderInstances(an,kn,ge.count);else if(Se.isInstancedBufferGeometry){const Ye=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Vt=Math.min(Se.instanceCount,Ye);Gt.renderInstances(an,kn,Vt)}else Gt.render(an,kn)};function Vn(Y,pe,Se){Y.transparent===!0&&Y.side===ja&&Y.forceSinglePass===!1?(Y.side=ds,Y.needsUpdate=!0,$i(Y,pe,Se),Y.side=du,Y.needsUpdate=!0,$i(Y,pe,Se),Y.side=ja):$i(Y,pe,Se)}this.compile=function(Y,pe,Se=null){Se===null&&(Se=Y),y=nt.get(Se),y.init(pe),M.push(y),Se.traverseVisible(function(ge){ge.isLight&&ge.layers.test(pe.layers)&&(y.pushLight(ge),ge.castShadow&&y.pushShadow(ge))}),Y!==Se&&Y.traverseVisible(function(ge){ge.isLight&&ge.layers.test(pe.layers)&&(y.pushLight(ge),ge.castShadow&&y.pushShadow(ge))}),y.setupLights();const Ee=new Set;return Y.traverse(function(ge){const Je=ge.material;if(Je)if(Array.isArray(Je))for(let lt=0;lt<Je.length;lt++){const gt=Je[lt];Vn(gt,Se,ge),Ee.add(gt)}else Vn(Je,Se,ge),Ee.add(Je)}),M.pop(),y=null,Ee},this.compileAsync=function(Y,pe,Se=null){const Ee=this.compile(Y,pe,Se);return new Promise(ge=>{function Je(){if(Ee.forEach(function(lt){Ze.get(lt).currentProgram.isReady()&&Ee.delete(lt)}),Ee.size===0){ge(Y);return}setTimeout(Je,10)}Me.get("KHR_parallel_shader_compile")!==null?Je():setTimeout(Je,10)})};let lr=null;function hn(Y){lr&&lr(Y)}function di(){Gi.stop()}function Ci(){Gi.start()}const Gi=new R7;Gi.setAnimationLoop(hn),typeof self<"u"&&Gi.setContext(self),this.setAnimationLoop=function(Y){lr=Y,ce.setAnimationLoop(Y),Y===null?Gi.stop():Gi.start()},ce.addEventListener("sessionstart",di),ce.addEventListener("sessionend",Ci),this.render=function(Y,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(pe),pe=ce.getCamera()),Y.isScene===!0&&Y.onBeforeRender(S,Y,pe,I),y=nt.get(Y,M.length),y.init(pe),M.push(y),Re.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),ye.setFromProjectionMatrix(Re),xe=this.localClippingEnabled,ue=rt.init(this.clippingPlanes,xe),b=Et.get(Y,w.length),b.init(),w.push(b),ce.enabled===!0&&ce.isPresenting===!0){const Je=S.xr.getDepthSensingMesh();Je!==null&&il(Je,pe,-1/0,S.sortObjects)}il(Y,pe,0,S.sortObjects),b.finish(),S.sortObjects===!0&&b.sort(V,K),Ae=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,Ae&&$e.addToRenderList(b,Y),this.info.render.frame++,ue===!0&&rt.beginShadows();const Se=y.state.shadowsArray;Bt.render(Se,Y,pe),ue===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=b.opaque,ge=b.transmissive;if(y.setupLights(),pe.isArrayCamera){const Je=pe.cameras;if(ge.length>0)for(let lt=0,gt=Je.length;lt<gt;lt++){const _t=Je[lt];Uc(Ee,ge,Y,_t)}Ae&&$e.render(Y);for(let lt=0,gt=Je.length;lt<gt;lt++){const _t=Je[lt];Sa(b,Y,_t,_t.viewport)}}else ge.length>0&&Uc(Ee,ge,Y,pe),Ae&&$e.render(Y),Sa(b,Y,pe);I!==null&&(et.updateMultisampleRenderTarget(I),et.updateRenderTargetMipmap(I)),Y.isScene===!0&&Y.onAfterRender(S,Y,pe),Wt.resetDefaultState(),k=-1,L=null,M.pop(),M.length>0?(y=M[M.length-1],ue===!0&&rt.setGlobalState(S.clippingPlanes,y.state.camera)):y=null,w.pop(),w.length>0?b=w[w.length-1]:b=null};function il(Y,pe,Se,Ee){if(Y.visible===!1)return;if(Y.layers.test(pe.layers)){if(Y.isGroup)Se=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(pe);else if(Y.isLight)y.pushLight(Y),Y.castShadow&&y.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||ye.intersectsSprite(Y)){Ee&&Ce.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(Re);const lt=Be.update(Y),gt=Y.material;gt.visible&&b.push(Y,lt,gt,Se,Ce.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||ye.intersectsObject(Y))){const lt=Be.update(Y),gt=Y.material;if(Ee&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Ce.copy(Y.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),Ce.copy(lt.boundingSphere.center)),Ce.applyMatrix4(Y.matrixWorld).applyMatrix4(Re)),Array.isArray(gt)){const _t=lt.groups;for(let ut=0,Pt=_t.length;ut<Pt;ut++){const Tt=_t[ut],an=gt[Tt.materialIndex];an&&an.visible&&b.push(Y,lt,an,Se,Ce.z,Tt)}}else gt.visible&&b.push(Y,lt,gt,Se,Ce.z,null)}}const Je=Y.children;for(let lt=0,gt=Je.length;lt<gt;lt++)il(Je[lt],pe,Se,Ee)}function Sa(Y,pe,Se,Ee){const ge=Y.opaque,Je=Y.transmissive,lt=Y.transparent;y.setupLightsView(Se),ue===!0&&rt.setGlobalState(S.clippingPlanes,Se),Ee&&De.viewport(F.copy(Ee)),ge.length>0&&ms(ge,pe,Se),Je.length>0&&ms(Je,pe,Se),lt.length>0&&ms(lt,pe,Se),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function Uc(Y,pe,Se,Ee){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[Ee.id]===void 0&&(y.state.transmissionRenderTarget[Ee.id]=new ya(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")||Me.has("EXT_color_buffer_float")?h0:Ja,minFilter:Va,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:En.workingColorSpace}));const Je=y.state.transmissionRenderTarget[Ee.id],lt=Ee.viewport||F;Je.setSize(lt.z,lt.w);const gt=S.getRenderTarget();S.setRenderTarget(Je),S.getClearColor(q),X=S.getClearAlpha(),X<1&&S.setClearColor(16777215,.5),Ae?$e.render(Se):S.clear();const _t=S.toneMapping;S.toneMapping=Ka;const ut=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),y.setupLightsView(Ee),ue===!0&&rt.setGlobalState(S.clippingPlanes,Ee),ms(Y,Se,Ee),et.updateMultisampleRenderTarget(Je),et.updateRenderTargetMipmap(Je),Me.has("WEBGL_multisampled_render_to_texture")===!1){let Pt=!1;for(let Tt=0,an=pe.length;Tt<an;Tt++){const On=pe[Tt],kn=On.object,ur=On.geometry,Gt=On.material,Ye=On.group;if(Gt.side===ja&&kn.layers.test(Ee.layers)){const Vt=Gt.side;Gt.side=ds,Gt.needsUpdate=!0,sl(kn,Se,Ee,ur,Gt,Ye),Gt.side=Vt,Gt.needsUpdate=!0,Pt=!0}}Pt===!0&&(et.updateMultisampleRenderTarget(Je),et.updateRenderTargetMipmap(Je))}S.setRenderTarget(gt),S.setClearColor(q,X),ut!==void 0&&(Ee.viewport=ut),S.toneMapping=_t}function ms(Y,pe,Se){const Ee=pe.isScene===!0?pe.overrideMaterial:null;for(let ge=0,Je=Y.length;ge<Je;ge++){const lt=Y[ge],gt=lt.object,_t=lt.geometry,ut=Ee===null?lt.material:Ee,Pt=lt.group;gt.layers.test(Se.layers)&&sl(gt,pe,Se,_t,ut,Pt)}}function sl(Y,pe,Se,Ee,ge,Je){Y.onBeforeRender(S,pe,Se,Ee,ge,Je),Y.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),ge.onBeforeRender(S,pe,Se,Ee,Y,Je),ge.transparent===!0&&ge.side===ja&&ge.forceSinglePass===!1?(ge.side=ds,ge.needsUpdate=!0,S.renderBufferDirect(Se,pe,Ee,ge,Y,Je),ge.side=du,ge.needsUpdate=!0,S.renderBufferDirect(Se,pe,Ee,ge,Y,Je),ge.side=ja):S.renderBufferDirect(Se,pe,Ee,ge,Y,Je),Y.onAfterRender(S,pe,Se,Ee,ge,Je)}function $i(Y,pe,Se){pe.isScene!==!0&&(pe=qe);const Ee=Ze.get(Y),ge=y.state.lights,Je=y.state.shadowsArray,lt=ge.state.version,gt=Fe.getParameters(Y,ge.state,Je,pe,Se),_t=Fe.getProgramCacheKey(gt);let ut=Ee.programs;Ee.environment=Y.isMeshStandardMaterial?pe.environment:null,Ee.fog=pe.fog,Ee.envMap=(Y.isMeshStandardMaterial?ie:At).get(Y.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&Y.envMap===null?pe.environmentRotation:Y.envMapRotation,ut===void 0&&(Y.addEventListener("dispose",Xe),ut=new Map,Ee.programs=ut);let Pt=ut.get(_t);if(Pt!==void 0){if(Ee.currentProgram===Pt&&Ee.lightsStateVersion===lt)return Dd(Y,gt),Pt}else gt.uniforms=Fe.getUniforms(Y),Y.onBuild(Se,gt,S),Y.onBeforeCompile(gt,S),Pt=Fe.acquireProgram(gt,_t),ut.set(_t,Pt),Ee.uniforms=gt.uniforms;const Tt=Ee.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(Tt.clippingPlanes=rt.uniform),Dd(Y,gt),Ee.needsLights=No(Y),Ee.lightsStateVersion=lt,Ee.needsLights&&(Tt.ambientLightColor.value=ge.state.ambient,Tt.lightProbe.value=ge.state.probe,Tt.directionalLights.value=ge.state.directional,Tt.directionalLightShadows.value=ge.state.directionalShadow,Tt.spotLights.value=ge.state.spot,Tt.spotLightShadows.value=ge.state.spotShadow,Tt.rectAreaLights.value=ge.state.rectArea,Tt.ltc_1.value=ge.state.rectAreaLTC1,Tt.ltc_2.value=ge.state.rectAreaLTC2,Tt.pointLights.value=ge.state.point,Tt.pointLightShadows.value=ge.state.pointShadow,Tt.hemisphereLights.value=ge.state.hemi,Tt.directionalShadowMap.value=ge.state.directionalShadowMap,Tt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Tt.spotShadowMap.value=ge.state.spotShadowMap,Tt.spotLightMatrix.value=ge.state.spotLightMatrix,Tt.spotLightMap.value=ge.state.spotLightMap,Tt.pointShadowMap.value=ge.state.pointShadowMap,Tt.pointShadowMatrix.value=ge.state.pointShadowMatrix),Ee.currentProgram=Pt,Ee.uniformsList=null,Pt}function _u(Y){if(Y.uniformsList===null){const pe=Y.currentProgram.getUniforms();Y.uniformsList=Y_.seqWithValue(pe.seq,Y.uniforms)}return Y.uniformsList}function Dd(Y,pe){const Se=Ze.get(Y);Se.outputColorSpace=pe.outputColorSpace,Se.batching=pe.batching,Se.batchingColor=pe.batchingColor,Se.instancing=pe.instancing,Se.instancingColor=pe.instancingColor,Se.instancingMorph=pe.instancingMorph,Se.skinning=pe.skinning,Se.morphTargets=pe.morphTargets,Se.morphNormals=pe.morphNormals,Se.morphColors=pe.morphColors,Se.morphTargetsCount=pe.morphTargetsCount,Se.numClippingPlanes=pe.numClippingPlanes,Se.numIntersection=pe.numClipIntersection,Se.vertexAlphas=pe.vertexAlphas,Se.vertexTangents=pe.vertexTangents,Se.toneMapping=pe.toneMapping}function Nm(Y,pe,Se,Ee,ge){pe.isScene!==!0&&(pe=qe),et.resetTextureUnits();const Je=pe.fog,lt=Ee.isMeshStandardMaterial?pe.environment:null,gt=I===null?S.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:yu,_t=(Ee.isMeshStandardMaterial?ie:At).get(Ee.envMap||lt),ut=Ee.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,Pt=!!Se.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Tt=!!Se.morphAttributes.position,an=!!Se.morphAttributes.normal,On=!!Se.morphAttributes.color;let kn=Ka;Ee.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(kn=S.toneMapping);const ur=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Gt=ur!==void 0?ur.length:0,Ye=Ze.get(Ee),Vt=y.state.lights;if(ue===!0&&(xe===!0||Y!==L)){const pi=Y===L&&Ee.id===k;rt.setState(Ee,Y,pi)}let Ft=!1;Ee.version===Ye.__version?(Ye.needsLights&&Ye.lightsStateVersion!==Vt.state.version||Ye.outputColorSpace!==gt||ge.isBatchedMesh&&Ye.batching===!1||!ge.isBatchedMesh&&Ye.batching===!0||ge.isBatchedMesh&&Ye.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Ye.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Ye.instancing===!1||!ge.isInstancedMesh&&Ye.instancing===!0||ge.isSkinnedMesh&&Ye.skinning===!1||!ge.isSkinnedMesh&&Ye.skinning===!0||ge.isInstancedMesh&&Ye.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Ye.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Ye.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Ye.instancingMorph===!1&&ge.morphTexture!==null||Ye.envMap!==_t||Ee.fog===!0&&Ye.fog!==Je||Ye.numClippingPlanes!==void 0&&(Ye.numClippingPlanes!==rt.numPlanes||Ye.numIntersection!==rt.numIntersection)||Ye.vertexAlphas!==ut||Ye.vertexTangents!==Pt||Ye.morphTargets!==Tt||Ye.morphNormals!==an||Ye.morphColors!==On||Ye.toneMapping!==kn||Ye.morphTargetsCount!==Gt)&&(Ft=!0):(Ft=!0,Ye.__version=Ee.version);let Fn=Ye.currentProgram;Ft===!0&&(Fn=$i(Ee,pe,ge));let Sr=!1,hi=!1,qi=!1;const rn=Fn.getUniforms(),jr=Ye.uniforms;if(De.useProgram(Fn.program)&&(Sr=!0,hi=!0,qi=!0),Ee.id!==k&&(k=Ee.id,hi=!0),Sr||L!==Y){rn.setValue(se,"projectionMatrix",Y.projectionMatrix),rn.setValue(se,"viewMatrix",Y.matrixWorldInverse);const pi=rn.map.cameraPosition;pi!==void 0&&pi.setValue(se,Ce.setFromMatrixPosition(Y.matrixWorld)),Ne.logarithmicDepthBuffer&&rn.setValue(se,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&rn.setValue(se,"isOrthographic",Y.isOrthographicCamera===!0),L!==Y&&(L=Y,hi=!0,qi=!0)}if(ge.isSkinnedMesh){rn.setOptional(se,ge,"bindMatrix"),rn.setOptional(se,ge,"bindMatrixInverse");const pi=ge.skeleton;pi&&(pi.boneTexture===null&&pi.computeBoneTexture(),rn.setValue(se,"boneTexture",pi.boneTexture,et))}ge.isBatchedMesh&&(rn.setOptional(se,ge,"batchingTexture"),rn.setValue(se,"batchingTexture",ge._matricesTexture,et),rn.setOptional(se,ge,"batchingColorTexture"),ge._colorsTexture!==null&&rn.setValue(se,"batchingColorTexture",ge._colorsTexture,et));const Io=Se.morphAttributes;if((Io.position!==void 0||Io.normal!==void 0||Io.color!==void 0)&&mt.update(ge,Se,Fn),(hi||Ye.receiveShadow!==ge.receiveShadow)&&(Ye.receiveShadow=ge.receiveShadow,rn.setValue(se,"receiveShadow",ge.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(jr.envMap.value=_t,jr.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&pe.environment!==null&&(jr.envMapIntensity.value=pe.environmentIntensity),hi&&(rn.setValue(se,"toneMappingExposure",S.toneMappingExposure),Ye.needsLights&&Im(jr,qi),Je&&Ee.fog===!0&&Ve.refreshFogUniforms(jr,Je),Ve.refreshMaterialUniforms(jr,Ee,ee,Z,y.state.transmissionRenderTarget[Y.id]),Y_.upload(se,_u(Ye),jr,et)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(Y_.upload(se,_u(Ye),jr,et),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&rn.setValue(se,"center",ge.center),rn.setValue(se,"modelViewMatrix",ge.modelViewMatrix),rn.setValue(se,"normalMatrix",ge.normalMatrix),rn.setValue(se,"modelMatrix",ge.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const pi=Ee.uniformsGroups;for(let Ma=0,bu=pi.length;Ma<bu;Ma++){const mi=pi[Ma];Yt.update(mi,Fn),Yt.bind(mi,Fn)}}return Fn}function Im(Y,pe){Y.ambientLightColor.needsUpdate=pe,Y.lightProbe.needsUpdate=pe,Y.directionalLights.needsUpdate=pe,Y.directionalLightShadows.needsUpdate=pe,Y.pointLights.needsUpdate=pe,Y.pointLightShadows.needsUpdate=pe,Y.spotLights.needsUpdate=pe,Y.spotLightShadows.needsUpdate=pe,Y.rectAreaLights.needsUpdate=pe,Y.hemisphereLights.needsUpdate=pe}function No(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(Y,pe,Se){Ze.get(Y.texture).__webglTexture=pe,Ze.get(Y.depthTexture).__webglTexture=Se;const Ee=Ze.get(Y);Ee.__hasExternalTextures=!0,Ee.__autoAllocateDepthBuffer=Se===void 0,Ee.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Y,pe){const Se=Ze.get(Y);Se.__webglFramebuffer=pe,Se.__useDefaultFramebuffer=pe===void 0},this.setRenderTarget=function(Y,pe=0,Se=0){I=Y,P=pe,O=Se;let Ee=!0,ge=null,Je=!1,lt=!1;if(Y){const _t=Ze.get(Y);_t.__useDefaultFramebuffer!==void 0?(De.bindFramebuffer(se.FRAMEBUFFER,null),Ee=!1):_t.__webglFramebuffer===void 0?et.setupRenderTarget(Y):_t.__hasExternalTextures&&et.rebindTextures(Y,Ze.get(Y.texture).__webglTexture,Ze.get(Y.depthTexture).__webglTexture);const ut=Y.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(lt=!0);const Pt=Ze.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(Pt[pe])?ge=Pt[pe][Se]:ge=Pt[pe],Je=!0):Y.samples>0&&et.useMultisampledRTT(Y)===!1?ge=Ze.get(Y).__webglMultisampledFramebuffer:Array.isArray(Pt)?ge=Pt[Se]:ge=Pt,F.copy(Y.viewport),j.copy(Y.scissor),H=Y.scissorTest}else F.copy(Q).multiplyScalar(ee).floor(),j.copy(G).multiplyScalar(ee).floor(),H=ne;if(De.bindFramebuffer(se.FRAMEBUFFER,ge)&&Ee&&De.drawBuffers(Y,ge),De.viewport(F),De.scissor(j),De.setScissorTest(H),Je){const _t=Ze.get(Y.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+pe,_t.__webglTexture,Se)}else if(lt){const _t=Ze.get(Y.texture),ut=pe||0;se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,_t.__webglTexture,Se||0,ut)}k=-1},this.readRenderTargetPixels=function(Y,pe,Se,Ee,ge,Je,lt){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=Ze.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&lt!==void 0&&(gt=gt[lt]),gt){De.bindFramebuffer(se.FRAMEBUFFER,gt);try{const _t=Y.texture,ut=_t.format,Pt=_t.type;if(!Ne.textureFormatReadable(ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=Y.width-Ee&&Se>=0&&Se<=Y.height-ge&&se.readPixels(pe,Se,Ee,ge,ot.convert(ut),ot.convert(Pt),Je)}finally{const _t=I!==null?Ze.get(I).__webglFramebuffer:null;De.bindFramebuffer(se.FRAMEBUFFER,_t)}}},this.readRenderTargetPixelsAsync=async function(Y,pe,Se,Ee,ge,Je,lt){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=Ze.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&lt!==void 0&&(gt=gt[lt]),gt){De.bindFramebuffer(se.FRAMEBUFFER,gt);try{const _t=Y.texture,ut=_t.format,Pt=_t.type;if(!Ne.textureFormatReadable(ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(pe>=0&&pe<=Y.width-Ee&&Se>=0&&Se<=Y.height-ge){const Tt=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,Tt),se.bufferData(se.PIXEL_PACK_BUFFER,Je.byteLength,se.STREAM_READ),se.readPixels(pe,Se,Ee,ge,ot.convert(ut),ot.convert(Pt),0),se.flush();const an=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);await Bwe(se,an,4);try{se.bindBuffer(se.PIXEL_PACK_BUFFER,Tt),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,Je)}finally{se.deleteBuffer(Tt),se.deleteSync(an)}return Je}}finally{const _t=I!==null?Ze.get(I).__webglFramebuffer:null;De.bindFramebuffer(se.FRAMEBUFFER,_t)}}},this.copyFramebufferToTexture=function(Y,pe=null,Se=0){Y.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),pe=arguments[0]||null,Y=arguments[1]);const Ee=Math.pow(2,-Se),ge=Math.floor(Y.image.width*Ee),Je=Math.floor(Y.image.height*Ee),lt=pe!==null?pe.x:0,gt=pe!==null?pe.y:0;et.setTexture2D(Y,0),se.copyTexSubImage2D(se.TEXTURE_2D,Se,0,0,lt,gt,ge,Je),De.unbindTexture()},this.copyTextureToTexture=function(Y,pe,Se=null,Ee=null,ge=0){Y.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),Ee=arguments[0]||null,Y=arguments[1],pe=arguments[2],ge=arguments[3]||0,Se=null);let Je,lt,gt,_t,ut,Pt;Se!==null?(Je=Se.max.x-Se.min.x,lt=Se.max.y-Se.min.y,gt=Se.min.x,_t=Se.min.y):(Je=Y.image.width,lt=Y.image.height,gt=0,_t=0),Ee!==null?(ut=Ee.x,Pt=Ee.y):(ut=0,Pt=0);const Tt=ot.convert(pe.format),an=ot.convert(pe.type);et.setTexture2D(pe,0),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,pe.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,pe.unpackAlignment);const On=se.getParameter(se.UNPACK_ROW_LENGTH),kn=se.getParameter(se.UNPACK_IMAGE_HEIGHT),ur=se.getParameter(se.UNPACK_SKIP_PIXELS),Gt=se.getParameter(se.UNPACK_SKIP_ROWS),Ye=se.getParameter(se.UNPACK_SKIP_IMAGES),Vt=Y.isCompressedTexture?Y.mipmaps[ge]:Y.image;se.pixelStorei(se.UNPACK_ROW_LENGTH,Vt.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Vt.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,gt),se.pixelStorei(se.UNPACK_SKIP_ROWS,_t),Y.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,ge,ut,Pt,Je,lt,Tt,an,Vt.data):Y.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,ge,ut,Pt,Vt.width,Vt.height,Tt,Vt.data):se.texSubImage2D(se.TEXTURE_2D,ge,ut,Pt,Tt,an,Vt),se.pixelStorei(se.UNPACK_ROW_LENGTH,On),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,kn),se.pixelStorei(se.UNPACK_SKIP_PIXELS,ur),se.pixelStorei(se.UNPACK_SKIP_ROWS,Gt),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Ye),ge===0&&pe.generateMipmaps&&se.generateMipmap(se.TEXTURE_2D),De.unbindTexture()},this.copyTextureToTexture3D=function(Y,pe,Se=null,Ee=null,ge=0){Y.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Se=arguments[0]||null,Ee=arguments[1]||null,Y=arguments[2],pe=arguments[3],ge=arguments[4]||0);let Je,lt,gt,_t,ut,Pt,Tt,an,On;const kn=Y.isCompressedTexture?Y.mipmaps[ge]:Y.image;Se!==null?(Je=Se.max.x-Se.min.x,lt=Se.max.y-Se.min.y,gt=Se.max.z-Se.min.z,_t=Se.min.x,ut=Se.min.y,Pt=Se.min.z):(Je=kn.width,lt=kn.height,gt=kn.depth,_t=0,ut=0,Pt=0),Ee!==null?(Tt=Ee.x,an=Ee.y,On=Ee.z):(Tt=0,an=0,On=0);const ur=ot.convert(pe.format),Gt=ot.convert(pe.type);let Ye;if(pe.isData3DTexture)et.setTexture3D(pe,0),Ye=se.TEXTURE_3D;else if(pe.isDataArrayTexture||pe.isCompressedArrayTexture)et.setTexture2DArray(pe,0),Ye=se.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,pe.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,pe.unpackAlignment);const Vt=se.getParameter(se.UNPACK_ROW_LENGTH),Ft=se.getParameter(se.UNPACK_IMAGE_HEIGHT),Fn=se.getParameter(se.UNPACK_SKIP_PIXELS),Sr=se.getParameter(se.UNPACK_SKIP_ROWS),hi=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,kn.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,kn.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,_t),se.pixelStorei(se.UNPACK_SKIP_ROWS,ut),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Pt),Y.isDataTexture||Y.isData3DTexture?se.texSubImage3D(Ye,ge,Tt,an,On,Je,lt,gt,ur,Gt,kn.data):pe.isCompressedArrayTexture?se.compressedTexSubImage3D(Ye,ge,Tt,an,On,Je,lt,gt,ur,kn.data):se.texSubImage3D(Ye,ge,Tt,an,On,Je,lt,gt,ur,Gt,kn),se.pixelStorei(se.UNPACK_ROW_LENGTH,Vt),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Ft),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Fn),se.pixelStorei(se.UNPACK_SKIP_ROWS,Sr),se.pixelStorei(se.UNPACK_SKIP_IMAGES,hi),ge===0&&pe.generateMipmaps&&se.generateMipmap(Ye),De.unbindTexture()},this.initRenderTarget=function(Y){Ze.get(Y).__webglFramebuffer===void 0&&et.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?et.setTextureCube(Y,0):Y.isData3DTexture?et.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?et.setTexture2DArray(Y,0):et.setTexture2D(Y,0),De.unbindTexture()},this.resetState=function(){P=0,O=0,I=null,De.reset(),Wt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ha}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===AS?"display-p3":"srgb",n.unpackColorSpace=En.workingColorSpace===p0?"display-p3":"srgb"}}class RS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ht(e),this.density=n}clone(){return new RS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ht(e),this.near=n,this.far=r}clone(){return new OS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class hw extends Sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ro,this.environmentIntensity=1,this.environmentRotation=new ro,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class NS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Iy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=to()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return II("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ss=new te;class Md{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ss.fromBufferAttribute(this,n),ss.applyMatrix4(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ss.fromBufferAttribute(this,n),ss.applyNormalMatrix(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ss.fromBufferAttribute(this,n),ss.transformDirection(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=as(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Kt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Kt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=as(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=as(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=as(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=as(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Kt(n,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Md(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class zI extends Pi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Qh;const Xg=new te,Jh=new te,ep=new te,tp=new je,Kg=new je,B7=new Nt,c_=new te,Yg=new te,f_=new te,S5=new je,kP=new je,M5=new je;class j7 extends Sn{constructor(e=new zI){if(super(),this.isSprite=!0,this.type="Sprite",Qh===void 0){Qh=new en;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new NS(n,5);Qh.setIndex([0,1,2,0,2,3]),Qh.setAttribute("position",new Md(r,3,0,!1)),Qh.setAttribute("uv",new Md(r,2,3,!1))}this.geometry=Qh,this.material=e,this.center=new je(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Jh.setFromMatrixScale(this.matrixWorld),B7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ep.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Jh.multiplyScalar(-ep.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;d_(c_.set(-.5,-.5,0),ep,o,Jh,i,s),d_(Yg.set(.5,-.5,0),ep,o,Jh,i,s),d_(f_.set(.5,.5,0),ep,o,Jh,i,s),S5.set(0,0),kP.set(1,0),M5.set(1,1);let a=e.ray.intersectTriangle(c_,Yg,f_,!1,Xg);if(a===null&&(d_(Yg.set(-.5,.5,0),ep,o,Jh,i,s),kP.set(0,1),a=e.ray.intersectTriangle(c_,f_,Yg,!1,Xg),a===null))return;const l=e.ray.origin.distanceTo(Xg);l<e.near||l>e.far||n.push({distance:l,point:Xg.clone(),uv:Ys.getInterpolation(Xg,c_,Yg,f_,S5,kP,M5,new je),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function d_(t,e,n,r,i,s){tp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Kg.x=s*tp.x-i*tp.y,Kg.y=i*tp.x+s*tp.y):Kg.copy(tp),t.copy(e),t.x+=Kg.x,t.y+=Kg.y,t.applyMatrix4(B7)}const h_=new te,E5=new te;class z7 extends Sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){h_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(h_);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){h_.setFromMatrixPosition(e.matrixWorld),E5.setFromMatrixPosition(this.matrixWorld);const r=h_.distanceTo(E5)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const T5=new te,A5=new In,P5=new In,$Te=new te,C5=new Nt,p_=new te,FP=new Wi,R5=new Nt,UP=new Pm;class V7 extends Ur{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=M2,this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new hs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,p_),this.boundingBox.expandByPoint(p_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Wi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,p_),this.boundingSphere.expandByPoint(p_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),FP.copy(this.boundingSphere),FP.applyMatrix4(i),e.ray.intersectsSphere(FP)!==!1&&(R5.copy(i).invert(),UP.copy(e.ray).applyMatrix4(R5),!(this.boundingBox!==null&&UP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,UP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new In,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===M2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Q9?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;A5.fromBufferAttribute(i.attributes.skinIndex,e),P5.fromBufferAttribute(i.attributes.skinWeight,e),T5.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=P5.getComponent(s);if(o!==0){const a=A5.getComponent(s);C5.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector($Te.copy(T5).applyMatrix4(C5),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class VI extends Sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class nu extends mr{constructor(e=null,n=1,r=1,i,s,o,a,l,u=ui,f=ui,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const O5=new Nt,qTe=new Nt;class IS{constructor(e=[],n=[]){this.uuid=to(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Nt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:qTe;O5.multiplyMatrices(a,n[s]),O5.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new IS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new nu(n,e,e,us,Zs);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new VI),this.bones.push(o),this.boneInverses.push(new Nt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class dm extends Ln{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const np=new Nt,N5=new Nt,m_=[],I5=new hs,XTe=new Nt,Zg=new Ur,Qg=new Wi;class H7 extends Ur{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new dm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,XTe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new hs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,np),I5.copy(e.boundingBox).applyMatrix4(np),this.boundingBox.union(I5)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Wi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,np),Qg.copy(e.boundingSphere).applyMatrix4(np),this.boundingSphere.union(Qg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Zg.geometry=this.geometry,Zg.material=this.material,Zg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qg.copy(this.boundingSphere),Qg.applyMatrix4(r),e.ray.intersectsSphere(Qg)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,np),N5.multiplyMatrices(r,np),Zg.matrixWorld=N5,Zg.raycast(e,m_);for(let o=0,a=m_.length;o<a;o++){const l=m_[o];l.instanceId=s,l.object=this,n.push(l)}m_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new dm(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new nu(new Float32Array(i*this.count),i,this.count,TI,Zs));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function KTe(t,e){return t.z-e.z}function YTe(t,e){return e.z-t.z}class ZTe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const rp="batchId",lc=new Nt,BP=new Nt,QTe=new Nt,JTe=new ht(1,1,1),L5=new Nt,jP=new v0,g_=new hs,Lf=new Wi,Jg=new te,D5=new te,eAe=new te,zP=new ZTe,Bi=new Ur,v_=[];function tAe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class W7 extends Ur{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new en,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new nu(n,e,e,us,Zs);this._matricesTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new nu(n,e,e,us,Zs);r.colorSpace=En.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:f,normalized:d}=l,p=new u.constructor(r*f),v=new Ln(p,f,d);n.setAttribute(a,v)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Ln(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(rp,new Ln(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(rp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${rp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===rp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hs);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,lc),this.getBoundingBoxAt(i,g_).applyMatrix4(lc),n.union(g_))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wi);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,lc),this.getBoundingSphereAt(i,Lf).applyMatrix4(lc),n.union(Lf))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),f=u!==null;if(f&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,p=this._active,v=this._matricesTexture,x=this._matricesTexture.image.data,b=this._colorsTexture;d.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,QTe.toArray(x,y*16),v.needsUpdate=!0,b!==null&&(JTe.toArray(b.image.data,y*4),b.needsUpdate=!0),o.push(i),a.push({start:f?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new hs,sphereInitialized:!1,sphere:new Wi});const w=this.geometry.getAttribute(rp);for(let M=0;M<i.vertexCount;M++)w.setX(i.vertexStart+M,y);return w.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.vertexCount;for(const v in r.attributes){if(v===rp)continue;const x=n.getAttribute(v),b=r.getAttribute(v);tAe(x,b,l);const y=x.itemSize;for(let w=x.count,M=u;w<M;w++){const S=l+w;for(let A=0;A<y;A++)b.setComponent(S,A,0)}b.needsUpdate=!0,b.addUpdateRange(l*y,u*y)}if(i){const v=a.indexStart;for(let x=0;x<o.count;x++)s.setX(v+x,l+o.getX(x));for(let x=o.count,b=a.indexCount;x<b;x++)s.setX(v+x,l);s.needsUpdate=!0,s.addUpdateRange(v,a.indexCount)}const f=this._bounds[e];n.boundingBox!==null?(f.box.copy(n.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,n.boundingSphere!==null?(f.sphere.copy(n.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const d=this._drawRanges[e],p=n.getAttribute("position");return d.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,n){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=n,e}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let f=u.start,d=u.start+u.count;f<d;f++){let p=f;a&&(p=a.getX(p)),s.expandByPoint(Jg.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,g_),g_.getCenter(s.center);const a=o.index,l=o.attributes.position,u=this._drawRanges[e];let f=0;for(let d=u.start,p=u.start+u.count;d<p;d++){let v=d;a&&(v=a.getX(v)),Jg.fromBufferAttribute(l,v),f=Math.max(f,s.center.distanceToSquared(Jg))}s.radius=Math.sqrt(f),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._active,i=this._colorsTexture,s=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const r=this._active,i=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Bi.material=this.material,Bi.geometry.index=l.index,Bi.geometry.attributes=l.attributes,Bi.geometry.boundingBox===null&&(Bi.geometry.boundingBox=new hs),Bi.geometry.boundingSphere===null&&(Bi.geometry.boundingSphere=new Wi);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const f=s[u];Bi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(u,Bi.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Bi.geometry.boundingBox),this.getBoundingSphereAt(u,Bi.geometry.boundingSphere),Bi.raycast(e,v_);for(let d=0,p=v_.length;d<p;d++){const v=v_[d];v.object=this,v.batchId=u,n.push(v)}v_.length=0}Bi.material=null,Bi.geometry.index=null,Bi.geometry.attributes={},Bi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,f=this._multiDrawStarts,d=this._multiDrawCounts,p=this._drawRanges,v=this.perObjectFrustumCulled;v&&(L5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),jP.setFromProjectionMatrix(L5,e.coordinateSystem));let x=0;if(this.sortObjects){BP.copy(this.matrixWorld).invert(),Jg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(BP),D5.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(BP);for(let w=0,M=u.length;w<M;w++)if(u[w]&&l[w]){this.getMatrixAt(w,lc),this.getBoundingSphereAt(w,Lf).applyMatrix4(lc);let S=!1;if(v&&(S=!jP.intersectsSphere(Lf)),!S){const A=eAe.subVectors(Lf.center,Jg).dot(D5);zP.push(p[w],A)}}const b=zP.list,y=this.customSort;y===null?b.sort(s.transparent?YTe:KTe):y.call(this,b,r);for(let w=0,M=b.length;w<M;w++){const S=b[w];f[x]=S.start*a,d[x]=S.count,x++}zP.reset()}else for(let b=0,y=u.length;b<y;b++)if(u[b]&&l[b]){let w=!1;if(v&&(this.getMatrixAt(b,lc),this.getBoundingSphereAt(b,Lf).applyMatrix4(lc),w=!jP.intersectsSphere(Lf)),!w){const M=p[b];f[x]=M.start*a,d[x]=M.count,x++}}this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ps extends Pi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pw=new te,mw=new te,k5=new Nt,ev=new Pm,y_=new Wi,VP=new te,F5=new te;class Tc extends Sn{constructor(e=new en,n=new ps){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)pw.fromBufferAttribute(n,i-1),mw.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=pw.distanceTo(mw);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),y_.copy(r.boundingSphere),y_.applyMatrix4(i),y_.radius+=s,e.ray.intersectsSphere(y_)===!1)return;k5.copy(i).invert(),ev.copy(e.ray).applyMatrix4(k5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,f=r.index,p=r.attributes.position;if(f!==null){const v=Math.max(0,o.start),x=Math.min(f.count,o.start+o.count);for(let b=v,y=x-1;b<y;b+=u){const w=f.getX(b),M=f.getX(b+1),S=x_(this,e,ev,l,w,M);S&&n.push(S)}if(this.isLineLoop){const b=f.getX(x-1),y=f.getX(v),w=x_(this,e,ev,l,b,y);w&&n.push(w)}}else{const v=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count);for(let b=v,y=x-1;b<y;b+=u){const w=x_(this,e,ev,l,b,b+1);w&&n.push(w)}if(this.isLineLoop){const b=x_(this,e,ev,l,x-1,v);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function x_(t,e,n,r,i,s){const o=t.geometry.attributes.position;if(pw.fromBufferAttribute(o,i),mw.fromBufferAttribute(o,s),n.distanceSqToSegment(pw,mw,VP,F5)>r)return;VP.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(VP);if(!(l<e.near||l>e.far))return{distance:l,point:F5.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}const U5=new te,B5=new te;class rl extends Tc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)U5.fromBufferAttribute(n,i),B5.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+U5.distanceTo(B5);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class G7 extends Tc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class LS extends Pi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const j5=new Nt,tO=new Pm,__=new Wi,b_=new te;let $7=class extends Sn{constructor(e=new en,n=new LS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),__.copy(r.boundingSphere),__.applyMatrix4(i),__.radius+=s,e.ray.intersectsSphere(__)===!1)return;j5.copy(i).invert(),tO.copy(e.ray).applyMatrix4(j5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let x=p,b=v;x<b;x++){const y=u.getX(x);b_.fromBufferAttribute(d,y),z5(b_,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let x=p,b=v;x<b;x++)b_.fromBufferAttribute(d,x),z5(b_,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function z5(t,e,n,r,i,s,o){const a=tO.distanceSqToPoint(t);if(a<n){const l=new te;tO.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class nAe extends mr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Fr,this.magFilter=s!==void 0?s:Fr,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class rAe extends mr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ui,this.minFilter=ui,this.generateMipmaps=!1,this.needsUpdate=!0}}class DS extends mr{constructor(e,n,r,i,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iAe extends DS{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ao,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sAe extends DS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,hu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class oAe extends mr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ba{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,v=(o-f)/p;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new je:new te);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new te,i=[],s=[],o=[],a=new te,l=new Nt;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new te)}s[0]=new te,o[0]=new te;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(wr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,x))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(wr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),o[x].crossVectors(i[x],s[x])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kS extends ba{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new je){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,v=u-this.aY;l=p*f-v*d+this.aX,u=p*d+v*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class q7 extends kS{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function HI(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,v=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,v*=f,i(o,a,p,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const w_=new te,HP=new HI,WP=new HI,GP=new HI;class X7 extends ba{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new te){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(w_.subVectors(i[0],i[1]).add(i[0]),u=w_);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(w_.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=w_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(d),v),b=Math.pow(d.distanceToSquared(p),v),y=Math.pow(p.distanceToSquared(f),v);b<1e-4&&(b=1),x<1e-4&&(x=b),y<1e-4&&(y=b),HP.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,x,b,y),WP.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,x,b,y),GP.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,x,b,y)}else this.curveType==="catmullrom"&&(HP.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),WP.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),GP.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return r.set(HP.calc(l),WP.calc(l),GP.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new te().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function V5(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function aAe(t,e){const n=1-t;return n*n*e}function lAe(t,e){return 2*(1-t)*t*e}function uAe(t,e){return t*t*e}function Cv(t,e,n,r){return aAe(t,e)+lAe(t,n)+uAe(t,r)}function cAe(t,e){const n=1-t;return n*n*n*e}function fAe(t,e){const n=1-t;return 3*n*n*t*e}function dAe(t,e){return 3*(1-t)*t*t*e}function hAe(t,e){return t*t*t*e}function Rv(t,e,n,r,i){return cAe(t,e)+fAe(t,n)+dAe(t,r)+hAe(t,i)}class WI extends ba{constructor(e=new je,n=new je,r=new je,i=new je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new je){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rv(e,i.x,s.x,o.x,a.x),Rv(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class K7 extends ba{constructor(e=new te,n=new te,r=new te,i=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rv(e,i.x,s.x,o.x,a.x),Rv(e,i.y,s.y,o.y,a.y),Rv(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class GI extends ba{constructor(e=new je,n=new je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new je){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new je){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Y7 extends ba{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $I extends ba{constructor(e=new je,n=new je,r=new je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new je){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Cv(e,i.x,s.x,o.x),Cv(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qI extends ba{constructor(e=new te,n=new te,r=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Cv(e,i.x,s.x,o.x),Cv(e,i.y,s.y,o.y),Cv(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XI extends ba{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new je){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(V5(a,l.x,u.x,f.x,d.x),V5(a,l.y,u.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new je().fromArray(i))}return this}}var gw=Object.freeze({__proto__:null,ArcCurve:q7,CatmullRomCurve3:X7,CubicBezierCurve:WI,CubicBezierCurve3:K7,EllipseCurve:kS,LineCurve:GI,LineCurve3:Y7,QuadraticBezierCurve:$I,QuadraticBezierCurve3:qI,SplineCurve:XI});class Z7 extends ba{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new gw[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new gw[i.type]().fromJSON(i))}return this}}class ky extends Z7{constructor(e){super(),this.type="Path",this.currentPoint=new je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new GI(this.currentPoint.clone(),new je(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new $I(this.currentPoint.clone(),new je(e,n),new je(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new WI(this.currentPoint.clone(),new je(e,n),new je(r,i),new je(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new XI(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new kS(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class x0 extends en{constructor(e=[new je(0,-.5),new je(.5,0),new je(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=wr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/n,d=new te,p=new je,v=new te,x=new te,b=new te;let y=0,w=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:y=e[M+1].x-e[M].x,w=e[M+1].y-e[M].y,v.x=w*1,v.y=-y,v.z=w*0,b.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:y=e[M+1].x-e[M].x,w=e[M+1].y-e[M].y,v.x=w*1,v.y=-y,v.z=w*0,x.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),l.push(v.x,v.y,v.z),b.copy(x)}for(let M=0;M<=n;M++){const S=r+M*f*i,A=Math.sin(S),P=Math.cos(S);for(let O=0;O<=e.length-1;O++){d.x=e[O].x*A,d.y=e[O].y,d.z=e[O].x*P,o.push(d.x,d.y,d.z),p.x=M/n,p.y=O/(e.length-1),a.push(p.x,p.y);const I=l[3*O+0]*A,k=l[3*O+1],L=l[3*O+0]*P;u.push(I,k,L)}}for(let M=0;M<n;M++)for(let S=0;S<e.length-1;S++){const A=S+M*e.length,P=A,O=A+e.length,I=A+e.length+1,k=A+1;s.push(P,O,k),s.push(I,k,O)}this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("uv",new St(a,2)),this.setAttribute("normal",new St(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x0(e.points,e.segments,e.phiStart,e.phiLength)}}class FS extends x0{constructor(e=1,n=1,r=4,i=8){const s=new ky;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new FS(e.radius,e.length,e.capSegments,e.radialSegments)}}class US extends en{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new te,f=new je;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const v=r+d/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("normal",new St(a,3)),this.setAttribute("uv",new St(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new US(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Om extends en{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],v=[];let x=0;const b=[],y=r/2;let w=0;M(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new St(d,3)),this.setAttribute("normal",new St(p,3)),this.setAttribute("uv",new St(v,2));function M(){const A=new te,P=new te;let O=0;const I=(n-e)/r;for(let k=0;k<=s;k++){const L=[],F=k/s,j=F*(n-e)+e;for(let H=0;H<=i;H++){const q=H/i,X=q*l+a,J=Math.sin(X),Z=Math.cos(X);P.x=j*J,P.y=-F*r+y,P.z=j*Z,d.push(P.x,P.y,P.z),A.set(J,I,Z).normalize(),p.push(A.x,A.y,A.z),v.push(q,1-F),L.push(x++)}b.push(L)}for(let k=0;k<i;k++)for(let L=0;L<s;L++){const F=b[L][k],j=b[L+1][k],H=b[L+1][k+1],q=b[L][k+1];f.push(F,j,q),f.push(j,H,q),O+=6}u.addGroup(w,O,0),w+=O}function S(A){const P=x,O=new je,I=new te;let k=0;const L=A===!0?e:n,F=A===!0?1:-1;for(let H=1;H<=i;H++)d.push(0,y*F,0),p.push(0,F,0),v.push(.5,.5),x++;const j=x;for(let H=0;H<=i;H++){const X=H/i*l+a,J=Math.cos(X),Z=Math.sin(X);I.x=L*Z,I.y=y*F,I.z=L*J,d.push(I.x,I.y,I.z),p.push(0,F,0),O.x=J*.5+.5,O.y=Z*.5*F+.5,v.push(O.x,O.y),x++}for(let H=0;H<i;H++){const q=P+H,X=j+H;A===!0?f.push(X,X+1,q):f.push(X+1,X,q),k+=3}u.addGroup(w,k,A===!0?1:2),w+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Om(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class BS extends Om{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new BS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kc extends en{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(s.slice(),3)),this.setAttribute("uv",new St(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(M){const S=new te,A=new te,P=new te;for(let O=0;O<n.length;O+=3)v(n[O+0],S),v(n[O+1],A),v(n[O+2],P),l(S,A,P,M)}function l(M,S,A,P){const O=P+1,I=[];for(let k=0;k<=O;k++){I[k]=[];const L=M.clone().lerp(A,k/O),F=S.clone().lerp(A,k/O),j=O-k;for(let H=0;H<=j;H++)H===0&&k===O?I[k][H]=L:I[k][H]=L.clone().lerp(F,H/j)}for(let k=0;k<O;k++)for(let L=0;L<2*(O-k)-1;L++){const F=Math.floor(L/2);L%2===0?(p(I[k][F+1]),p(I[k+1][F]),p(I[k][F])):(p(I[k][F+1]),p(I[k+1][F+1]),p(I[k+1][F]))}}function u(M){const S=new te;for(let A=0;A<s.length;A+=3)S.x=s[A+0],S.y=s[A+1],S.z=s[A+2],S.normalize().multiplyScalar(M),s[A+0]=S.x,s[A+1]=S.y,s[A+2]=S.z}function f(){const M=new te;for(let S=0;S<s.length;S+=3){M.x=s[S+0],M.y=s[S+1],M.z=s[S+2];const A=y(M)/2/Math.PI+.5,P=w(M)/Math.PI+.5;o.push(A,1-P)}x(),d()}function d(){for(let M=0;M<o.length;M+=6){const S=o[M+0],A=o[M+2],P=o[M+4],O=Math.max(S,A,P),I=Math.min(S,A,P);O>.9&&I<.1&&(S<.2&&(o[M+0]+=1),A<.2&&(o[M+2]+=1),P<.2&&(o[M+4]+=1))}}function p(M){s.push(M.x,M.y,M.z)}function v(M,S){const A=M*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function x(){const M=new te,S=new te,A=new te,P=new te,O=new je,I=new je,k=new je;for(let L=0,F=0;L<s.length;L+=9,F+=6){M.set(s[L+0],s[L+1],s[L+2]),S.set(s[L+3],s[L+4],s[L+5]),A.set(s[L+6],s[L+7],s[L+8]),O.set(o[F+0],o[F+1]),I.set(o[F+2],o[F+3]),k.set(o[F+4],o[F+5]),P.copy(M).add(S).add(A).divideScalar(3);const j=y(P);b(O,F+0,M,j),b(I,F+2,S,j),b(k,F+4,A,j)}}function b(M,S,A,P){P<0&&M.x===1&&(o[S]=M.x-1),A.x===0&&A.z===0&&(o[S]=P/2/Math.PI+.5)}function y(M){return Math.atan2(M.z,-M.x)}function w(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kc(e.vertices,e.indices,e.radius,e.details)}}class jS extends kc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new jS(e.radius,e.detail)}}const S_=new te,M_=new te,$P=new te,E_=new Ys;class Q7 extends en{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(fd*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},v=[];for(let x=0;x<l;x+=3){o?(u[0]=o.getX(x),u[1]=o.getX(x+1),u[2]=o.getX(x+2)):(u[0]=x,u[1]=x+1,u[2]=x+2);const{a:b,b:y,c:w}=E_;if(b.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),E_.getNormal($P),d[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let M=0;M<3;M++){const S=(M+1)%3,A=d[M],P=d[S],O=E_[f[M]],I=E_[f[S]],k=`${A}_${P}`,L=`${P}_${A}`;L in p&&p[L]?($P.dot(p[L].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(I.x,I.y,I.z)),p[L]=null):k in p||(p[k]={index0:u[M],index1:u[S],normal:$P.clone()})}}for(const x in p)if(p[x]){const{index0:b,index1:y}=p[x];S_.fromBufferAttribute(a,b),M_.fromBufferAttribute(a,y),v.push(S_.x,S_.y,S_.z),v.push(M_.x,M_.y,M_.z)}this.setAttribute("position",new St(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hd extends ky{constructor(e){super(e),this.uuid=to(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ky().fromJSON(i))}return this}}const pAe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=J7(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,d,p,v;if(r&&(s=xAe(t,e,s,n)),t.length>80*n){a=u=t[0],l=f=t[1];for(let x=n;x<i;x+=n)d=t[x],p=t[x+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>f&&(f=p);v=Math.max(u-a,f-l),v=v!==0?32767/v:0}return Fy(s,o,n,a,l,v,0),o}};function J7(t,e,n,r,i){let s,o;if(i===RAe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=H5(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=H5(s,t[s],t[s+1],o);return o&&zS(o,o.next)&&(By(o),o=o.next),o}function Ed(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(zS(n,n.next)||pr(n.prev,n,n.next)===0)){if(By(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Fy(t,e,n,r,i,s,o){if(!t)return;!o&&s&&MAe(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?gAe(t,r,i,s):mAe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),By(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=vAe(Ed(t),e,n),Fy(t,e,n,r,i,s,2)):o===2&&yAe(t,e,n,r,i,s):Fy(Ed(t),e,n,r,i,s,1);break}}}function mAe(t){const e=t.prev,n=t,r=t.next;if(pr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,v=a>l?a>u?a:u:l>u?l:u;let x=r.next;for(;x!==e;){if(x.x>=f&&x.x<=p&&x.y>=d&&x.y<=v&&bp(i,a,s,l,o,u,x.x,x.y)&&pr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function gAe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(pr(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,d=s.y,p=o.y,v=a<l?a<u?a:u:l<u?l:u,x=f<d?f<p?f:p:d<p?d:p,b=a>l?a>u?a:u:l>u?l:u,y=f>d?f>p?f:p:d>p?d:p,w=nO(v,x,e,n,r),M=nO(b,y,e,n,r);let S=t.prevZ,A=t.nextZ;for(;S&&S.z>=w&&A&&A.z<=M;){if(S.x>=v&&S.x<=b&&S.y>=x&&S.y<=y&&S!==i&&S!==o&&bp(a,f,l,d,u,p,S.x,S.y)&&pr(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=v&&A.x<=b&&A.y>=x&&A.y<=y&&A!==i&&A!==o&&bp(a,f,l,d,u,p,A.x,A.y)&&pr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=w;){if(S.x>=v&&S.x<=b&&S.y>=x&&S.y<=y&&S!==i&&S!==o&&bp(a,f,l,d,u,p,S.x,S.y)&&pr(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=M;){if(A.x>=v&&A.x<=b&&A.y>=x&&A.y<=y&&A!==i&&A!==o&&bp(a,f,l,d,u,p,A.x,A.y)&&pr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function vAe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!zS(i,s)&&eX(i,r,r.next,s)&&Uy(i,s)&&Uy(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),By(r),By(r.next),r=t=s),r=r.next}while(r!==t);return Ed(r)}function yAe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&AAe(o,a)){let l=tX(o,a);o=Ed(o,o.next),l=Ed(l,l.next),Fy(o,e,n,r,i,s,0),Fy(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function xAe(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=J7(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(TAe(u));for(i.sort(_Ae),s=0;s<i.length;s++)n=bAe(i[s],n);return n}function _Ae(t,e){return t.x-e.x}function bAe(t,e){const n=wAe(t,e);if(!n)return e;const r=tX(n,t);return Ed(r,r.next),Ed(n,n.next)}function wAe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&bp(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),Uy(n,t)&&(d<f||d===f&&(n.x>i.x||n.x===i.x&&SAe(i,n)))&&(i=n,f=d)),n=n.next;while(n!==a);return i}function SAe(t,e){return pr(t.prev,t,e.prev)<0&&pr(e.next,t,t.next)<0}function MAe(t,e,n,r){let i=t;do i.z===0&&(i.z=nO(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,EAe(i)}function EAe(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function nO(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function TAe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function bp(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function AAe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!PAe(t,e)&&(Uy(t,e)&&Uy(e,t)&&CAe(t,e)&&(pr(t.prev,t,e.prev)||pr(t,e.prev,e))||zS(t,e)&&pr(t.prev,t,t.next)>0&&pr(e.prev,e,e.next)>0)}function pr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zS(t,e){return t.x===e.x&&t.y===e.y}function eX(t,e,n,r){const i=A_(pr(t,e,n)),s=A_(pr(t,e,r)),o=A_(pr(n,r,t)),a=A_(pr(n,r,e));return!!(i!==s&&o!==a||i===0&&T_(t,n,e)||s===0&&T_(t,r,e)||o===0&&T_(n,t,r)||a===0&&T_(n,e,r))}function T_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function A_(t){return t>0?1:t<0?-1:0}function PAe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&eX(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Uy(t,e){return pr(t.prev,t,t.next)<0?pr(t,e,t.next)>=0&&pr(t,t.prev,e)>=0:pr(t,e,t.prev)<0||pr(t,t.next,e)<0}function CAe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function tX(t,e){const n=new rO(t.i,t.x,t.y),r=new rO(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function H5(t,e,n,r){const i=new rO(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function By(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rO(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RAe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ya{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ya.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];W5(e),G5(r,e);let o=e.length;n.forEach(W5);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,G5(r,n[l]);const a=pAe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function W5(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function G5(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class VS extends en{constructor(e=new hd([new je(.5,.5),new je(-.5,.5),new je(-.5,-.5),new je(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new St(i,3)),this.setAttribute("uv",new St(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:v-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,M=n.UVGenerator!==void 0?n.UVGenerator:OAe;let S,A=!1,P,O,I,k;w&&(S=w.getSpacedPoints(f),A=!0,p=!1,P=w.computeFrenetFrames(f,!1),O=new te,I=new te,k=new te),p||(y=0,v=0,x=0,b=0);const L=a.extractPoints(u);let F=L.shape;const j=L.holes;if(!Ya.isClockWise(F)){F=F.reverse();for(let ae=0,Me=j.length;ae<Me;ae++){const Ne=j[ae];Ya.isClockWise(Ne)&&(j[ae]=Ne.reverse())}}const q=Ya.triangulateShape(F,j),X=F;for(let ae=0,Me=j.length;ae<Me;ae++){const Ne=j[ae];F=F.concat(Ne)}function J(ae,Me,Ne){return Me||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().addScaledVector(Me,Ne)}const Z=F.length,ee=q.length;function V(ae,Me,Ne){let De,ke,Ze;const et=ae.x-Me.x,At=ae.y-Me.y,ie=Ne.x-ae.x,$=Ne.y-ae.y,be=et*et+At*At,Be=et*$-At*ie;if(Math.abs(Be)>Number.EPSILON){const Fe=Math.sqrt(be),Ve=Math.sqrt(ie*ie+$*$),Et=Me.x-At/Fe,nt=Me.y+et/Fe,rt=Ne.x-$/Ve,Bt=Ne.y+ie/Ve,$e=((rt-Et)*$-(Bt-nt)*ie)/(et*$-At*ie);De=Et+et*$e-ae.x,ke=nt+At*$e-ae.y;const mt=De*De+ke*ke;if(mt<=2)return new je(De,ke);Ze=Math.sqrt(mt/2)}else{let Fe=!1;et>Number.EPSILON?ie>Number.EPSILON&&(Fe=!0):et<-Number.EPSILON?ie<-Number.EPSILON&&(Fe=!0):Math.sign(At)===Math.sign($)&&(Fe=!0),Fe?(De=-At,ke=et,Ze=Math.sqrt(be)):(De=et,ke=At,Ze=Math.sqrt(be/2))}return new je(De/Ze,ke/Ze)}const K=[];for(let ae=0,Me=X.length,Ne=Me-1,De=ae+1;ae<Me;ae++,Ne++,De++)Ne===Me&&(Ne=0),De===Me&&(De=0),K[ae]=V(X[ae],X[Ne],X[De]);const Q=[];let G,ne=K.concat();for(let ae=0,Me=j.length;ae<Me;ae++){const Ne=j[ae];G=[];for(let De=0,ke=Ne.length,Ze=ke-1,et=De+1;De<ke;De++,Ze++,et++)Ze===ke&&(Ze=0),et===ke&&(et=0),G[De]=V(Ne[De],Ne[Ze],Ne[et]);Q.push(G),ne=ne.concat(G)}for(let ae=0;ae<y;ae++){const Me=ae/y,Ne=v*Math.cos(Me*Math.PI/2),De=x*Math.sin(Me*Math.PI/2)+b;for(let ke=0,Ze=X.length;ke<Ze;ke++){const et=J(X[ke],K[ke],De);Ce(et.x,et.y,-Ne)}for(let ke=0,Ze=j.length;ke<Ze;ke++){const et=j[ke];G=Q[ke];for(let At=0,ie=et.length;At<ie;At++){const $=J(et[At],G[At],De);Ce($.x,$.y,-Ne)}}}const ye=x+b;for(let ae=0;ae<Z;ae++){const Me=p?J(F[ae],ne[ae],ye):F[ae];A?(I.copy(P.normals[0]).multiplyScalar(Me.x),O.copy(P.binormals[0]).multiplyScalar(Me.y),k.copy(S[0]).add(I).add(O),Ce(k.x,k.y,k.z)):Ce(Me.x,Me.y,0)}for(let ae=1;ae<=f;ae++)for(let Me=0;Me<Z;Me++){const Ne=p?J(F[Me],ne[Me],ye):F[Me];A?(I.copy(P.normals[ae]).multiplyScalar(Ne.x),O.copy(P.binormals[ae]).multiplyScalar(Ne.y),k.copy(S[ae]).add(I).add(O),Ce(k.x,k.y,k.z)):Ce(Ne.x,Ne.y,d/f*ae)}for(let ae=y-1;ae>=0;ae--){const Me=ae/y,Ne=v*Math.cos(Me*Math.PI/2),De=x*Math.sin(Me*Math.PI/2)+b;for(let ke=0,Ze=X.length;ke<Ze;ke++){const et=J(X[ke],K[ke],De);Ce(et.x,et.y,d+Ne)}for(let ke=0,Ze=j.length;ke<Ze;ke++){const et=j[ke];G=Q[ke];for(let At=0,ie=et.length;At<ie;At++){const $=J(et[At],G[At],De);A?Ce($.x,$.y+S[f-1].y,S[f-1].x+Ne):Ce($.x,$.y,d+Ne)}}}ue(),xe();function ue(){const ae=i.length/3;if(p){let Me=0,Ne=Z*Me;for(let De=0;De<ee;De++){const ke=q[De];qe(ke[2]+Ne,ke[1]+Ne,ke[0]+Ne)}Me=f+y*2,Ne=Z*Me;for(let De=0;De<ee;De++){const ke=q[De];qe(ke[0]+Ne,ke[1]+Ne,ke[2]+Ne)}}else{for(let Me=0;Me<ee;Me++){const Ne=q[Me];qe(Ne[2],Ne[1],Ne[0])}for(let Me=0;Me<ee;Me++){const Ne=q[Me];qe(Ne[0]+Z*f,Ne[1]+Z*f,Ne[2]+Z*f)}}r.addGroup(ae,i.length/3-ae,0)}function xe(){const ae=i.length/3;let Me=0;Re(X,Me),Me+=X.length;for(let Ne=0,De=j.length;Ne<De;Ne++){const ke=j[Ne];Re(ke,Me),Me+=ke.length}r.addGroup(ae,i.length/3-ae,1)}function Re(ae,Me){let Ne=ae.length;for(;--Ne>=0;){const De=Ne;let ke=Ne-1;ke<0&&(ke=ae.length-1);for(let Ze=0,et=f+y*2;Ze<et;Ze++){const At=Z*Ze,ie=Z*(Ze+1),$=Me+De+At,be=Me+ke+At,Be=Me+ke+ie,Fe=Me+De+ie;Ae($,be,Be,Fe)}}}function Ce(ae,Me,Ne){l.push(ae),l.push(Me),l.push(Ne)}function qe(ae,Me,Ne){ze(ae),ze(Me),ze(Ne);const De=i.length/3,ke=M.generateTopUV(r,i,De-3,De-2,De-1);se(ke[0]),se(ke[1]),se(ke[2])}function Ae(ae,Me,Ne,De){ze(ae),ze(Me),ze(De),ze(Me),ze(Ne),ze(De);const ke=i.length/3,Ze=M.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);se(Ze[0]),se(Ze[1]),se(Ze[3]),se(Ze[1]),se(Ze[2]),se(Ze[3])}function ze(ae){i.push(l[ae*3+0]),i.push(l[ae*3+1]),i.push(l[ae*3+2])}function se(ae){s.push(ae.x),s.push(ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return NAe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new gw[i.type]().fromJSON(i)),new VS(r,e.options)}}const OAe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new je(s,o),new je(a,l),new je(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],d=e[r*3+2],p=e[i*3],v=e[i*3+1],x=e[i*3+2],b=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new je(o,1-l),new je(u,1-d),new je(p,1-x),new je(b,1-w)]:[new je(a,1-l),new je(f,1-d),new je(v,1-x),new je(y,1-w)]}};function NAe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class HS extends kc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new HS(e.radius,e.detail)}}class _0 extends kc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _0(e.radius,e.detail)}}class WS extends en{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let d=e;const p=(n-e)/i,v=new te,x=new je;for(let b=0;b<=i;b++){for(let y=0;y<=r;y++){const w=s+y/r*o;v.x=d*Math.cos(w),v.y=d*Math.sin(w),l.push(v.x,v.y,v.z),u.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,f.push(x.x,x.y)}d+=p}for(let b=0;b<i;b++){const y=b*(r+1);for(let w=0;w<r;w++){const M=w+y,S=M,A=M+r+1,P=M+r+2,O=M+1;a.push(S,A,O),a.push(A,P,O)}}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(u,3)),this.setAttribute("uv",new St(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class GS extends en{constructor(e=new hd([new je(0,.5),new je(-.5,-.5),new je(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new St(i,3)),this.setAttribute("normal",new St(s,3)),this.setAttribute("uv",new St(o,2));function u(f){const d=i.length/3,p=f.extractPoints(n);let v=p.shape;const x=p.holes;Ya.isClockWise(v)===!1&&(v=v.reverse());for(let y=0,w=x.length;y<w;y++){const M=x[y];Ya.isClockWise(M)===!0&&(x[y]=M.reverse())}const b=Ya.triangulateShape(v,x);for(let y=0,w=x.length;y<w;y++){const M=x[y];v=v.concat(M)}for(let y=0,w=v.length;y<w;y++){const M=v[y];i.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let y=0,w=b.length;y<w;y++){const M=b[y],S=M[0]+d,A=M[1]+d,P=M[2]+d;r.push(S,A,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return IAe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new GS(r,e.curveSegments)}}function IAe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class b0 extends en{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new te,p=new te,v=[],x=[],b=[],y=[];for(let w=0;w<=r;w++){const M=[],S=w/r;let A=0;w===0&&o===0?A=.5/n:w===r&&l===Math.PI&&(A=-.5/n);for(let P=0;P<=n;P++){const O=P/n;d.x=-e*Math.cos(i+O*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+O*s)*Math.sin(o+S*a),x.push(d.x,d.y,d.z),p.copy(d).normalize(),b.push(p.x,p.y,p.z),y.push(O+A,1-S),M.push(u++)}f.push(M)}for(let w=0;w<r;w++)for(let M=0;M<n;M++){const S=f[w][M+1],A=f[w][M],P=f[w+1][M],O=f[w+1][M+1];(w!==0||o>0)&&v.push(S,A,O),(w!==r-1||l<Math.PI)&&v.push(A,P,O)}this.setIndex(v),this.setAttribute("position",new St(x,3)),this.setAttribute("normal",new St(b,3)),this.setAttribute("uv",new St(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $S extends kc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $S(e.radius,e.detail)}}class qS extends en{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new te,d=new te,p=new te;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const b=x/i*s,y=v/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(b),d.y=(e+n*Math.cos(y))*Math.sin(b),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),f.x=e*Math.cos(b),f.y=e*Math.sin(b),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(x/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const b=(i+1)*v+x-1,y=(i+1)*(v-1)+x-1,w=(i+1)*(v-1)+x,M=(i+1)*v+x;o.push(b,y,M),o.push(y,w,M)}this.setIndex(o),this.setAttribute("position",new St(a,3)),this.setAttribute("normal",new St(l,3)),this.setAttribute("uv",new St(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class XS extends en{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],d=new te,p=new te,v=new te,x=new te,b=new te,y=new te,w=new te;for(let S=0;S<=r;++S){const A=S/r*s*Math.PI*2;M(A,s,o,e,v),M(A+.01,s,o,e,x),y.subVectors(x,v),w.addVectors(x,v),b.crossVectors(y,w),w.crossVectors(b,y),b.normalize(),w.normalize();for(let P=0;P<=i;++P){const O=P/i*Math.PI*2,I=-n*Math.cos(O),k=n*Math.sin(O);d.x=v.x+(I*w.x+k*b.x),d.y=v.y+(I*w.y+k*b.y),d.z=v.z+(I*w.z+k*b.z),l.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),u.push(p.x,p.y,p.z),f.push(S/r),f.push(P/i)}}for(let S=1;S<=r;S++)for(let A=1;A<=i;A++){const P=(i+1)*(S-1)+(A-1),O=(i+1)*S+(A-1),I=(i+1)*S+A,k=(i+1)*(S-1)+A;a.push(P,O,k),a.push(O,I,k)}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(u,3)),this.setAttribute("uv",new St(f,2));function M(S,A,P,O,I){const k=Math.cos(S),L=Math.sin(S),F=P/A*S,j=Math.cos(F);I.x=O*(2+j)*.5*k,I.y=O*(2+j)*L*.5,I.z=O*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class KS extends en{constructor(e=new qI(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new te,l=new te,u=new je;let f=new te;const d=[],p=[],v=[],x=[];b(),this.setIndex(x),this.setAttribute("position",new St(d,3)),this.setAttribute("normal",new St(p,3)),this.setAttribute("uv",new St(v,2));function b(){for(let S=0;S<n;S++)y(S);y(s===!1?n:0),M(),w()}function y(S){f=e.getPointAt(S/n,f);const A=o.normals[S],P=o.binormals[S];for(let O=0;O<=i;O++){const I=O/i*Math.PI*2,k=Math.sin(I),L=-Math.cos(I);l.x=L*A.x+k*P.x,l.y=L*A.y+k*P.y,l.z=L*A.z+k*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function w(){for(let S=1;S<=n;S++)for(let A=1;A<=i;A++){const P=(i+1)*(S-1)+(A-1),O=(i+1)*S+(A-1),I=(i+1)*S+A,k=(i+1)*(S-1)+A;x.push(P,O,k),x.push(O,I,k)}}function M(){for(let S=0;S<=n;S++)for(let A=0;A<=i;A++)u.x=S/n,u.y=A/i,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new KS(new gw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class nX extends en{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new te,s=new te;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,v=d.count;for(let x=p,b=p+v;x<b;x+=3)for(let y=0;y<3;y++){const w=a.getX(x+y),M=a.getX(x+(y+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,M),$5(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),$5(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new St(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $5(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var q5=Object.freeze({__proto__:null,BoxGeometry:Nd,CapsuleGeometry:FS,CircleGeometry:US,ConeGeometry:BS,CylinderGeometry:Om,DodecahedronGeometry:jS,EdgesGeometry:Q7,ExtrudeGeometry:VS,IcosahedronGeometry:HS,LatheGeometry:x0,OctahedronGeometry:_0,PlaneGeometry:Cm,PolyhedronGeometry:kc,RingGeometry:WS,ShapeGeometry:GS,SphereGeometry:b0,TetrahedronGeometry:$S,TorusGeometry:qS,TorusKnotGeometry:XS,TubeGeometry:KS,WireframeGeometry:nX});class rX extends Pi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class iX extends xa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class KI extends Pi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sX extends KI{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class oX extends Pi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=d0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aX extends Pi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lX extends Pi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uX extends Pi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=d0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cX extends Pi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lc,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fX extends ps{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function rd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function dX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hX(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function iO(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function YI(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function LAe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let v=0;v<u.times.length;++v){const x=u.times[v]*i;if(!(x<n||x>=r)){d.push(u.times[v]);for(let b=0;b<f;++b)p.push(u.values[v*f+b])}}d.length!==0&&(u.times=rd(d,u.times.constructor),u.values=rd(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function DAe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const x=a.times.length-1;let b;if(s<=a.times[0]){const w=f,M=d-f;b=a.values.slice(w,M)}else if(s>=a.times[x]){const w=x*d+f,M=w+d-f;b=a.values.slice(w,M)}else{const w=a.createInterpolant(),M=f,S=d-f;w.evaluate(s),b=w.resultBuffer.slice(M,S)}l==="quaternion"&&new Rs().fromArray(b).normalize().conjugate().toArray(b);const y=u.times.length;for(let w=0;w<y;++w){const M=w*v+p;if(l==="quaternion")Rs.multiplyQuaternionsFlat(u.values,M,b,0,u.values,M);else{const S=v-p*2;for(let A=0;A<S;++A)u.values[M+A]-=b[A]}}}return t.blendMode=RI,t}const kAe={convertArray:rd,isTypedArray:dX,getKeyframeOrder:hX,sortedArray:iO,flattenJSON:YI,subclip:LAe,makeClipAdditive:DAe};class w0{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pX extends w0{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ed,endingEnd:ed}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case td:s=e,a=2*n-r;break;case Cy:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case td:o=e,l=2*r-n;break;case Cy:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,v=this._weightNext,x=(r-n)/(i-n),b=x*x,y=b*x,w=-p*y+2*p*b-p*x,M=(1+p)*y+(-1.5-2*p)*b+(-.5+p)*x+1,S=(-1-v)*y+(1.5+v)*b+.5*x,A=v*y-v*b;for(let P=0;P!==a;++P)s[P]=w*o[f+P]+M*o[u+P]+S*o[l+P]+A*o[d+P];return s}}class ZI extends w0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-n)/(i-n),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class mX extends w0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class wa{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rd(n,this.TimeBufferType),this.values=rd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:rd(e.times,Array),values:rd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ZI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Py:n=this.InterpolantFactoryMethodDiscrete;break;case dw:n=this.InterpolantFactoryMethodLinear;break;case K_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Py;case this.InterpolantFactoryMethodLinear:return dw;case this.InterpolantFactoryMethodSmooth:return K_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&dX(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===K_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,v=d+r;for(let x=0;x!==r;++x){const b=n[d+x];if(b!==n[p+x]||b!==n[v+x]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let v=0;v!==r;++v)n[p+v]=n[d+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}wa.prototype.TimeBufferType=Float32Array;wa.prototype.ValueBufferType=Float32Array;wa.prototype.DefaultInterpolation=dw;class Id extends wa{constructor(e,n,r){super(e,n,r)}}Id.prototype.ValueTypeName="bool";Id.prototype.ValueBufferType=Array;Id.prototype.DefaultInterpolation=Py;Id.prototype.InterpolantFactoryMethodLinear=void 0;Id.prototype.InterpolantFactoryMethodSmooth=void 0;class QI extends wa{}QI.prototype.ValueTypeName="color";class jy extends wa{}jy.prototype.ValueTypeName="number";class gX extends w0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let f=u+a;u!==f;u+=4)Rs.slerpFlat(s,0,o,u-a,o,u,l);return s}}class S0 extends wa{InterpolantFactoryMethodLinear(e){return new gX(this.times,this.values,this.getValueSize(),e)}}S0.prototype.ValueTypeName="quaternion";S0.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends wa{constructor(e,n,r){super(e,n,r)}}Ld.prototype.ValueTypeName="string";Ld.prototype.ValueBufferType=Array;Ld.prototype.DefaultInterpolation=Py;Ld.prototype.InterpolantFactoryMethodLinear=void 0;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class zy extends wa{}zy.prototype.ValueTypeName="vector";class Vy{constructor(e="",n=-1,r=[],i=TS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=to(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(UAe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(wa.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=hX(l);l=iO(l,1,f),u=iO(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new jy(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,v,x,b){if(v.length!==0){const y=[],w=[];YI(v,y,w,x),y.length!==0&&b.push(new d(p,y,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let x;for(x=0;x<p.length;x++)if(p[x].morphTargets)for(let b=0;b<p[x].morphTargets.length;b++)v[p[x].morphTargets[b]]=-1;for(const b in v){const y=[],w=[];for(let M=0;M!==p[x].morphTargets.length;++M){const S=p[x];y.push(S.time),w.push(S.morphTarget===b?1:0)}i.push(new jy(".morphTargetInfluence["+b+"]",y,w))}l=v.length*o}else{const v=".bones["+n[d].name+"]";r(zy,v+".position",p,"pos",i),r(S0,v+".quaternion",p,"rot",i),r(zy,v+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function FAe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jy;case"vector":case"vector2":case"vector3":case"vector4":return zy;case"color":return QI;case"quaternion":return S0;case"bool":case"boolean":return Id;case"string":return Ld}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function UAe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=FAe(t.type);if(t.times===void 0){const n=[],r=[];YI(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Yl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class JI{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const v=u[d],x=u[d+1];if(v.global&&(v.lastIndex=0),v.test(f))return x}return null}}}const vX=new JI;class Is{constructor(e){this.manager=e!==void 0?e:vX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Is.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gl={};class BAe extends Error{constructor(e,n){super(e),this.response=n}}class pu extends Is{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Yl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Gl[e]!==void 0){Gl[e].push({onLoad:n,onProgress:r,onError:i});return}Gl[e]=[],Gl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Gl[e],d=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=p?parseInt(p):0,x=v!==0;let b=0;const y=new ReadableStream({start(w){M();function M(){d.read().then(({done:S,value:A})=>{if(S)w.close();else{b+=A.byteLength;const P=new ProgressEvent("progress",{lengthComputable:x,loaded:b,total:v});for(let O=0,I=f.length;O<I;O++){const k=f[O];k.onProgress&&k.onProgress(P)}w.enqueue(A),M()}},S=>{w.error(S)})}}});return new Response(y)}else throw new BAe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,v=new TextDecoder(p);return u.arrayBuffer().then(x=>v.decode(x))}}}).then(u=>{Yl.add(e,u);const f=Gl[e];delete Gl[e];for(let d=0,p=f.length;d<p;d++){const v=f[d];v.onLoad&&v.onLoad(u)}}).catch(u=>{const f=Gl[e];if(f===void 0)throw this.manager.itemError(e),u;delete Gl[e];for(let d=0,p=f.length;d<p;d++){const v=f[d];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class jAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Vy.parse(e[r]);n.push(i)}return n}}class zAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new DS,l=new pu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const v=s.parse(p,!0);o[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=Fr),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let x=0;x<v;x++){o[x]={mipmaps:[]};for(let b=0;b<p.mipmapCount;b++)o[x].mipmaps.push(p.mipmaps[x*p.mipmapCount+b]),o[x].format=p.format,o[x].width=p.width,o[x].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Fr),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Hy extends Is{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Yl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Dy("img");function l(){f(),Yl.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){f(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class VAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=new g0;s.colorSpace=Mo;const o=new Hy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class HAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new nu,a=new pu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ao,o.wrapT=u.wrapT!==void 0?u.wrapT:Ao,o.magFilter=u.magFilter!==void 0?u.magFilter:Fr,o.minFilter=u.minFilter!==void 0?u.minFilter:Fr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Va),u.mipmapCount===1&&(o.minFilter=Fr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class WAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=new mr,o=new Hy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Fc extends Sn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class yX extends Fc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ht(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const qP=new Nt,X5=new te,K5=new te;class eL{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new je(512,512),this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new v0,this._frameExtents=new je(1,1),this._viewportCount=1,this._viewports=[new In(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;X5.setFromMatrixPosition(e.matrixWorld),n.position.copy(X5),K5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(K5),n.updateMatrixWorld(),qP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(qP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class GAe extends eL{constructor(){super(new ai(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=cm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xX extends Fc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new GAe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Y5=new Nt,tv=new te,XP=new te;class $Ae extends eL{constructor(){super(new ai(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new je(4,2),this._viewportCount=6,this._viewports=[new In(2,1,1,1),new In(0,1,1,1),new In(3,1,1,1),new In(1,1,1,1),new In(3,0,1,1),new In(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),tv.setFromMatrixPosition(e.matrixWorld),r.position.copy(tv),XP.copy(r.position),XP.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(XP),r.updateMatrixWorld(),i.makeTranslation(-tv.x,-tv.y,-tv.z),Y5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Y5)}}class _X extends Fc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $Ae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class qAe extends eL{constructor(){super(new y0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bX extends Fc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.shadow=new qAe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wX extends Fc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class SX extends Fc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class MX{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class EX extends Fc{constructor(e=new MX,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class YS extends Is{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new pu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=YS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ht().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ht().setHex(o.value);break;case"v2":i.uniforms[s].value=new je().fromArray(o.value);break;case"v3":i.uniforms[s].value=new te().fromArray(o.value);break;case"v4":i.uniforms[s].value=new In().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Xt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Nt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new je().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:rX,SpriteMaterial:zI,RawShaderMaterial:iX,ShaderMaterial:xa,PointsMaterial:LS,MeshPhysicalMaterial:sX,MeshStandardMaterial:KI,MeshPhongMaterial:oX,MeshToonMaterial:aX,MeshNormalMaterial:lX,MeshLambertMaterial:uX,MeshDepthMaterial:BI,MeshDistanceMaterial:jI,MeshBasicMaterial:Dc,MeshMatcapMaterial:cX,LineDashedMaterial:fX,LineBasicMaterial:ps,Material:Pi};return new n[e]}}class sO{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class TX extends en{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class AX extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,x){if(n[x]!==void 0)return n[x];const y=v.interleavedBuffers[x],w=s(v,y.buffer),M=yp(y.type,w),S=new NS(M,y.stride);return S.uuid=y.uuid,n[x]=S,S}function s(v,x){if(r[x]!==void 0)return r[x];const y=v.arrayBuffers[x],w=new Uint32Array(y).buffer;return r[x]=w,w}const o=e.isInstancedBufferGeometry?new TX:new en,a=e.data.index;if(a!==void 0){const v=yp(a.type,a.array);o.setIndex(new Ln(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let b;if(x.isInterleavedBufferAttribute){const y=i(e.data,x.data);b=new Md(y,x.itemSize,x.offset,x.normalized)}else{const y=yp(x.type,x.array),w=x.isInstancedBufferAttribute?dm:Ln;b=new w(y,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),x.usage!==void 0&&b.setUsage(x.usage),o.setAttribute(v,b)}const u=e.data.morphAttributes;if(u)for(const v in u){const x=u[v],b=[];for(let y=0,w=x.length;y<w;y++){const M=x[y];let S;if(M.isInterleavedBufferAttribute){const A=i(e.data,M.data);S=new Md(A,M.itemSize,M.offset,M.normalized)}else{const A=yp(M.type,M.array);S=new Ln(A,M.itemSize,M.normalized)}M.name!==void 0&&(S.name=M.name),b.push(S)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,x=d.length;v!==x;++v){const b=d[v];o.addGroup(b.start,b.count,b.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new te;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new Wi(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class XAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?sO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new pu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?sO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new pu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new hd().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new IS().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new AX;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in q5?a=q5[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new YS;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Vy.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:yp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new JI(n);s=new Hy(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const v=[];for(let x=0,b=p.length;x<b;x++){const y=p[x],w=a(y);w!==null&&(w instanceof HTMLImageElement?v.push(w):v.push(new nu(w.data,w.width,w.height)))}i[d.uuid]=new nd(v)}else{const v=a(d.url);i[d.uuid]=new nd(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:yp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Hy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const v=u[d],x=await s(v);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new nu(x.data,x.width,x.height)))}r[l.uuid]=new nd(f)}else{const f=await s(l.url);r[l.uuid]=new nd(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let f;Array.isArray(u)?(f=new g0,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new nu:f=new mr,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,KAe)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],Z5),f.wrapT=r(a.wrap[1],Z5)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,Q5)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,Q5)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let x=0,b=p.length;x<b;x++){const y=p[x];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),v.push(r[y])}return v}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,d;switch(e.type){case"Scene":o=new hw,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ht(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new OS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new RS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ai(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new y0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new wX(e.color,e.intensity);break;case"DirectionalLight":o=new bX(e.color,e.intensity);break;case"PointLight":o=new _X(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new SX(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new xX(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new yX(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new EX().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new V7(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new Ur(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,v=e.instanceMatrix,x=e.instanceColor;o=new H7(f,d,p),o.instanceMatrix=new dm(new Float32Array(v.array),16),x!==void 0&&(o.instanceColor=new dm(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new W7(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(b=>{const y=new hs;y.min.fromArray(b.boxMin),y.max.fromArray(b.boxMax);const w=new Wi;return w.radius=b.sphereRadius,w.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:y,sphereInitialized:b.sphereInitialized,sphere:w}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new z7;break;case"Line":o=new Tc(a(e.geometry),l(e.material));break;case"LineLoop":o=new G7(a(e.geometry),l(e.material));break;case"LineSegments":o=new rl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new $7(a(e.geometry),l(e.material));break;case"Sprite":o=new j7(l(e.material));break;case"Group":o=new _p;break;case"Bone":o=new VI;break;default:o=new Sn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const x=p[v];o.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const x=p[v],b=o.getObjectByProperty("uuid",x.object);b!==void 0&&o.addLevel(b,x.distance,x.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const KAe={UVMapping:ES,CubeReflectionMapping:hu,CubeRefractionMapping:Ec,EquirectangularReflectionMapping:Sy,EquirectangularRefractionMapping:My,CubeUVReflectionMapping:Am},Z5={RepeatWrapping:Ey,ClampToEdgeWrapping:Ao,MirroredRepeatWrapping:Ty},Q5={NearestFilter:ui,NearestMipmapNearestFilter:wI,NearestMipmapLinearFilter:vp,LinearFilter:Fr,LinearMipmapNearestFilter:Av,LinearMipmapLinearFilter:Va};class YAe extends Is{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Yl.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Yl.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Yl.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Yl.add(e,l),s.manager.itemStart(e)}}let P_;class tL{static getContext(){return P_===void 0&&(P_=new(window.AudioContext||window.webkitAudioContext)),P_}static setContext(e){P_=e}}class ZAe extends Is{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);tL.getContext().decodeAudioData(u,function(d){n(d)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const J5=new Nt,eV=new Nt,Df=new Nt;class QAe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ai,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ai,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Df.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(fd*n.fov*.5)/n.zoom;let a,l;eV.elements[12]=-i,J5.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Df.elements[0]=2*n.near/(l-a),Df.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Df),a=-o*n.aspect-s,l=o*n.aspect-s,Df.elements[0]=2*n.near/(l-a),Df.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Df)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(J5)}}class nL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=tV();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function tV(){return(typeof performance>"u"?Date:performance).now()}const kf=new te,nV=new Rs,JAe=new te,Ff=new te;class ePe extends Sn{constructor(){super(),this.type="AudioListener",this.context=tL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(kf,nV,JAe),Ff.set(0,0,-1).applyQuaternion(nV),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(kf.x,i),n.positionY.linearRampToValueAtTime(kf.y,i),n.positionZ.linearRampToValueAtTime(kf.z,i),n.forwardX.linearRampToValueAtTime(Ff.x,i),n.forwardY.linearRampToValueAtTime(Ff.y,i),n.forwardZ.linearRampToValueAtTime(Ff.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(kf.x,kf.y,kf.z),n.setOrientation(Ff.x,Ff.y,Ff.z,r.x,r.y,r.z)}}class PX extends Sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Uf=new te,rV=new Rs,tPe=new te,Bf=new te;class nPe extends PX{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Uf,rV,tPe),Bf.set(0,0,1).applyQuaternion(rV);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Uf.x,r),n.positionY.linearRampToValueAtTime(Uf.y,r),n.positionZ.linearRampToValueAtTime(Uf.z,r),n.orientationX.linearRampToValueAtTime(Bf.x,r),n.orientationY.linearRampToValueAtTime(Bf.y,r),n.orientationZ.linearRampToValueAtTime(Bf.z,r)}else n.setPosition(Uf.x,Uf.y,Uf.z),n.setOrientation(Bf.x,Bf.y,Bf.z)}}class rPe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class CX{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Rs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Rs.multiplyQuaternionsFlat(e,o,e,n,e,r),Rs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const rL="\\[\\]\\.:\\/",iPe=new RegExp("["+rL+"]","g"),iL="[^"+rL+"]",sPe="[^"+rL.replace("\\.","")+"]",oPe=/((?:WC+[\/:])*)/.source.replace("WC",iL),aPe=/(WCOD+)?/.source.replace("WCOD",sPe),lPe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",iL),uPe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",iL),cPe=new RegExp("^"+oPe+aPe+lPe+uPe+"$"),fPe=["material","materials","bones","map"];class dPe{constructor(e,n,r){const i=r||yn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class yn{constructor(e,n,r){this.path=n,this.parsedPath=r||yn.parseTrackName(n),this.node=yn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new yn.Composite(e,n,r):new yn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(iPe,"")}static parseTrackName(e){const n=cPe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);fPe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=yn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yn.Composite=dPe;yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yn.prototype.GetterByBindingType=[yn.prototype._getValue_direct,yn.prototype._getValue_array,yn.prototype._getValue_arrayElement,yn.prototype._getValue_toArray];yn.prototype.SetterByBindingTypeAndVersioning=[[yn.prototype._setValue_direct,yn.prototype._setValue_direct_setNeedsUpdate,yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_array,yn.prototype._setValue_array_setNeedsUpdate,yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_arrayElement,yn.prototype._setValue_arrayElement_setNeedsUpdate,yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_fromArray,yn.prototype._setValue_fromArray_setNeedsUpdate,yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class hPe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=to(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],v=p.uuid;let x=n[v];if(x===void 0){x=l++,n[v]=x,e.push(p);for(let b=0,y=o;b!==y;++b)s[b].push(new yn(p,r[b],i[b]))}else if(x<u){a=e[x];const b=--u,y=e[b];n[y.uuid]=x,e[x]=y,n[v]=b,e[b]=p;for(let w=0,M=o;w!==M;++w){const S=s[w],A=S[b];let P=S[x];S[x]=A,P===void 0&&(P=new yn(p,r[w],i[w])),S[b]=P}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];n[p.uuid]=f,e[f]=p,n[u]=d,e[d]=l;for(let v=0,x=i;v!==x;++v){const b=r[v],y=b[d],w=b[f];b[f]=y,b[d]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<s){const p=--s,v=e[p],x=--o,b=e[x];n[v.uuid]=d,e[d]=v,n[b.uuid]=p,e[p]=b,e.pop();for(let y=0,w=i;y!==w;++y){const M=r[y],S=M[p],A=M[x];M[d]=S,M[p]=A,M.pop()}}else{const p=--o,v=e[p];p>0&&(n[v.uuid]=d),e[d]=v,e.pop();for(let x=0,b=i;x!==b;++x){const y=r[x];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=f,v=l.length;p!==v;++p){const x=l[p];d[p]=new yn(x,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class RX{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:ed,endingEnd:ed};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=u7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case RI:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case TS:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===c7;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===l7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=td,i.endingEnd=td):(e?i.endingStart=this.zeroSlopeAtStart?td:ed:i.endingStart=Cy,n?i.endingEnd=this.zeroSlopeAtEnd?td:ed:i.endingEnd=Cy)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const pPe=new Float32Array(1);class mPe extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=i[d],v=p.name;let x=f[v];if(x!==void 0)++x.referenceCount,o[d]=x;else{if(x=o[d],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const b=n&&n._propertyBindings[d].binding.parsedPath;x=new CX(yn.create(r,v,b),p.ValueTypeName,p.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),o[d]=x}a[d].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new ZI(new Float32Array(2),new Float32Array(2),1,pPe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Vy.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=TS),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new RX(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Vy.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class sL{constructor(e){this.value=e}clone(){return new sL(this.value.clone===void 0?this.value:this.value.clone())}}let gPe=0;class vPe extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:gPe++}),this.name="",this.usage=Iy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class yPe extends NS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class xPe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const iV=new Nt;class OX{constructor(e,n,r=0,i=1/0){this.ray=new Pm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new dd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return iV.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(iV),this}intersectObject(e,n=!0,r=[]){return oO(e,this,r,n),r.sort(sV),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)oO(e[i],this,r,n);return r.sort(sV),r}}function sV(t,e){return t.distance-e.distance}function oO(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)oO(s[o],e,n,!0)}}class _Pe{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(wr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class bPe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const oV=new je;class wPe{constructor(e=new je(1/0,1/0),n=new je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=oV.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aV=new te,C_=new te;class SPe{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){aV.subVectors(e,this.start),C_.subVectors(this.end,this.start);const r=C_.dot(C_);let s=C_.dot(aV)/r;return n&&(s=wr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lV=new te;class MPe extends Sn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new en,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new St(i,3));const s=new ps({fog:!1,toneMapped:!1});this.cone=new rl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),lV.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lV),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uc=new te,R_=new Nt,KP=new Nt;class EPe extends rl{constructor(e){const n=NX(e),r=new en,i=[],s=[],o=new ht(0,0,1),a=new ht(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new St(i,3)),r.setAttribute("color",new St(s,3));const l=new ps({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");KP.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(R_.multiplyMatrices(KP,a.matrixWorld),uc.setFromMatrixPosition(R_),i.setXYZ(o,uc.x,uc.y,uc.z),R_.multiplyMatrices(KP,a.parent.matrixWorld),uc.setFromMatrixPosition(R_),i.setXYZ(o+1,uc.x,uc.y,uc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function NX(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,NX(t.children[n]));return e}class TPe extends Ur{constructor(e,n,r){const i=new b0(n,4,2),s=new Dc({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const APe=new te,uV=new ht,cV=new ht;class PPe extends Sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _0(n);i.rotateY(Math.PI*.5),this.material=new Dc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ln(o,3)),this.add(new Ur(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");uV.copy(this.light.color),cV.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?uV:cV;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(APe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class CPe extends rl{constructor(e=10,n=10,r=4473924,i=8947848){r=new ht(r),i=new ht(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,v=0,x=-a;p<=n;p++,x+=o){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const b=p===s?r:i;b.toArray(u,v),v+=3,b.toArray(u,v),v+=3,b.toArray(u,v),v+=3,b.toArray(u,v),v+=3}const f=new en;f.setAttribute("position",new St(l,3)),f.setAttribute("color",new St(u,3));const d=new ps({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class RPe extends rl{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new ht(s),o=new ht(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),v=Math.sin(p)*e,x=Math.cos(p)*e;a.push(0,0,0),a.push(v,0,x);const b=d&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let d=0;d<r;d++){const p=d&1?s:o,v=e-e/r*d;for(let x=0;x<i;x++){let b=x/i*(Math.PI*2),y=Math.sin(b)*v,w=Math.cos(b)*v;a.push(y,0,w),l.push(p.r,p.g,p.b),b=(x+1)/i*(Math.PI*2),y=Math.sin(b)*v,w=Math.cos(b)*v,a.push(y,0,w),l.push(p.r,p.g,p.b)}}const u=new en;u.setAttribute("position",new St(a,3)),u.setAttribute("color",new St(l,3));const f=new ps({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const fV=new te,O_=new te,dV=new te;class OPe extends Sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new en;i.setAttribute("position",new St([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ps({fog:!1,toneMapped:!1});this.lightPlane=new Tc(i,s),this.add(this.lightPlane),i=new en,i.setAttribute("position",new St([0,0,0,0,0,1],3)),this.targetLine=new Tc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fV.setFromMatrixPosition(this.light.matrixWorld),O_.setFromMatrixPosition(this.light.target.matrixWorld),dV.subVectors(O_,fV),this.lightPlane.lookAt(O_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(O_),this.targetLine.scale.z=dV.length()}}const N_=new te,xr=new m0;class NPe extends rl{constructor(e){const n=new en,r=new ps({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,b){l(x),l(b)}function l(x){i.push(0,0,0),s.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(i.length/3-1)}n.setAttribute("position",new St(i,3)),n.setAttribute("color",new St(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ht(16755200),f=new ht(16711680),d=new ht(43775),p=new ht(16777215),v=new ht(3355443);this.setColors(u,f,d,p,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;xr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ar("c",n,e,xr,0,0,-1),Ar("t",n,e,xr,0,0,1),Ar("n1",n,e,xr,-r,-i,-1),Ar("n2",n,e,xr,r,-i,-1),Ar("n3",n,e,xr,-r,i,-1),Ar("n4",n,e,xr,r,i,-1),Ar("f1",n,e,xr,-r,-i,1),Ar("f2",n,e,xr,r,-i,1),Ar("f3",n,e,xr,-r,i,1),Ar("f4",n,e,xr,r,i,1),Ar("u1",n,e,xr,r*.7,i*1.1,-1),Ar("u2",n,e,xr,-r*.7,i*1.1,-1),Ar("u3",n,e,xr,0,i*2,-1),Ar("cf1",n,e,xr,-r,0,1),Ar("cf2",n,e,xr,r,0,1),Ar("cf3",n,e,xr,0,-i,1),Ar("cf4",n,e,xr,0,i,1),Ar("cn1",n,e,xr,-r,0,-1),Ar("cn2",n,e,xr,r,0,-1),Ar("cn3",n,e,xr,0,-i,-1),Ar("cn4",n,e,xr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ar(t,e,n,r,i,s,o){N_.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],N_.x,N_.y,N_.z)}}const I_=new hs;class IPe extends rl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new en;s.setIndex(new Ln(r,1)),s.setAttribute("position",new Ln(i,3)),super(s,new ps({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&I_.setFromObject(this.object),I_.isEmpty())return;const n=I_.min,r=I_.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class LPe extends rl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new en;s.setIndex(new Ln(r,1)),s.setAttribute("position",new St(i,3)),super(s,new ps({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class DPe extends Tc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new en;o.setAttribute("position",new St(s,3)),o.computeBoundingSphere(),super(o,new ps({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new en;l.setAttribute("position",new St(a,3)),l.computeBoundingSphere(),this.add(new Ur(l,new Dc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hV=new te;let L_,YP;class kPe extends Sn{constructor(e=new te(0,0,1),n=new te(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",L_===void 0&&(L_=new en,L_.setAttribute("position",new St([0,0,0,0,1,0],3)),YP=new Om(0,.5,1,5,1),YP.translate(0,-.5,0)),this.position.copy(n),this.line=new Tc(L_,new ps({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ur(YP,new Dc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hV.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hV,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class FPe extends rl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new en;i.setAttribute("position",new St(n,3)),i.setAttribute("color",new St(r,3));const s=new ps({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new ht,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UPe{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ky,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const M=[];for(let S=0,A=w.length;S<A;S++){const P=w[S],O=new hd;O.curves=P.curves,M.push(O)}return M}function r(w,M){const S=M.length;let A=!1;for(let P=S-1,O=0;O<S;P=O++){let I=M[P],k=M[O],L=k.x-I.x,F=k.y-I.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(I=M[O],L=-L,k=M[P],F=-F),w.y<I.y||w.y>k.y)continue;if(w.y===I.y){if(w.x===I.x)return!0}else{const j=F*(w.x-I.x)-L*(w.y-I.y);if(j===0)return!0;if(j<0)continue;A=!A}}else{if(w.y!==I.y)continue;if(k.x<=w.x&&w.x<=I.x||I.x<=w.x&&w.x<=k.x)return!0}}return A}const i=Ya.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new hd,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],p=[];let v=[],x=0,b;p[x]=void 0,v[x]=[];for(let w=0,M=s.length;w<M;w++)a=s[w],b=a.getPoints(),o=i(b),o=e?!o:o,o?(!f&&p[x]&&x++,p[x]={s:new hd,p:b},p[x].s.curves=a.curves,f&&x++,v[x]=[]):v[x].push({h:a,p:b[0]});if(!p[0])return n(s);if(p.length>1){let w=!1,M=0;for(let S=0,A=p.length;S<A;S++)d[S]=[];for(let S=0,A=p.length;S<A;S++){const P=v[S];for(let O=0;O<P.length;O++){const I=P[O];let k=!0;for(let L=0;L<p.length;L++)r(I.p,p[L].p)&&(S!==L&&M++,k?(k=!1,d[L].push(I)):w=!0);k&&d[S].push(I)}}M>0&&w===!1&&(v=d)}let y;for(let w=0,M=p.length;w<M;w++){l=p[w].s,u.push(l),y=v[w];for(let S=0,A=y.length;S<A;S++)l.holes.push(y[S].h)}return u}}class BPe extends ya{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=f0);const jPe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:bI,AddEquation:pc,AddOperation:G9,AdditiveAnimationBlendMode:RI,AdditiveBlending:b2,AgXToneMapping:Y9,AlphaFormat:n7,AlwaysCompare:_7,AlwaysDepth:U9,AlwaysStencilFunc:Z2,AmbientLight:wX,AnimationAction:RX,AnimationClip:Vy,AnimationLoader:jAe,AnimationMixer:mPe,AnimationObjectGroup:hPe,AnimationUtils:kAe,ArcCurve:q7,ArrayCamera:F7,ArrowHelper:kPe,AttachedBindMode:M2,Audio:PX,AudioAnalyser:rPe,AudioContext:tL,AudioListener:ePe,AudioLoader:ZAe,AxesHelper:FPe,BackSide:ds,BasicDepthPacking:f7,BasicShadowMap:y9,BatchedMesh:W7,Bone:VI,BooleanKeyframeTrack:Id,Box2:wPe,Box3:hs,Box3Helper:LPe,BoxGeometry:Nd,BoxHelper:IPe,BufferAttribute:Ln,BufferGeometry:en,BufferGeometryLoader:AX,ByteType:J9,Cache:Yl,Camera:m0,CameraHelper:NPe,CanvasTexture:oAe,CapsuleGeometry:FS,CatmullRomCurve3:X7,CineonToneMapping:X9,CircleGeometry:US,ClampToEdgeWrapping:Ao,Clock:nL,Color:ht,ColorKeyframeTrack:QI,ColorManagement:En,CompressedArrayTexture:iAe,CompressedCubeTexture:sAe,CompressedTexture:DS,CompressedTextureLoader:zAe,ConeGeometry:BS,ConstantAlphaFactor:D9,ConstantColorFactor:I9,CubeCamera:P7,CubeReflectionMapping:hu,CubeRefractionMapping:Ec,CubeTexture:g0,CubeTextureLoader:VAe,CubeUVReflectionMapping:Am,CubicBezierCurve:WI,CubicBezierCurve3:K7,CubicInterpolant:pX,CullFaceBack:_2,CullFaceFront:v9,CullFaceFrontBack:Gbe,CullFaceNone:g9,Curve:ba,CurvePath:Z7,CustomBlending:x9,CustomToneMapping:K9,CylinderGeometry:Om,Cylindrical:bPe,Data3DTexture:LI,DataArrayTexture:PS,DataTexture:nu,DataTextureLoader:HAe,DataUtils:eSe,DecrementStencilOp:nwe,DecrementWrapStencilOp:iwe,DefaultLoadingManager:vX,DepthFormat:ud,DepthStencilFormat:Sd,DepthTexture:UI,DetachedBindMode:Q9,DirectionalLight:bX,DirectionalLightHelper:OPe,DiscreteInterpolant:mX,DisplayP3ColorSpace:AS,DodecahedronGeometry:jS,DoubleSide:ja,DstAlphaFactor:P9,DstColorFactor:R9,DynamicCopyUsage:ywe,DynamicDrawUsage:cd,DynamicReadUsage:mwe,EdgesGeometry:Q7,EllipseCurve:kS,EqualCompare:g7,EqualDepth:j9,EqualStencilFunc:lwe,EquirectangularReflectionMapping:Sy,EquirectangularRefractionMapping:My,Euler:ro,EventDispatcher:xu,ExtrudeGeometry:VS,FileLoader:pu,Float16BufferAttribute:oSe,Float32BufferAttribute:St,FloatType:Zs,Fog:OS,FogExp2:RS,FramebufferTexture:rAe,FrontSide:du,Frustum:v0,GLBufferAttribute:xPe,GLSL1:_we,GLSL3:Q2,GreaterCompare:v7,GreaterDepth:V9,GreaterEqualCompare:x7,GreaterEqualDepth:z9,GreaterEqualStencilFunc:dwe,GreaterStencilFunc:cwe,GridHelper:CPe,Group:_p,HalfFloatType:h0,HemisphereLight:yX,HemisphereLightHelper:PPe,IcosahedronGeometry:HS,ImageBitmapLoader:YAe,ImageLoader:Hy,ImageUtils:S7,IncrementStencilOp:twe,IncrementWrapStencilOp:rwe,InstancedBufferAttribute:dm,InstancedBufferGeometry:TX,InstancedInterleavedBuffer:yPe,InstancedMesh:H7,Int16BufferAttribute:iSe,Int32BufferAttribute:sSe,Int8BufferAttribute:tSe,IntType:SI,InterleavedBuffer:NS,InterleavedBufferAttribute:Md,Interpolant:w0,InterpolateDiscrete:Py,InterpolateLinear:dw,InterpolateSmooth:K_,InvertStencilOp:swe,KeepStencilOp:$f,KeyframeTrack:wa,LOD:z7,LatheGeometry:x0,Layers:dd,LessCompare:m7,LessDepth:B9,LessEqualCompare:OI,LessEqualDepth:wy,LessEqualStencilFunc:uwe,LessStencilFunc:awe,Light:Fc,LightProbe:EX,Line:Tc,Line3:SPe,LineBasicMaterial:ps,LineCurve:GI,LineCurve3:Y7,LineDashedMaterial:fX,LineLoop:G7,LineSegments:rl,LinearDisplayP3ColorSpace:p0,LinearFilter:Fr,LinearInterpolant:ZI,LinearMipMapLinearFilter:Kbe,LinearMipMapNearestFilter:Xbe,LinearMipmapLinearFilter:Va,LinearMipmapNearestFilter:Av,LinearSRGBColorSpace:yu,LinearToneMapping:$9,LinearTransfer:Ry,Loader:Is,LoaderUtils:sO,LoadingManager:JI,LoopOnce:l7,LoopPingPong:c7,LoopRepeat:u7,LuminanceAlphaFormat:s7,LuminanceFormat:i7,MOUSE:Hbe,Material:Pi,MaterialLoader:YS,MathUtils:Fwe,Matrix3:Xt,Matrix4:Nt,MaxEquation:S9,Mesh:Ur,MeshBasicMaterial:Dc,MeshDepthMaterial:BI,MeshDistanceMaterial:jI,MeshLambertMaterial:uX,MeshMatcapMaterial:cX,MeshNormalMaterial:lX,MeshPhongMaterial:oX,MeshPhysicalMaterial:sX,MeshStandardMaterial:KI,MeshToonMaterial:aX,MinEquation:w9,MirroredRepeatWrapping:Ty,MixOperation:W9,MultiplyBlending:S2,MultiplyOperation:d0,NearestFilter:ui,NearestMipMapLinearFilter:qbe,NearestMipMapNearestFilter:$be,NearestMipmapLinearFilter:vp,NearestMipmapNearestFilter:wI,NeutralToneMapping:Z9,NeverCompare:p7,NeverDepth:F9,NeverStencilFunc:owe,NoBlending:tu,NoColorSpace:$l,NoToneMapping:Ka,NormalAnimationBlendMode:TS,NormalBlending:ld,NotEqualCompare:y7,NotEqualDepth:H9,NotEqualStencilFunc:fwe,NumberKeyframeTrack:jy,Object3D:Sn,ObjectLoader:XAe,ObjectSpaceNormalMap:h7,OctahedronGeometry:_0,OneFactor:E9,OneMinusConstantAlphaFactor:k9,OneMinusConstantColorFactor:L9,OneMinusDstAlphaFactor:C9,OneMinusDstColorFactor:O9,OneMinusSrcAlphaFactor:fw,OneMinusSrcColorFactor:A9,OrthographicCamera:y0,P3Primaries:Ny,PCFShadowMap:MS,PCFSoftShadowMap:Tv,PMREMGenerator:J2,Path:ky,PerspectiveCamera:ai,Plane:hc,PlaneGeometry:Cm,PlaneHelper:DPe,PointLight:_X,PointLightHelper:TPe,Points:$7,PointsMaterial:LS,PolarGridHelper:RPe,PolyhedronGeometry:kc,PositionalAudio:nPe,PropertyBinding:yn,PropertyMixer:CX,QuadraticBezierCurve:$I,QuadraticBezierCurve3:qI,Quaternion:Rs,QuaternionKeyframeTrack:S0,QuaternionLinearInterpolant:gX,RED_GREEN_RGTC2_Format:K2,RED_RGTC1_Format:a7,REVISION:f0,RGBADepthPacking:d7,RGBAFormat:us,RGBAIntegerFormat:CI,RGBA_ASTC_10x10_Format:H2,RGBA_ASTC_10x5_Format:j2,RGBA_ASTC_10x6_Format:z2,RGBA_ASTC_10x8_Format:V2,RGBA_ASTC_12x10_Format:W2,RGBA_ASTC_12x12_Format:G2,RGBA_ASTC_4x4_Format:N2,RGBA_ASTC_5x4_Format:I2,RGBA_ASTC_5x5_Format:L2,RGBA_ASTC_6x5_Format:D2,RGBA_ASTC_6x6_Format:k2,RGBA_ASTC_8x5_Format:F2,RGBA_ASTC_8x6_Format:U2,RGBA_ASTC_8x8_Format:B2,RGBA_BPTC_Format:X_,RGBA_ETC2_EAC_Format:O2,RGBA_PVRTC_2BPPV1_Format:P2,RGBA_PVRTC_4BPPV1_Format:A2,RGBA_S3TC_DXT1_Format:G_,RGBA_S3TC_DXT3_Format:$_,RGBA_S3TC_DXT5_Format:q_,RGBFormat:r7,RGB_BPTC_SIGNED_Format:$2,RGB_BPTC_UNSIGNED_Format:q2,RGB_ETC1_Format:C2,RGB_ETC2_Format:R2,RGB_PVRTC_2BPPV1_Format:T2,RGB_PVRTC_4BPPV1_Format:E2,RGB_S3TC_DXT1_Format:W_,RGFormat:o7,RGIntegerFormat:PI,RawShaderMaterial:iX,Ray:Pm,Raycaster:OX,Rec709Primaries:Oy,RectAreaLight:SX,RedFormat:TI,RedIntegerFormat:AI,ReinhardToneMapping:q9,RenderTarget:M7,RepeatWrapping:Ey,ReplaceStencilOp:ewe,ReverseSubtractEquation:b9,RingGeometry:WS,SIGNED_RED_GREEN_RGTC2_Format:Y2,SIGNED_RED_RGTC1_Format:X2,SRGBColorSpace:Mo,SRGBTransfer:Xn,Scene:hw,ShaderChunk:Jt,ShaderLib:fa,ShaderMaterial:xa,ShadowMaterial:rX,Shape:hd,ShapeGeometry:GS,ShapePath:UPe,ShapeUtils:Ya,ShortType:e7,Skeleton:IS,SkeletonHelper:EPe,SkinnedMesh:V7,Source:nd,Sphere:Wi,SphereGeometry:b0,Spherical:_Pe,SphericalHarmonics3:MX,SplineCurve:XI,SpotLight:xX,SpotLightHelper:MPe,Sprite:j7,SpriteMaterial:zI,SrcAlphaFactor:cw,SrcAlphaSaturateFactor:N9,SrcColorFactor:T9,StaticCopyUsage:vwe,StaticDrawUsage:Iy,StaticReadUsage:pwe,StereoCamera:QAe,StreamCopyUsage:xwe,StreamDrawUsage:hwe,StreamReadUsage:gwe,StringKeyframeTrack:Ld,SubtractEquation:_9,SubtractiveBlending:w2,TOUCH:Wbe,TangentSpaceNormalMap:Lc,TetrahedronGeometry:$S,Texture:mr,TextureLoader:WAe,TorusGeometry:qS,TorusKnotGeometry:XS,Triangle:Ys,TriangleFanDrawMode:Qbe,TriangleStripDrawMode:Zbe,TrianglesDrawMode:Ybe,TubeGeometry:KS,UVMapping:ES,Uint16BufferAttribute:DI,Uint32BufferAttribute:kI,Uint8BufferAttribute:nSe,Uint8ClampedBufferAttribute:rSe,Uniform:sL,UniformsGroup:vPe,UniformsLib:st,UniformsUtils:A7,UnsignedByteType:Ja,UnsignedInt248Type:wd,UnsignedInt5999Type:t7,UnsignedIntType:bd,UnsignedShort4444Type:MI,UnsignedShort5551Type:EI,UnsignedShortType:Ay,VSMShadowMap:la,Vector2:je,Vector3:te,Vector4:In,VectorKeyframeTrack:zy,VideoTexture:nAe,WebGL3DRenderTarget:Wwe,WebGLArrayRenderTarget:Hwe,WebGLCoordinateSystem:Ha,WebGLCubeRenderTarget:C7,WebGLMultipleRenderTargets:BPe,WebGLRenderTarget:ya,WebGLRenderer:U7,WebGLUtils:k7,WebGPUCoordinateSystem:Ly,WireframeGeometry:nX,WrapAroundEnding:Cy,ZeroCurvatureEnding:ed,ZeroFactor:M9,ZeroSlopeEnding:td,ZeroStencilOp:Jbe,createCanvasElement:w7},Symbol.toStringTag,{value:"Module"}));var ZP={exports:{}},cc={};var pV;function zPe(){return pV||(pV=1,cc.ConcurrentRoot=1,cc.ContinuousEventPriority=4,cc.DefaultEventPriority=16,cc.DiscreteEventPriority=1,cc.IdleEventPriority=536870912,cc.LegacyRoot=0),cc}var mV;function VPe(){return mV||(mV=1,ZP.exports=zPe()),ZP.exports}var wp=VPe();function HPe(t){let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),n.forEach(v=>v(e,p))}},i=()=>e,s=(u,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function v(){const x=f(e);if(!d(p,x)){const b=p;u(p=x,b)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,f,d)=>f||d?s(u,f,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const WPe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),gV=WPe?B.useEffect:B.useLayoutEffect;function GPe(t){const e=typeof t=="function"?HPe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),u=B.useRef(i),f=B.useRef(!1),d=B.useRef();d.current===void 0&&(d.current=r(o));let p,v=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),v=!i(d.current,p)),gV(()=>{v&&(d.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const x=B.useRef(o);gV(()=>{const y=()=>{try{const M=e.getState(),S=l.current(M);u.current(d.current,S)||(a.current=M,d.current=S,s())}catch{f.current=!0,s()}},w=e.subscribe(y);return e.getState()!==x.current&&y(),w},[]);const b=v?p:d.current;return B.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var QP={exports:{}},JP={exports:{}},eC={};var vV;function $Pe(){return vV||(vV=1,(function(t){function e(V,K){var Q=V.length;V.push(K);e:for(;0<Q;){var G=Q-1>>>1,ne=V[G];if(0<i(ne,K))V[G]=K,V[Q]=ne,Q=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Q=V.pop();if(Q!==K){V[0]=Q;e:for(var G=0,ne=V.length,ye=ne>>>1;G<ye;){var ue=2*(G+1)-1,xe=V[ue],Re=ue+1,Ce=V[Re];if(0>i(xe,Q))Re<ne&&0>i(Ce,xe)?(V[G]=Ce,V[Re]=Q,G=Re):(V[G]=xe,V[ue]=Q,G=ue);else if(Re<ne&&0>i(Ce,Q))V[G]=Ce,V[Re]=Q,G=Re;else break e}}return K}function i(V,K){var Q=V.sortIndex-K.sortIndex;return Q!==0?Q:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function A(V){if(b=!1,S(V),!x)if(n(l)!==null)x=!0,Z(P);else{var K=n(u);K!==null&&ee(A,K.startTime-V)}}function P(V,K){x=!1,b&&(b=!1,w(k),k=-1),v=!0;var Q=p;try{for(S(K),d=n(l);d!==null&&(!(d.expirationTime>K)||V&&!j());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var ne=G(d.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(l)&&r(l),S(K)}else r(l);d=n(l)}if(d!==null)var ye=!0;else{var ue=n(u);ue!==null&&ee(A,ue.startTime-K),ye=!1}return ye}finally{d=null,p=Q,v=!1}}var O=!1,I=null,k=-1,L=5,F=-1;function j(){return!(t.unstable_now()-F<L)}function H(){if(I!==null){var V=t.unstable_now();F=V;var K=!0;try{K=I(!0,V)}finally{K?q():(O=!1,I=null)}}else O=!1}var q;if(typeof M=="function")q=function(){M(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=H,q=function(){J.postMessage(null)}}else q=function(){y(H,0)};function Z(V){I=V,O||(O=!0,q())}function ee(V,K){k=y(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Z(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Q=p;p=K;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return K()}finally{p=Q}},t.unstable_scheduleCallback=function(V,K,Q){var G=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?G+Q:G):Q=G,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,V={id:f++,callback:K,priorityLevel:V,startTime:Q,expirationTime:ne,sortIndex:-1},Q>G?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(b?(w(k),k=-1):b=!0,ee(A,Q-G))):(V.sortIndex=ne,e(l,V),x||v||(x=!0,Z(P))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var K=p;return function(){var Q=p;p=K;try{return V.apply(this,arguments)}finally{p=Q}}}})(eC)),eC}var yV;function qPe(){return yV||(yV=1,JP.exports=$Pe()),JP.exports}var tC,xV;function XPe(){return xV||(xV=1,tC=function(e){var n={},r=Wy(),i=qPe(),s=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,E=1;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),P=Symbol.iterator;function O(m){return m===null||typeof m!="object"?null:(m=P&&m[P]||m["@@iterator"],typeof m=="function"?m:null)}function I(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case x:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case b:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case M:return g=m.displayName||null,g!==null?g:I(m.type)||"Memo";case S:g=m._payload,m=m._init;try{return I(m(g))}catch{}}return null}function k(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(g);case 8:return g===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function L(m){var g=m,E=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(E=g.return),m=g.return;while(m)}return g.tag===3?E:null}function F(m){if(L(m)!==m)throw Error(o(188))}function j(m){var g=m.alternate;if(!g){if(g=L(m),g===null)throw Error(o(188));return g!==m?null:m}for(var E=m,R=g;;){var D=E.return;if(D===null)break;var z=D.alternate;if(z===null){if(R=D.return,R!==null){E=R;continue}break}if(D.child===z.child){for(z=D.child;z;){if(z===E)return F(D),m;if(z===R)return F(D),g;z=z.sibling}throw Error(o(188))}if(E.return!==R.return)E=D,R=z;else{for(var re=!1,he=D.child;he;){if(he===E){re=!0,E=D,R=z;break}if(he===R){re=!0,R=D,E=z;break}he=he.sibling}if(!re){for(he=z.child;he;){if(he===E){re=!0,E=z,R=D;break}if(he===R){re=!0,R=z,E=D;break}he=he.sibling}if(!re)throw Error(o(189))}}if(E.alternate!==R)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?m:g}function H(m){return m=j(m),m!==null?q(m):null}function q(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=q(m);if(g!==null)return g;m=m.sibling}return null}function X(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=X(m);if(g!==null)return g}m=m.sibling}return null}var J=Array.isArray,Z=e.getPublicInstance,ee=e.getRootHostContext,V=e.getChildHostContext,K=e.prepareForCommit,Q=e.resetAfterCommit,G=e.createInstance,ne=e.appendInitialChild,ye=e.finalizeInitialChildren,ue=e.prepareUpdate,xe=e.shouldSetTextContent,Re=e.createTextInstance,Ce=e.scheduleTimeout,qe=e.cancelTimeout,Ae=e.noTimeout,ze=e.isPrimaryRenderer,se=e.supportsMutation,ae=e.supportsPersistence,Me=e.supportsHydration,Ne=e.getInstanceFromNode,De=e.preparePortalMount,ke=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,et=e.supportsMicrotasks,At=e.scheduleMicrotask,ie=e.supportsTestSelectors,$=e.findFiberRoot,be=e.getBoundingRect,Be=e.getTextContent,Fe=e.isHiddenSubtree,Ve=e.matchAccessibilityRole,Et=e.setFocusIfFocusable,nt=e.setupIntersectionObserver,rt=e.appendChild,Bt=e.appendChildToContainer,$e=e.commitTextUpdate,mt=e.commitMount,tn=e.commitUpdate,It=e.insertBefore,ot=e.insertInContainerBefore,Wt=e.removeChild,Yt=e.removeChildFromContainer,Dn=e.resetTextContent,ce=e.hideInstance,at=e.hideTextInstance,Le=e.unhideInstance,Ue=e.unhideTextInstance,Xe=e.clearContainer,Lt=e.cloneInstance,on=e.createContainerChildSet,Vn=e.appendChildToContainerChildSet,lr=e.finalizeContainerChildren,hn=e.replaceContainerChildren,di=e.cloneHiddenInstance,Ci=e.cloneHiddenTextInstance,Gi=e.canHydrateInstance,il=e.canHydrateTextInstance,Sa=e.canHydrateSuspenseInstance,Uc=e.isSuspenseInstancePending,ms=e.isSuspenseInstanceFallback,sl=e.registerSuspenseInstanceRetry,$i=e.getNextHydratableSibling,_u=e.getFirstHydratableChild,Dd=e.getFirstHydratableChildWithinContainer,Nm=e.getFirstHydratableChildWithinSuspenseInstance,Im=e.hydrateInstance,No=e.hydrateTextInstance,Y=e.hydrateSuspenseInstance,pe=e.getNextHydratableInstanceAfterSuspenseInstance,Se=e.commitHydratedContainer,Ee=e.commitHydratedSuspenseInstance,ge=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,lt=e.shouldDeleteUnhydratedTailInstances,gt=e.didNotMatchHydratedContainerTextInstance,_t=e.didNotMatchHydratedTextInstance,ut;function Pt(m){if(ut===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);ut=g&&g[1]||""}return`
`+ut+m}var Tt=!1;function an(m,g){if(!m||Tt)return"";Tt=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ke){var R=Ke}Reflect.construct(m,[],g)}else{try{g.call()}catch(Ke){R=Ke}m.call(g.prototype)}else{try{throw Error()}catch(Ke){R=Ke}m()}}catch(Ke){if(Ke&&R&&typeof Ke.stack=="string"){for(var D=Ke.stack.split(`
`),z=R.stack.split(`
`),re=D.length-1,he=z.length-1;1<=re&&0<=he&&D[re]!==z[he];)he--;for(;1<=re&&0<=he;re--,he--)if(D[re]!==z[he]){if(re!==1||he!==1)do if(re--,he--,0>he||D[re]!==z[he]){var Oe=`
`+D[re].replace(" at new "," at ");return m.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",m.displayName)),Oe}while(1<=re&&0<=he);break}}}finally{Tt=!1,Error.prepareStackTrace=E}return(m=m?m.displayName||m.name:"")?Pt(m):""}var On=Object.prototype.hasOwnProperty,kn=[],ur=-1;function Gt(m){return{current:m}}function Ye(m){0>ur||(m.current=kn[ur],kn[ur]=null,ur--)}function Vt(m,g){ur++,kn[ur]=m.current,m.current=g}var Ft={},Fn=Gt(Ft),Sr=Gt(!1),hi=Ft;function qi(m,g){var E=m.type.contextTypes;if(!E)return Ft;var R=m.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var D={},z;for(z in E)D[z]=g[z];return R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=D),D}function rn(m){return m=m.childContextTypes,m!=null}function jr(){Ye(Sr),Ye(Fn)}function Io(m,g,E){if(Fn.current!==Ft)throw Error(o(168));Vt(Fn,g),Vt(Sr,E)}function pi(m,g,E){var R=m.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return E;R=R.getChildContext();for(var D in R)if(!(D in g))throw Error(o(108,k(m)||"Unknown",D));return s({},E,R)}function Ma(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Ft,hi=Fn.current,Vt(Fn,m),Vt(Sr,Sr.current),!0}function bu(m,g,E){var R=m.stateNode;if(!R)throw Error(o(169));E?(m=pi(m,g,hi),R.__reactInternalMemoizedMergedChildContext=m,Ye(Sr),Ye(Fn),Vt(Fn,m)):Ye(Sr),Vt(Sr,E)}var mi=Math.clz32?Math.clz32:ZS,Lm=Math.log,Bc=Math.LN2;function ZS(m){return m>>>=0,m===0?32:31-(Lm(m)/Bc|0)|0}var wu=64,pn=4194304;function Su(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function jc(m,g){var E=m.pendingLanes;if(E===0)return 0;var R=0,D=m.suspendedLanes,z=m.pingedLanes,re=E&268435455;if(re!==0){var he=re&~D;he!==0?R=Su(he):(z&=re,z!==0&&(R=Su(z)))}else re=E&~D,re!==0?R=Su(re):z!==0&&(R=Su(z));if(R===0)return 0;if(g!==0&&g!==R&&(g&D)===0&&(D=R&-R,z=g&-g,D>=z||D===16&&(z&4194240)!==0))return g;if((R&4)!==0&&(R|=E&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=R;0<g;)E=31-mi(g),D=1<<E,R|=m[E],g&=~D;return R}function Dm(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(m,g){for(var E=m.suspendedLanes,R=m.pingedLanes,D=m.expirationTimes,z=m.pendingLanes;0<z;){var re=31-mi(z),he=1<<re,Oe=D[re];Oe===-1?((he&E)===0||(he&R)!==0)&&(D[re]=Dm(he,g)):Oe<=g&&(m.expiredLanes|=he),z&=~he}}function kd(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Fd(m){for(var g=[],E=0;31>E;E++)g.push(m);return g}function ol(m,g,E){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-mi(g),m[g]=E}function Ud(m,g){var E=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var R=m.eventTimes;for(m=m.expirationTimes;0<E;){var D=31-mi(E),z=1<<D;g[D]=0,R[D]=-1,m[D]=-1,E&=~z}}function io(m,g){var E=m.entangledLanes|=g;for(m=m.entanglements;E;){var R=31-mi(E),D=1<<R;D&g|m[R]&g&&(m[R]|=g),E&=~D}}var Zt=0;function Lo(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var al=i.unstable_scheduleCallback,Mu=i.unstable_cancelCallback,Ea=i.unstable_shouldYield,QS=i.unstable_requestPaint,Mr=i.unstable_now,ll=i.unstable_ImmediatePriority,JS=i.unstable_UserBlockingPriority,Bd=i.unstable_NormalPriority,jd=i.unstable_IdlePriority,zc=null,so=null;function Vc(m){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(zc,m,void 0,(m.current.flags&128)===128)}catch{}}function Hc(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var gi=typeof Object.is=="function"?Object.is:Hc,gs=null,zd=!1,km=!1;function Vd(m){gs===null?gs=[m]:gs.push(m)}function Hd(m){zd=!0,Vd(m)}function vs(){if(!km&&gs!==null){km=!0;var m=0,g=Zt;try{var E=gs;for(Zt=1;m<E.length;m++){var R=E[m];do R=R(!0);while(R!==null)}gs=null,zd=!1}catch(D){throw gs!==null&&(gs=gs.slice(m+1)),al(ll,vs),D}finally{Zt=g,km=!1}}return null}var T0=a.ReactCurrentBatchConfig;function Ls(m,g){if(gi(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var E=Object.keys(m),R=Object.keys(g);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var D=E[R];if(!On.call(g,D)||!gi(m[D],g[D]))return!1}return!0}function Fm(m){switch(m.tag){case 5:return Pt(m.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 2:case 15:return m=an(m.type,!1),m;case 11:return m=an(m.type.render,!1),m;case 1:return m=an(m.type,!0),m;default:return""}}function Ri(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var E in m)g[E]===void 0&&(g[E]=m[E]);return g}return g}var Wc=Gt(null),ul=null,Do=null,Wd=null;function vi(){Wd=Do=ul=null}function cl(m,g,E){ze?(Vt(Wc,g._currentValue),g._currentValue=E):(Vt(Wc,g._currentValue2),g._currentValue2=E)}function Gc(m){var g=Wc.current;Ye(Wc),ze?m._currentValue=g:m._currentValue2=g}function fl(m,g,E){for(;m!==null;){var R=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),m===E)break;m=m.return}}function Eu(m,g){ul=m,Wd=Do=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(Nr=!0),m.firstContext=null)}function Oi(m){var g=ze?m._currentValue:m._currentValue2;if(Wd!==m)if(m={context:m,memoizedValue:g,next:null},Do===null){if(ul===null)throw Error(o(308));Do=m,ul.dependencies={lanes:0,firstContext:m}}else Do=Do.next=m;return g}var ys=null,xs=!1;function Tu(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ko(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function Ta(m,g){var E=m.updateQueue;E!==null&&(E=E.shared,fr!==null&&(m.mode&1)!==0&&($t&2)===0?(m=E.interleaved,m===null?(g.next=g,ys===null?ys=[E]:ys.push(E)):(g.next=m.next,m.next=g),E.interleaved=g):(m=E.pending,m===null?g.next=g:(g.next=m.next,m.next=g),E.pending=g))}function Gd(m,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194240)!==0)){var R=g.lanes;R&=m.pendingLanes,E|=R,g.lanes=E,io(m,E)}}function $d(m,g){var E=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var D=null,z=null;if(E=E.firstBaseUpdate,E!==null){do{var re={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};z===null?D=z=re:z=z.next=re,E=E.next}while(E!==null);z===null?D=z=g:z=z.next=g}else D=z=g;E={baseState:R.baseState,firstBaseUpdate:D,lastBaseUpdate:z,shared:R.shared,effects:R.effects},m.updateQueue=E;return}m=E.lastBaseUpdate,m===null?E.firstBaseUpdate=g:m.next=g,E.lastBaseUpdate=g}function qd(m,g,E,R){var D=m.updateQueue;xs=!1;var z=D.firstBaseUpdate,re=D.lastBaseUpdate,he=D.shared.pending;if(he!==null){D.shared.pending=null;var Oe=he,Ke=Oe.next;Oe.next=null,re===null?z=Ke:re.next=Ke,re=Oe;var pt=m.alternate;pt!==null&&(pt=pt.updateQueue,he=pt.lastBaseUpdate,he!==re&&(he===null?pt.firstBaseUpdate=Ke:he.next=Ke,pt.lastBaseUpdate=Oe))}if(z!==null){var jt=D.baseState;re=0,pt=Ke=Oe=null,he=z;do{var Ct=he.lane,qt=he.eventTime;if((R&Ct)===Ct){pt!==null&&(pt=pt.next={eventTime:qt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var ct=m,$r=he;switch(Ct=g,qt=E,$r.tag){case 1:if(ct=$r.payload,typeof ct=="function"){jt=ct.call(qt,jt,Ct);break e}jt=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=$r.payload,Ct=typeof ct=="function"?ct.call(qt,jt,Ct):ct,Ct==null)break e;jt=s({},jt,Ct);break e;case 2:xs=!0}}he.callback!==null&&he.lane!==0&&(m.flags|=64,Ct=D.effects,Ct===null?D.effects=[he]:Ct.push(he))}else qt={eventTime:qt,lane:Ct,tag:he.tag,payload:he.payload,callback:he.callback,next:null},pt===null?(Ke=pt=qt,Oe=jt):pt=pt.next=qt,re|=Ct;if(he=he.next,he===null){if(he=D.shared.pending,he===null)break;Ct=he,he=Ct.next,Ct.next=null,D.lastBaseUpdate=Ct,D.shared.pending=null}}while(!0);if(pt===null&&(Oe=jt),D.baseState=Oe,D.firstBaseUpdate=Ke,D.lastBaseUpdate=pt,g=D.shared.interleaved,g!==null){D=g;do re|=D.lane,D=D.next;while(D!==g)}else z===null&&(D.shared.lanes=0);uo|=re,m.lanes=re,m.memoizedState=jt}}function A0(m,g,E){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var R=m[g],D=R.callback;if(D!==null){if(R.callback=null,R=E,typeof D!="function")throw Error(o(191,D));D.call(R)}}}var P0=new r.Component().refs;function Bm(m,g,E,R){g=m.memoizedState,E=E(R,g),E=E==null?g:s({},g,E),m.memoizedState=E,m.lanes===0&&(m.updateQueue.baseState=E)}var Xd={isMounted:function(m){return(m=m._reactInternals)?L(m)===m:!1},enqueueSetState:function(m,g,E){m=m._reactInternals;var R=mn(),D=zs(m),z=ko(R,D);z.payload=g,E!=null&&(z.callback=E),Ta(m,z),g=ni(m,D,R),g!==null&&Gd(g,m,D)},enqueueReplaceState:function(m,g,E){m=m._reactInternals;var R=mn(),D=zs(m),z=ko(R,D);z.tag=1,z.payload=g,E!=null&&(z.callback=E),Ta(m,z),g=ni(m,D,R),g!==null&&Gd(g,m,D)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var E=mn(),R=zs(m),D=ko(E,R);D.tag=2,g!=null&&(D.callback=g),Ta(m,D),g=ni(m,R,E),g!==null&&Gd(g,m,R)}};function jm(m,g,E,R,D,z,re){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,z,re):g.prototype&&g.prototype.isPureReactComponent?!Ls(E,R)||!Ls(D,z):!0}function C0(m,g,E){var R=!1,D=Ft,z=g.contextType;return typeof z=="object"&&z!==null?z=Oi(z):(D=rn(g)?hi:Fn.current,R=g.contextTypes,z=(R=R!=null)?qi(m,D):Ft),g=new g(E,z),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xd,m.stateNode=g,g._reactInternals=m,R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=D,m.__reactInternalMemoizedMaskedChildContext=z),g}function R0(m,g,E,R){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,R),g.state!==m&&Xd.enqueueReplaceState(g,g.state,null)}function zm(m,g,E,R){var D=m.stateNode;D.props=E,D.state=m.memoizedState,D.refs=P0,Tu(m);var z=g.contextType;typeof z=="object"&&z!==null?D.context=Oi(z):(z=rn(g)?hi:Fn.current,D.context=qi(m,z)),D.state=m.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(Bm(m,g,z,E),D.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&Xd.enqueueReplaceState(D,D.state,null),qd(m,E,D,R),D.state=m.memoizedState),typeof D.componentDidMount=="function"&&(m.flags|=4194308)}var Au=[],Aa=0,Kd=null,Yd=0,_s=[],Xi=0,dl=null,Fo=1,Uo="";function hl(m,g){Au[Aa++]=Yd,Au[Aa++]=Kd,Kd=m,Yd=g}function O0(m,g,E){_s[Xi++]=Fo,_s[Xi++]=Uo,_s[Xi++]=dl,dl=m;var R=Fo;m=Uo;var D=32-mi(R)-1;R&=~(1<<D),E+=1;var z=32-mi(g)+D;if(30<z){var re=D-D%5;z=(R&(1<<re)-1).toString(32),R>>=re,D-=re,Fo=1<<32-mi(g)+D|E<<D|R,Uo=z+m}else Fo=1<<z|E<<D|R,Uo=m}function Vm(m){m.return!==null&&(hl(m,1),O0(m,1,0))}function Hm(m){for(;m===Kd;)Kd=Au[--Aa],Au[Aa]=null,Yd=Au[--Aa],Au[Aa]=null;for(;m===dl;)dl=_s[--Xi],_s[Xi]=null,Uo=_s[--Xi],_s[Xi]=null,Fo=_s[--Xi],_s[Xi]=null}var yi=null,zr=null,$n=!1,Pu=!1,bs=null;function Wm(m,g){var E=ts(5,null,null,0);E.elementType="DELETED",E.stateNode=g,E.return=m,g=m.deletions,g===null?(m.deletions=[E],m.flags|=16):g.push(E)}function Gm(m,g){switch(m.tag){case 5:return g=Gi(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,yi=m,zr=_u(g),!0):!1;case 6:return g=il(g,m.pendingProps),g!==null?(m.stateNode=g,yi=m,zr=null,!0):!1;case 13:if(g=Sa(g),g!==null){var E=dl!==null?{id:Fo,overflow:Uo}:null;return m.memoizedState={dehydrated:g,treeContext:E,retryLane:1073741824},E=ts(18,null,null,0),E.stateNode=g,E.return=m,m.child=E,yi=m,zr=null,!0}return!1;default:return!1}}function Zd(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Pa(m){if($n){var g=zr;if(g){var E=g;if(!Gm(m,g)){if(Zd(m))throw Error(o(418));g=$i(E);var R=yi;g&&Gm(m,g)?Wm(R,E):(m.flags=m.flags&-4097|2,$n=!1,yi=m)}}else{if(Zd(m))throw Error(o(418));m.flags=m.flags&-4097|2,$n=!1,yi=m}}}function N0(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;yi=m}function $c(m){if(!Me||m!==yi)return!1;if(!$n)return N0(m),$n=!0,!1;if(m.tag!==3&&(m.tag!==5||lt(m.type)&&!xe(m.type,m.memoizedProps))){var g=zr;if(g){if(Zd(m)){for(m=zr;m;)m=$i(m);throw Error(o(418))}for(;g;)Wm(m,g),g=$i(g)}}if(N0(m),m.tag===13){if(!Me)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));zr=pe(m)}else zr=yi?$i(m.stateNode):null;return!0}function Cu(){Me&&(zr=yi=null,Pu=$n=!1)}function Qd(m){bs===null?bs=[m]:bs.push(m)}function Ru(m,g,E){if(m=E.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var R=E.stateNode}if(!R)throw Error(o(147,m));var D=R,z=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===z?g.ref:(g=function(re){var he=D.refs;he===P0&&(he=D.refs={}),re===null?delete he[z]:he[z]=re},g._stringRef=z,g)}if(typeof m!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,m))}return m}function Ca(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Ou(m){var g=m._init;return g(m._payload)}function I0(m){function g(we,me){if(m){var Pe=we.deletions;Pe===null?(we.deletions=[me],we.flags|=16):Pe.push(me)}}function E(we,me){if(!m)return null;for(;me!==null;)g(we,me),me=me.sibling;return null}function R(we,me){for(we=new Map;me!==null;)me.key!==null?we.set(me.key,me):we.set(me.index,me),me=me.sibling;return we}function D(we,me){return we=Qo(we,me),we.index=0,we.sibling=null,we}function z(we,me,Pe){return we.index=Pe,m?(Pe=we.alternate,Pe!==null?(Pe=Pe.index,Pe<me?(we.flags|=2,me):Pe):(we.flags|=2,me)):(we.flags|=1048576,me)}function re(we){return m&&we.alternate===null&&(we.flags|=2),we}function he(we,me,Pe,it){return me===null||me.tag!==6?(me=Eh(Pe,we.mode,it),me.return=we,me):(me=D(me,Pe),me.return=we,me)}function Oe(we,me,Pe,it){var wt=Pe.type;return wt===f?pt(we,me,Pe.props.children,it,Pe.key):me!==null&&(me.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===S&&Ou(wt)===me.type)?(it=D(me,Pe.props),it.ref=Ru(we,me,Pe),it.return=we,it):(it=Mh(Pe.type,Pe.key,Pe.props,null,we.mode,it),it.ref=Ru(we,me,Pe),it.return=we,it)}function Ke(we,me,Pe,it){return me===null||me.tag!==4||me.stateNode.containerInfo!==Pe.containerInfo||me.stateNode.implementation!==Pe.implementation?(me=Th(Pe,we.mode,it),me.return=we,me):(me=D(me,Pe.children||[]),me.return=we,me)}function pt(we,me,Pe,it,wt){return me===null||me.tag!==7?(me=Dl(Pe,we.mode,it,wt),me.return=we,me):(me=D(me,Pe),me.return=we,me)}function jt(we,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Eh(""+me,we.mode,Pe),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Pe=Mh(me.type,me.key,me.props,null,we.mode,Pe),Pe.ref=Ru(we,null,me),Pe.return=we,Pe;case u:return me=Th(me,we.mode,Pe),me.return=we,me;case S:var it=me._init;return jt(we,it(me._payload),Pe)}if(J(me)||O(me))return me=Dl(me,we.mode,Pe,null),me.return=we,me;Ca(we,me)}return null}function Ct(we,me,Pe,it){var wt=me!==null?me.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return wt!==null?null:he(we,me,""+Pe,it);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:return Pe.key===wt?Oe(we,me,Pe,it):null;case u:return Pe.key===wt?Ke(we,me,Pe,it):null;case S:return wt=Pe._init,Ct(we,me,wt(Pe._payload),it)}if(J(Pe)||O(Pe))return wt!==null?null:pt(we,me,Pe,it,null);Ca(we,Pe)}return null}function qt(we,me,Pe,it,wt){if(typeof it=="string"&&it!==""||typeof it=="number")return we=we.get(Pe)||null,he(me,we,""+it,wt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case l:return we=we.get(it.key===null?Pe:it.key)||null,Oe(me,we,it,wt);case u:return we=we.get(it.key===null?Pe:it.key)||null,Ke(me,we,it,wt);case S:var Ht=it._init;return qt(we,me,Pe,Ht(it._payload),wt)}if(J(it)||O(it))return we=we.get(Pe)||null,pt(me,we,it,wt,null);Ca(me,it)}return null}function ct(we,me,Pe,it){for(var wt=null,Ht=null,zt=me,fn=me=0,vr=null;zt!==null&&fn<Pe.length;fn++){zt.index>fn?(vr=zt,zt=null):vr=zt.sibling;var un=Ct(we,zt,Pe[fn],it);if(un===null){zt===null&&(zt=vr);break}m&&zt&&un.alternate===null&&g(we,zt),me=z(un,me,fn),Ht===null?wt=un:Ht.sibling=un,Ht=un,zt=vr}if(fn===Pe.length)return E(we,zt),$n&&hl(we,fn),wt;if(zt===null){for(;fn<Pe.length;fn++)zt=jt(we,Pe[fn],it),zt!==null&&(me=z(zt,me,fn),Ht===null?wt=zt:Ht.sibling=zt,Ht=zt);return $n&&hl(we,fn),wt}for(zt=R(we,zt);fn<Pe.length;fn++)vr=qt(zt,we,fn,Pe[fn],it),vr!==null&&(m&&vr.alternate!==null&&zt.delete(vr.key===null?fn:vr.key),me=z(vr,me,fn),Ht===null?wt=vr:Ht.sibling=vr,Ht=vr);return m&&zt.forEach(function(Jo){return g(we,Jo)}),$n&&hl(we,fn),wt}function $r(we,me,Pe,it){var wt=O(Pe);if(typeof wt!="function")throw Error(o(150));if(Pe=wt.call(Pe),Pe==null)throw Error(o(151));for(var Ht=wt=null,zt=me,fn=me=0,vr=null,un=Pe.next();zt!==null&&!un.done;fn++,un=Pe.next()){zt.index>fn?(vr=zt,zt=null):vr=zt.sibling;var Jo=Ct(we,zt,un.value,it);if(Jo===null){zt===null&&(zt=vr);break}m&&zt&&Jo.alternate===null&&g(we,zt),me=z(Jo,me,fn),Ht===null?wt=Jo:Ht.sibling=Jo,Ht=Jo,zt=vr}if(un.done)return E(we,zt),$n&&hl(we,fn),wt;if(zt===null){for(;!un.done;fn++,un=Pe.next())un=jt(we,un.value,it),un!==null&&(me=z(un,me,fn),Ht===null?wt=un:Ht.sibling=un,Ht=un);return $n&&hl(we,fn),wt}for(zt=R(we,zt);!un.done;fn++,un=Pe.next())un=qt(zt,we,fn,un.value,it),un!==null&&(m&&un.alternate!==null&&zt.delete(un.key===null?fn:un.key),me=z(un,me,fn),Ht===null?wt=un:Ht.sibling=un,Ht=un);return m&&zt.forEach(function(wg){return g(we,wg)}),$n&&hl(we,fn),wt}function ns(we,me,Pe,it){if(typeof Pe=="object"&&Pe!==null&&Pe.type===f&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:e:{for(var wt=Pe.key,Ht=me;Ht!==null;){if(Ht.key===wt){if(wt=Pe.type,wt===f){if(Ht.tag===7){E(we,Ht.sibling),me=D(Ht,Pe.props.children),me.return=we,we=me;break e}}else if(Ht.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===S&&Ou(wt)===Ht.type){E(we,Ht.sibling),me=D(Ht,Pe.props),me.ref=Ru(we,Ht,Pe),me.return=we,we=me;break e}E(we,Ht);break}else g(we,Ht);Ht=Ht.sibling}Pe.type===f?(me=Dl(Pe.props.children,we.mode,it,Pe.key),me.return=we,we=me):(it=Mh(Pe.type,Pe.key,Pe.props,null,we.mode,it),it.ref=Ru(we,me,Pe),it.return=we,we=it)}return re(we);case u:e:{for(Ht=Pe.key;me!==null;){if(me.key===Ht)if(me.tag===4&&me.stateNode.containerInfo===Pe.containerInfo&&me.stateNode.implementation===Pe.implementation){E(we,me.sibling),me=D(me,Pe.children||[]),me.return=we,we=me;break e}else{E(we,me);break}else g(we,me);me=me.sibling}me=Th(Pe,we.mode,it),me.return=we,we=me}return re(we);case S:return Ht=Pe._init,ns(we,me,Ht(Pe._payload),it)}if(J(Pe))return ct(we,me,Pe,it);if(O(Pe))return $r(we,me,Pe,it);Ca(we,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,me!==null&&me.tag===6?(E(we,me.sibling),me=D(me,Pe),me.return=we,we=me):(E(we,me),me=Eh(Pe,we.mode,it),me.return=we,we=me),re(we)):E(we,me)}return ns}var Bo=I0(!0),L0=I0(!1),Nu={},Ni=Gt(Nu),pl=Gt(Nu),ml=Gt(Nu);function Ds(m){if(m===Nu)throw Error(o(174));return m}function Jd(m,g){Vt(ml,g),Vt(pl,m),Vt(Ni,Nu),m=ee(g),Ye(Ni),Vt(Ni,m)}function Iu(){Ye(Ni),Ye(pl),Ye(ml)}function D0(m){var g=Ds(ml.current),E=Ds(Ni.current);g=V(E,m.type,g),E!==g&&(Vt(pl,m),Vt(Ni,g))}function $m(m){pl.current===m&&(Ye(Ni),Ye(pl))}var Yn=Gt(0);function eh(m){for(var g=m;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||Uc(E)||ms(E)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Ki=[];function gl(){for(var m=0;m<Ki.length;m++){var g=Ki[m];ze?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}Ki.length=0}var qc=a.ReactCurrentDispatcher,Yi=a.ReactCurrentBatchConfig,vl=0,Zn=null,Cr=null,Rr=null,th=!1,oo=!1,yl=0,Xc=0;function Or(){throw Error(o(321))}function nh(m,g){if(g===null)return!1;for(var E=0;E<g.length&&E<m.length;E++)if(!gi(m[E],g[E]))return!1;return!0}function Lu(m,g,E,R,D,z){if(vl=z,Zn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,qc.current=m===null||m.memoizedState===null?Qm:Jm,m=E(R,D),oo){z=0;do{if(oo=!1,yl=0,25<=z)throw Error(o(301));z+=1,Rr=Cr=null,g.updateQueue=null,qc.current=eg,m=E(R,D)}while(oo)}if(qc.current=Uu,g=Cr!==null&&Cr.next!==null,vl=0,Rr=Cr=Zn=null,th=!1,g)throw Error(o(300));return m}function Ra(){var m=yl!==0;return yl=0,m}function ks(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?Zn.memoizedState=Rr=m:Rr=Rr.next=m,Rr}function Fs(){if(Cr===null){var m=Zn.alternate;m=m!==null?m.memoizedState:null}else m=Cr.next;var g=Rr===null?Zn.memoizedState:Rr.next;if(g!==null)Rr=g,Cr=m;else{if(m===null)throw Error(o(310));Cr=m,m={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Rr===null?Zn.memoizedState=Rr=m:Rr=Rr.next=m}return Rr}function ao(m,g){return typeof g=="function"?g(m):g}function Kc(m){var g=Fs(),E=g.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=m;var R=Cr,D=R.baseQueue,z=E.pending;if(z!==null){if(D!==null){var re=D.next;D.next=z.next,z.next=re}R.baseQueue=D=z,E.pending=null}if(D!==null){z=D.next,R=R.baseState;var he=re=null,Oe=null,Ke=z;do{var pt=Ke.lane;if((vl&pt)===pt)Oe!==null&&(Oe=Oe.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),R=Ke.hasEagerState?Ke.eagerState:m(R,Ke.action);else{var jt={lane:pt,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Oe===null?(he=Oe=jt,re=R):Oe=Oe.next=jt,Zn.lanes|=pt,uo|=pt}Ke=Ke.next}while(Ke!==null&&Ke!==z);Oe===null?re=R:Oe.next=he,gi(R,g.memoizedState)||(Nr=!0),g.memoizedState=R,g.baseState=re,g.baseQueue=Oe,E.lastRenderedState=R}if(m=E.interleaved,m!==null){D=m;do z=D.lane,Zn.lanes|=z,uo|=z,D=D.next;while(D!==m)}else D===null&&(E.lanes=0);return[g.memoizedState,E.dispatch]}function Yc(m){var g=Fs(),E=g.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=m;var R=E.dispatch,D=E.pending,z=g.memoizedState;if(D!==null){E.pending=null;var re=D=D.next;do z=m(z,re.action),re=re.next;while(re!==D);gi(z,g.memoizedState)||(Nr=!0),g.memoizedState=z,g.baseQueue===null&&(g.baseState=z),E.lastRenderedState=z}return[z,R]}function qm(){}function Xm(m,g){var E=Zn,R=Fs(),D=g(),z=!gi(R.memoizedState,D);if(z&&(R.memoizedState=D,Nr=!0),R=R.queue,Du(jo.bind(null,E,R,m),[m]),R.getSnapshot!==g||z||Rr!==null&&Rr.memoizedState.tag&1){if(E.flags|=2048,Qc(9,Ym.bind(null,E,R,D,g),void 0,null),fr===null)throw Error(o(349));(vl&30)!==0||Km(E,g,D)}return D}function Km(m,g,E){m.flags|=16384,m={getSnapshot:g,value:E},g=Zn.updateQueue,g===null?(g={lastEffect:null,stores:null},Zn.updateQueue=g,g.stores=[m]):(E=g.stores,E===null?g.stores=[m]:E.push(m))}function Ym(m,g,E,R){g.value=E,g.getSnapshot=R,rh(g)&&ni(m,1,-1)}function jo(m,g,E){return E(function(){rh(g)&&ni(m,1,-1)})}function rh(m){var g=m.getSnapshot;m=m.value;try{var E=g();return!gi(m,E)}catch{return!0}}function Zc(m){var g=ks();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:m},g.queue=m,m=m.dispatch=e1.bind(null,Zn,m),[g.memoizedState,m]}function Qc(m,g,E,R){return m={tag:m,create:g,destroy:E,deps:R,next:null},g=Zn.updateQueue,g===null?(g={lastEffect:null,stores:null},Zn.updateQueue=g,g.lastEffect=m.next=m):(E=g.lastEffect,E===null?g.lastEffect=m.next=m:(R=E.next,E.next=m,m.next=R,g.lastEffect=m)),m}function k0(){return Fs().memoizedState}function Oa(m,g,E,R){var D=ks();Zn.flags|=m,D.memoizedState=Qc(1|g,E,void 0,R===void 0?null:R)}function ih(m,g,E,R){var D=Fs();R=R===void 0?null:R;var z=void 0;if(Cr!==null){var re=Cr.memoizedState;if(z=re.destroy,R!==null&&nh(R,re.deps)){D.memoizedState=Qc(g,E,z,R);return}}Zn.flags|=m,D.memoizedState=Qc(1|g,E,z,R)}function sh(m,g){return Oa(8390656,8,m,g)}function Du(m,g){return ih(2048,8,m,g)}function Un(m,g){return ih(4,2,m,g)}function oh(m,g){return ih(4,4,m,g)}function Jc(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function ku(m,g,E){return E=E!=null?E.concat([m]):null,ih(4,4,Jc.bind(null,g,m),E)}function ah(){}function lh(m,g){var E=Fs();g=g===void 0?null:g;var R=E.memoizedState;return R!==null&&g!==null&&nh(g,R[1])?R[0]:(E.memoizedState=[m,g],m)}function Fu(m,g){var E=Fs();g=g===void 0?null:g;var R=E.memoizedState;return R!==null&&g!==null&&nh(g,R[1])?R[0]:(m=m(),E.memoizedState=[m,g],m)}function uh(m,g){var E=Zt;Zt=E!==0&&4>E?E:4,m(!0);var R=Yi.transition;Yi.transition={};try{m(!1),g()}finally{Zt=E,Yi.transition=R}}function xl(){return Fs().memoizedState}function F0(m,g,E){var R=zs(m);E={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null},U0(m)?Zm(g,E):(ef(m,g,E),E=mn(),m=ni(m,R,E),m!==null&&tf(m,g,R))}function e1(m,g,E){var R=zs(m),D={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null};if(U0(m))Zm(g,D);else{ef(m,g,D);var z=m.alternate;if(m.lanes===0&&(z===null||z.lanes===0)&&(z=g.lastRenderedReducer,z!==null))try{var re=g.lastRenderedState,he=z(re,E);if(D.hasEagerState=!0,D.eagerState=he,gi(he,re))return}catch{}E=mn(),m=ni(m,R,E),m!==null&&tf(m,g,R)}}function U0(m){var g=m.alternate;return m===Zn||g!==null&&g===Zn}function Zm(m,g){oo=th=!0;var E=m.pending;E===null?g.next=g:(g.next=E.next,E.next=g),m.pending=g}function ef(m,g,E){fr!==null&&(m.mode&1)!==0&&($t&2)===0?(m=g.interleaved,m===null?(E.next=E,ys===null?ys=[g]:ys.push(g)):(E.next=m.next,m.next=E),g.interleaved=E):(m=g.pending,m===null?E.next=E:(E.next=m.next,m.next=E),g.pending=E)}function tf(m,g,E){if((E&4194240)!==0){var R=g.lanes;R&=m.pendingLanes,E|=R,g.lanes=E,io(m,E)}}var Uu={readContext:Oi,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},Qm={readContext:Oi,useCallback:function(m,g){return ks().memoizedState=[m,g===void 0?null:g],m},useContext:Oi,useEffect:sh,useImperativeHandle:function(m,g,E){return E=E!=null?E.concat([m]):null,Oa(4194308,4,Jc.bind(null,g,m),E)},useLayoutEffect:function(m,g){return Oa(4194308,4,m,g)},useInsertionEffect:function(m,g){return Oa(4,2,m,g)},useMemo:function(m,g){var E=ks();return g=g===void 0?null:g,m=m(),E.memoizedState=[m,g],m},useReducer:function(m,g,E){var R=ks();return g=E!==void 0?E(g):g,R.memoizedState=R.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},R.queue=m,m=m.dispatch=F0.bind(null,Zn,m),[R.memoizedState,m]},useRef:function(m){var g=ks();return m={current:m},g.memoizedState=m},useState:Zc,useDebugValue:ah,useDeferredValue:function(m){var g=Zc(m),E=g[0],R=g[1];return sh(function(){var D=Yi.transition;Yi.transition={};try{R(m)}finally{Yi.transition=D}},[m]),E},useTransition:function(){var m=Zc(!1),g=m[0];return m=uh.bind(null,m[1]),ks().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,E){var R=Zn,D=ks();if($n){if(E===void 0)throw Error(o(407));E=E()}else{if(E=g(),fr===null)throw Error(o(349));(vl&30)!==0||Km(R,g,E)}D.memoizedState=E;var z={value:E,getSnapshot:g};return D.queue=z,sh(jo.bind(null,R,z,m),[m]),R.flags|=2048,Qc(9,Ym.bind(null,R,z,E,g),void 0,null),E},useId:function(){var m=ks(),g=fr.identifierPrefix;if($n){var E=Uo,R=Fo;E=(R&~(1<<32-mi(R)-1)).toString(32)+E,g=":"+g+"R"+E,E=yl++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=Xc++,g=":"+g+"r"+E.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Jm={readContext:Oi,useCallback:lh,useContext:Oi,useEffect:Du,useImperativeHandle:ku,useInsertionEffect:Un,useLayoutEffect:oh,useMemo:Fu,useReducer:Kc,useRef:k0,useState:function(){return Kc(ao)},useDebugValue:ah,useDeferredValue:function(m){var g=Kc(ao),E=g[0],R=g[1];return Du(function(){var D=Yi.transition;Yi.transition={};try{R(m)}finally{Yi.transition=D}},[m]),E},useTransition:function(){var m=Kc(ao)[0],g=Fs().memoizedState;return[m,g]},useMutableSource:qm,useSyncExternalStore:Xm,useId:xl,unstable_isNewReconciler:!1},eg={readContext:Oi,useCallback:lh,useContext:Oi,useEffect:Du,useImperativeHandle:ku,useInsertionEffect:Un,useLayoutEffect:oh,useMemo:Fu,useReducer:Yc,useRef:k0,useState:function(){return Yc(ao)},useDebugValue:ah,useDeferredValue:function(m){var g=Yc(ao),E=g[0],R=g[1];return Du(function(){var D=Yi.transition;Yi.transition={};try{R(m)}finally{Yi.transition=D}},[m]),E},useTransition:function(){var m=Yc(ao)[0],g=Fs().memoizedState;return[m,g]},useMutableSource:qm,useSyncExternalStore:Xm,useId:xl,unstable_isNewReconciler:!1};function tg(m,g){try{var E="",R=g;do E+=Fm(R),R=R.return;while(R);var D=E}catch(z){D=`
Error generating stack: `+z.message+`
`+z.stack}return{value:m,source:g,stack:D}}function ch(m,g){try{console.error(g.value)}catch(E){setTimeout(function(){throw E})}}var t1=typeof WeakMap=="function"?WeakMap:Map;function B0(m,g,E){E=ko(-1,E),E.tag=3,E.payload={element:null};var R=g.value;return E.callback=function(){Wu||(Wu=!0,Wn=R),ch(m,g)},E}function fh(m,g,E){E=ko(-1,E),E.tag=3;var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var D=g.value;E.payload=function(){return R(D)},E.callback=function(){ch(m,g)}}var z=m.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(E.callback=function(){ch(m,g),typeof R!="function"&&(js===null?js=new Set([this]):js.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})}),E}function zo(m,g,E){var R=m.pingCache;if(R===null){R=m.pingCache=new t1;var D=new Set;R.set(g,D)}else D=R.get(g),D===void 0&&(D=new Set,R.set(g,D));D.has(E)||(D.add(E),m=xg.bind(null,m,g,E),g.then(m,m))}function ng(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function _l(m,g,E,R,D){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(g=ko(-1,1),g.tag=2,Ta(E,g))),E.lanes|=1),m):(m.flags|=65536,m.lanes=D,m)}function Er(m){m.flags|=4}function Bu(m,g){if(m!==null&&m.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(m=g.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var Zi,bl,dh,hh;if(se)Zi=function(m,g){for(var E=g.child;E!==null;){if(E.tag===5||E.tag===6)ne(m,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},bl=function(){},dh=function(m,g,E,R,D){if(m=m.memoizedProps,m!==R){var z=g.stateNode,re=Ds(Ni.current);E=ue(z,E,m,R,D,re),(g.updateQueue=E)&&Er(g)}},hh=function(m,g,E,R){E!==R&&Er(g)};else if(ae){Zi=function(m,g,E,R){for(var D=g.child;D!==null;){if(D.tag===5){var z=D.stateNode;E&&R&&(z=di(z,D.type,D.memoizedProps,D)),ne(m,z)}else if(D.tag===6)z=D.stateNode,E&&R&&(z=Ci(z,D.memoizedProps,D)),ne(m,z);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)z=D.child,z!==null&&(z.return=D),Zi(m,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var Na=function(m,g,E,R){for(var D=g.child;D!==null;){if(D.tag===5){var z=D.stateNode;E&&R&&(z=di(z,D.type,D.memoizedProps,D)),Vn(m,z)}else if(D.tag===6)z=D.stateNode,E&&R&&(z=Ci(z,D.memoizedProps,D)),Vn(m,z);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)z=D.child,z!==null&&(z.return=D),Na(m,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};bl=function(m,g){var E=g.stateNode;if(!Bu(m,g)){m=E.containerInfo;var R=on(m);Na(R,g,!1,!1),E.pendingChildren=R,Er(g),lr(m,R)}},dh=function(m,g,E,R,D){var z=m.stateNode,re=m.memoizedProps;if((m=Bu(m,g))&&re===R)g.stateNode=z;else{var he=g.stateNode,Oe=Ds(Ni.current),Ke=null;re!==R&&(Ke=ue(he,E,re,R,D,Oe)),m&&Ke===null?g.stateNode=z:(z=Lt(z,Ke,E,re,R,g,m,he),ye(z,E,R,D,Oe)&&Er(g),g.stateNode=z,m?Er(g):Zi(z,g,!1,!1))}},hh=function(m,g,E,R){E!==R?(m=Ds(ml.current),E=Ds(Ni.current),g.stateNode=Re(R,m,E,g),Er(g)):g.stateNode=m.stateNode}}else bl=function(){},dh=function(){},hh=function(){};function Vo(m,g){if(!$n)switch(m.tailMode){case"hidden":g=m.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?m.tail=null:E.sibling=null;break;case"collapsed":E=m.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function cr(m){var g=m.alternate!==null&&m.alternate.child===m.child,E=0,R=0;if(g)for(var D=m.child;D!==null;)E|=D.lanes|D.childLanes,R|=D.subtreeFlags&14680064,R|=D.flags&14680064,D.return=m,D=D.sibling;else for(D=m.child;D!==null;)E|=D.lanes|D.childLanes,R|=D.subtreeFlags,R|=D.flags,D.return=m,D=D.sibling;return m.subtreeFlags|=R,m.childLanes=E,g}function ph(m,g,E){var R=g.pendingProps;switch(Hm(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(g),null;case 1:return rn(g.type)&&jr(),cr(g),null;case 3:return R=g.stateNode,Iu(),Ye(Sr),Ye(Fn),gl(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(m===null||m.child===null)&&($c(g)?Er(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,bs!==null&&(mf(bs),bs=null))),bl(m,g),cr(g),null;case 5:$m(g),E=Ds(ml.current);var D=g.type;if(m!==null&&g.stateNode!=null)dh(m,g,D,R,E),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(o(166));return cr(g),null}if(m=Ds(Ni.current),$c(g)){if(!Me)throw Error(o(175));m=Im(g.stateNode,g.type,g.memoizedProps,E,m,g,!Pu),g.updateQueue=m,m!==null&&Er(g)}else{var z=G(D,R,E,m,g);Zi(z,g,!1,!1),g.stateNode=z,ye(z,D,R,E,m)&&Er(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return cr(g),null;case 6:if(m&&g.stateNode!=null)hh(m,g,m.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(o(166));if(m=Ds(ml.current),E=Ds(Ni.current),$c(g)){if(!Me)throw Error(o(176));if(m=g.stateNode,R=g.memoizedProps,(E=No(m,R,g,!Pu))&&(D=yi,D!==null))switch(z=(D.mode&1)!==0,D.tag){case 3:gt(D.stateNode.containerInfo,m,R,z);break;case 5:_t(D.type,D.memoizedProps,D.stateNode,m,R,z)}E&&Er(g)}else g.stateNode=Re(R,m,E,g)}return cr(g),null;case 13:if(Ye(Yn),R=g.memoizedState,$n&&zr!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(m=zr;m;)m=$i(m);return Cu(),g.flags|=98560,g}if(R!==null&&R.dehydrated!==null){if(R=$c(g),m===null){if(!R)throw Error(o(318));if(!Me)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Y(m,g)}else Cu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return cr(g),null}return bs!==null&&(mf(bs),bs=null),(g.flags&128)!==0?(g.lanes=E,g):(R=R!==null,E=!1,m===null?$c(g):E=m.memoizedState!==null,R&&!E&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(Yn.current&1)!==0?ir===0&&(ir=3):bh())),g.updateQueue!==null&&(g.flags|=4),cr(g),null);case 4:return Iu(),bl(m,g),m===null&&De(g.stateNode.containerInfo),cr(g),null;case 10:return Gc(g.type._context),cr(g),null;case 17:return rn(g.type)&&jr(),cr(g),null;case 19:if(Ye(Yn),D=g.memoizedState,D===null)return cr(g),null;if(R=(g.flags&128)!==0,z=D.rendering,z===null)if(R)Vo(D,!1);else{if(ir!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(z=eh(m),z!==null){for(g.flags|=128,Vo(D,!1),m=z.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=E,R=g.child;R!==null;)E=R,D=m,E.flags&=14680066,z=E.alternate,z===null?(E.childLanes=0,E.lanes=D,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=z.childLanes,E.lanes=z.lanes,E.child=z.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=z.memoizedProps,E.memoizedState=z.memoizedState,E.updateQueue=z.updateQueue,E.type=z.type,D=z.dependencies,E.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),R=R.sibling;return Vt(Yn,Yn.current&1|2),g.child}m=m.sibling}D.tail!==null&&Mr()>Da&&(g.flags|=128,R=!0,Vo(D,!1),g.lanes=4194304)}else{if(!R)if(m=eh(z),m!==null){if(g.flags|=128,R=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),Vo(D,!0),D.tail===null&&D.tailMode==="hidden"&&!z.alternate&&!$n)return cr(g),null}else 2*Mr()-D.renderingStartTime>Da&&E!==1073741824&&(g.flags|=128,R=!0,Vo(D,!1),g.lanes=4194304);D.isBackwards?(z.sibling=g.child,g.child=z):(m=D.last,m!==null?m.sibling=z:g.child=z,D.last=z)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=Mr(),g.sibling=null,m=Yn.current,Vt(Yn,R?m&1|2:m&1),g):(cr(g),null);case 22:case 23:return gf(),R=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==R&&(g.flags|=8192),R&&(g.mode&1)!==0?(ti&1073741824)!==0&&(cr(g),se&&g.subtreeFlags&6&&(g.flags|=8192)):cr(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var rg=a.ReactCurrentOwner,Nr=!1;function rr(m,g,E,R){g.child=m===null?L0(g,null,E,R):Bo(g,m.child,E,R)}function Bn(m,g,E,R,D){E=E.render;var z=g.ref;return Eu(g,D),R=Lu(m,g,E,R,z,D),E=Ra(),m!==null&&!Nr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~D,Ii(m,g,D)):($n&&E&&Vm(g),g.flags|=1,rr(m,g,R,D),g.child)}function Nn(m,g,E,R,D){if(m===null){var z=E.type;return typeof z=="function"&&!Sh(z)&&z.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(g.tag=15,g.type=z,Ho(m,g,z,R,D)):(m=Mh(E.type,null,R,g,g.mode,D),m.ref=g.ref,m.return=g,g.child=m)}if(z=m.child,(m.lanes&D)===0){var re=z.memoizedProps;if(E=E.compare,E=E!==null?E:Ls,E(re,R)&&m.ref===g.ref)return Ii(m,g,D)}return g.flags|=1,m=Qo(z,R),m.ref=g.ref,m.return=g,g.child=m}function Ho(m,g,E,R,D){if(m!==null&&Ls(m.memoizedProps,R)&&m.ref===g.ref)if(Nr=!1,(m.lanes&D)!==0)(m.flags&131072)!==0&&(Nr=!0);else return g.lanes=m.lanes,Ii(m,g,D);return Wo(m,g,E,R,D)}function Vr(m,g,E){var R=g.pendingProps,D=R.children,z=m!==null?m.memoizedState:null;if(R.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},Vt(Rl,ti),ti|=E;else if((E&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},R=z!==null?z.baseLanes:E,Vt(Rl,ti),ti|=R;else return m=z!==null?z.baseLanes|E:E,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Vt(Rl,ti),ti|=m,null;else z!==null?(R=z.baseLanes|E,g.memoizedState=null):R=E,Vt(Rl,ti),ti|=R;return rr(m,g,D,E),g.child}function xi(m,g){var E=g.ref;(m===null&&E!==null||m!==null&&m.ref!==E)&&(g.flags|=512,g.flags|=2097152)}function Wo(m,g,E,R,D){var z=rn(E)?hi:Fn.current;return z=qi(g,z),Eu(g,D),E=Lu(m,g,E,R,z,D),R=Ra(),m!==null&&!Nr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~D,Ii(m,g,D)):($n&&R&&Vm(g),g.flags|=1,rr(m,g,E,D),g.child)}function wl(m,g,E,R,D){if(rn(E)){var z=!0;Ma(g)}else z=!1;if(Eu(g,D),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),C0(g,E,R),zm(g,E,R,D),R=!0;else if(m===null){var re=g.stateNode,he=g.memoizedProps;re.props=he;var Oe=re.context,Ke=E.contextType;typeof Ke=="object"&&Ke!==null?Ke=Oi(Ke):(Ke=rn(E)?hi:Fn.current,Ke=qi(g,Ke));var pt=E.getDerivedStateFromProps,jt=typeof pt=="function"||typeof re.getSnapshotBeforeUpdate=="function";jt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==R||Oe!==Ke)&&R0(g,re,R,Ke),xs=!1;var Ct=g.memoizedState;re.state=Ct,qd(g,R,re,D),Oe=g.memoizedState,he!==R||Ct!==Oe||Sr.current||xs?(typeof pt=="function"&&(Bm(g,E,pt,R),Oe=g.memoizedState),(he=xs||jm(g,E,he,R,Ct,Oe,Ke))?(jt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=Oe),re.props=R,re.state=Oe,re.context=Ke,R=he):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{re=g.stateNode,Um(m,g),he=g.memoizedProps,Ke=g.type===g.elementType?he:Ri(g.type,he),re.props=Ke,jt=g.pendingProps,Ct=re.context,Oe=E.contextType,typeof Oe=="object"&&Oe!==null?Oe=Oi(Oe):(Oe=rn(E)?hi:Fn.current,Oe=qi(g,Oe));var qt=E.getDerivedStateFromProps;(pt=typeof qt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==jt||Ct!==Oe)&&R0(g,re,R,Oe),xs=!1,Ct=g.memoizedState,re.state=Ct,qd(g,R,re,D);var ct=g.memoizedState;he!==jt||Ct!==ct||Sr.current||xs?(typeof qt=="function"&&(Bm(g,E,qt,R),ct=g.memoizedState),(Ke=xs||jm(g,E,Ke,R,Ct,ct,Oe)||!1)?(pt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(R,ct,Oe),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(R,ct,Oe)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||he===m.memoizedProps&&Ct===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===m.memoizedProps&&Ct===m.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=ct),re.props=R,re.state=ct,re.context=Oe,R=Ke):(typeof re.componentDidUpdate!="function"||he===m.memoizedProps&&Ct===m.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===m.memoizedProps&&Ct===m.memoizedState||(g.flags|=1024),R=!1)}return ei(m,g,E,R,z,D)}function ei(m,g,E,R,D,z){xi(m,g);var re=(g.flags&128)!==0;if(!R&&!re)return D&&bu(g,E,!1),Ii(m,g,z);R=g.stateNode,rg.current=g;var he=re&&typeof E.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,m!==null&&re?(g.child=Bo(g,m.child,null,z),g.child=Bo(g,null,he,z)):rr(m,g,he,z),g.memoizedState=R.state,D&&bu(g,E,!0),g.child}function nf(m){var g=m.stateNode;g.pendingContext?Io(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Io(m,g.context,!1),Jd(m,g.containerInfo)}function ig(m,g,E,R,D){return Cu(),Qd(D),g.flags|=256,rr(m,g,E,R),g.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function Sl(m){return{baseLanes:m,cachePool:null}}function sg(m,g,E){var R=g.pendingProps,D=Yn.current,z=!1,re=(g.flags&128)!==0,he;if((he=re)||(he=m!==null&&m.memoizedState===null?!1:(D&2)!==0),he?(z=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(D|=1),Vt(Yn,D&1),m===null)return Pa(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:ms(m)?g.lanes=8:g.lanes=1073741824,null):(D=R.children,m=R.fallback,z?(R=g.mode,z=g.child,D={mode:"hidden",children:D},(R&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=D):z=xf(D,R,0,null),m=Dl(m,R,E,null),z.return=g,m.return=g,z.sibling=m,g.child=z,g.child.memoizedState=Sl(E),g.memoizedState=rf,m):Us(g,D));if(D=m.memoizedState,D!==null){if(he=D.dehydrated,he!==null){if(re)return g.flags&256?(g.flags&=-257,of(m,g,E,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(z=R.fallback,D=g.mode,R=xf({mode:"visible",children:R.children},D,0,null),z=Dl(z,D,E,null),z.flags|=2,R.return=g,z.return=g,R.sibling=z,g.child=R,(g.mode&1)!==0&&Bo(g,m.child,null,E),g.child.memoizedState=Sl(E),g.memoizedState=rf,z);if((g.mode&1)===0)g=of(m,g,E,null);else if(ms(he))g=of(m,g,E,Error(o(419)));else if(R=(E&m.childLanes)!==0,Nr||R){if(R=fr,R!==null){switch(E&-E){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}R=(z&(R.suspendedLanes|E))!==0?0:z,R!==0&&R!==D.retryLane&&(D.retryLane=R,ni(m,R,-1))}bh(),g=of(m,g,E,Error(o(421)))}else Uc(he)?(g.flags|=128,g.child=m.child,g=W0.bind(null,m),sl(he,g),g=null):(E=D.treeContext,Me&&(zr=Nm(he),yi=g,$n=!0,bs=null,Pu=!1,E!==null&&(_s[Xi++]=Fo,_s[Xi++]=Uo,_s[Xi++]=dl,Fo=E.id,Uo=E.overflow,dl=g)),g=Us(g,g.pendingProps.children),g.flags|=4096);return g}return z?(R=mh(m,g,R.children,R.fallback,E),z=g.child,D=m.child.memoizedState,z.memoizedState=D===null?Sl(E):{baseLanes:D.baseLanes|E,cachePool:null},z.childLanes=m.childLanes&~E,g.memoizedState=rf,R):(E=sf(m,g,R.children,E),g.memoizedState=null,E)}return z?(R=mh(m,g,R.children,R.fallback,E),z=g.child,D=m.child.memoizedState,z.memoizedState=D===null?Sl(E):{baseLanes:D.baseLanes|E,cachePool:null},z.childLanes=m.childLanes&~E,g.memoizedState=rf,R):(E=sf(m,g,R.children,E),g.memoizedState=null,E)}function Us(m,g){return g=xf({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function sf(m,g,E,R){var D=m.child;return m=D.sibling,E=Qo(D,{mode:"visible",children:E}),(g.mode&1)===0&&(E.lanes=R),E.return=g,E.sibling=null,m!==null&&(R=g.deletions,R===null?(g.deletions=[m],g.flags|=16):R.push(m)),g.child=E}function mh(m,g,E,R,D){var z=g.mode;m=m.child;var re=m.sibling,he={mode:"hidden",children:E};return(z&1)===0&&g.child!==m?(E=g.child,E.childLanes=0,E.pendingProps=he,g.deletions=null):(E=Qo(m,he),E.subtreeFlags=m.subtreeFlags&14680064),re!==null?R=Qo(re,R):(R=Dl(R,z,D,null),R.flags|=2),R.return=g,E.return=g,E.sibling=R,g.child=E,R}function of(m,g,E,R){return R!==null&&Qd(R),Bo(g,m.child,null,E),m=Us(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function j0(m,g,E){m.lanes|=g;var R=m.alternate;R!==null&&(R.lanes|=g),fl(m.return,g,E)}function lo(m,g,E,R,D){var z=m.memoizedState;z===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:D}:(z.isBackwards=g,z.rendering=null,z.renderingStartTime=0,z.last=R,z.tail=E,z.tailMode=D)}function Ml(m,g,E){var R=g.pendingProps,D=R.revealOrder,z=R.tail;if(rr(m,g,R.children,E),R=Yn.current,(R&2)!==0)R=R&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&j0(m,E,g);else if(m.tag===19)j0(m,E,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}R&=1}if(Vt(Yn,R),(g.mode&1)===0)g.memoizedState=null;else switch(D){case"forwards":for(E=g.child,D=null;E!==null;)m=E.alternate,m!==null&&eh(m)===null&&(D=E),E=E.sibling;E=D,E===null?(D=g.child,g.child=null):(D=E.sibling,E.sibling=null),lo(g,!1,D,E,z);break;case"backwards":for(E=null,D=g.child,g.child=null;D!==null;){if(m=D.alternate,m!==null&&eh(m)===null){g.child=D;break}m=D.sibling,D.sibling=E,E=D,D=m}lo(g,!0,E,null,z);break;case"together":lo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Ii(m,g,E){if(m!==null&&(g.dependencies=m.dependencies),uo|=g.lanes,(E&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,E=Qo(m,m.pendingProps),g.child=E,E.return=g;m.sibling!==null;)m=m.sibling,E=E.sibling=Qo(m,m.pendingProps),E.return=g;E.sibling=null}return g.child}function gh(m,g,E){switch(g.tag){case 3:nf(g),Cu();break;case 5:D0(g);break;case 1:rn(g.type)&&Ma(g);break;case 4:Jd(g,g.stateNode.containerInfo);break;case 10:cl(g,g.type._context,g.memoizedProps.value);break;case 13:var R=g.memoizedState;if(R!==null)return R.dehydrated!==null?(Vt(Yn,Yn.current&1),g.flags|=128,null):(E&g.child.childLanes)!==0?sg(m,g,E):(Vt(Yn,Yn.current&1),m=Ii(m,g,E),m!==null?m.sibling:null);Vt(Yn,Yn.current&1);break;case 19:if(R=(E&g.childLanes)!==0,(m.flags&128)!==0){if(R)return Ml(m,g,E);g.flags|=128}var D=g.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Vt(Yn,Yn.current),R)break;return null;case 22:case 23:return g.lanes=0,Vr(m,g,E)}return Ii(m,g,E)}function vh(m,g){switch(Hm(g),g.tag){case 1:return rn(g.type)&&jr(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Iu(),Ye(Sr),Ye(Fn),gl(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return $m(g),null;case 13:if(Ye(Yn),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Cu()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Ye(Yn),null;case 4:return Iu(),null;case 10:return Gc(g.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var _i=!1,Ir=!1,El=typeof WeakSet=="function"?WeakSet:Set,tt=null;function ws(m,g){var E=m.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(R){wi(m,g,R)}else E.current=null}function Go(m,g,E){try{E()}catch(R){wi(m,g,R)}}var og=!1;function ag(m,g){for(K(m.containerInfo),tt=g;tt!==null;)if(m=tt,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,tt=g;else for(;tt!==null;){m=tt;try{var E=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var R=E.memoizedProps,D=E.memoizedState,z=m.stateNode,re=z.getSnapshotBeforeUpdate(m.elementType===m.type?R:Ri(m.type,R),D);z.__reactInternalSnapshotBeforeUpdate=re}break;case 3:se&&Xe(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){wi(m,m.return,he)}if(g=m.sibling,g!==null){g.return=m.return,tt=g;break}tt=m.return}return E=og,og=!1,E}function $o(m,g,E){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var D=R=R.next;do{if((D.tag&m)===m){var z=D.destroy;D.destroy=void 0,z!==void 0&&Go(g,E,z)}D=D.next}while(D!==R)}}function Hr(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&m)===m){var R=E.create;E.destroy=R()}E=E.next}while(E!==g)}}function bi(m){var g=m.ref;if(g!==null){var E=m.stateNode;m.tag===5?m=Z(E):m=E,typeof g=="function"?g(m):g.current=m}}function Hn(m,g,E){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(zc,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var R=m=m.next;do{var D=R,z=D.destroy;D=D.tag,z!==void 0&&((D&2)!==0||(D&4)!==0)&&Go(g,E,z),R=R.next}while(R!==m)}break;case 1:if(ws(g,E),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(re){wi(g,E,re)}break;case 5:ws(g,E);break;case 4:se?cg(m,g,E):ae&&ae&&(g=g.stateNode.containerInfo,E=on(g),hn(g,E))}}function Ss(m,g,E){for(var R=g;;)if(Hn(m,R,E),R.child===null||se&&R.tag===4){if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function lg(m){var g=m.alternate;g!==null&&(m.alternate=null,lg(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Ze(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function ug(m){return m.tag===5||m.tag===3||m.tag===4}function yh(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||ug(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function xh(m){if(se){e:{for(var g=m.return;g!==null;){if(ug(g))break e;g=g.return}throw Error(o(160))}var E=g;switch(E.tag){case 5:g=E.stateNode,E.flags&32&&(Dn(g),E.flags&=-33),E=yh(m),ju(m,E,g);break;case 3:case 4:g=E.stateNode.containerInfo,E=yh(m),_h(m,E,g);break;default:throw Error(o(161))}}}function _h(m,g,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,g?ot(E,m,g):Bt(E,m);else if(R!==4&&(m=m.child,m!==null))for(_h(m,g,E),m=m.sibling;m!==null;)_h(m,g,E),m=m.sibling}function ju(m,g,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,g?It(E,m,g):rt(E,m);else if(R!==4&&(m=m.child,m!==null))for(ju(m,g,E),m=m.sibling;m!==null;)ju(m,g,E),m=m.sibling}function cg(m,g,E){for(var R=g,D=!1,z,re;;){if(!D){D=R.return;e:for(;;){if(D===null)throw Error(o(160));switch(z=D.stateNode,D.tag){case 5:re=!1;break e;case 3:z=z.containerInfo,re=!0;break e;case 4:z=z.containerInfo,re=!0;break e}D=D.return}D=!0}if(R.tag===5||R.tag===6)Ss(m,R,E),re?Yt(z,R.stateNode):Wt(z,R.stateNode);else if(R.tag===18)re?Je(z,R.stateNode):ge(z,R.stateNode);else if(R.tag===4){if(R.child!==null){z=R.stateNode.containerInfo,re=!0,R.child.return=R,R=R.child;continue}}else if(Hn(m,R,E),R.child!==null){R.child.return=R,R=R.child;continue}if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return,R.tag===4&&(D=!1)}R.sibling.return=R.return,R=R.sibling}}function Ia(m,g){if(se){switch(g.tag){case 0:case 11:case 14:case 15:$o(3,g,g.return),Hr(3,g),$o(5,g,g.return);return;case 1:return;case 5:var E=g.stateNode;if(E!=null){var R=g.memoizedProps;m=m!==null?m.memoizedProps:R;var D=g.type,z=g.updateQueue;g.updateQueue=null,z!==null&&tn(E,z,D,m,R,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));E=g.memoizedProps,$e(g.stateNode,m!==null?m.memoizedProps:E,E);return;case 3:Me&&m!==null&&m.memoizedState.isDehydrated&&Se(g.stateNode.containerInfo);return;case 12:return;case 13:zu(g);return;case 19:zu(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:$o(3,g,g.return),Hr(3,g),$o(5,g,g.return);return;case 12:return;case 13:zu(g);return;case 19:zu(g);return;case 3:Me&&m!==null&&m.memoizedState.isDehydrated&&Se(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(ae){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,hn(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function zu(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var E=m.stateNode;E===null&&(E=m.stateNode=new El),g.forEach(function(R){var D=G0.bind(null,m,R);E.has(R)||(E.add(R),R.then(D,D))})}}function n1(m,g){for(tt=g;tt!==null;){g=tt;var E=g.deletions;if(E!==null)for(var R=0;R<E.length;R++){var D=E[R];try{var z=m;se?cg(z,D,g):Ss(z,D,g);var re=D.alternate;re!==null&&(re.return=null),D.return=null}catch(wt){wi(D,g,wt)}}if(E=g.child,(g.subtreeFlags&12854)!==0&&E!==null)E.return=g,tt=E;else for(;tt!==null;){g=tt;try{var he=g.flags;if(he&32&&se&&Dn(g.stateNode),he&512){var Oe=g.alternate;if(Oe!==null){var Ke=Oe.ref;Ke!==null&&(typeof Ke=="function"?Ke(null):Ke.current=null)}}if(he&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var pt=g.alternate;(pt===null||pt.memoizedState===null)&&(hf=Mr())}break;case 22:var jt=g.memoizedState!==null,Ct=g.alternate,qt=Ct!==null&&Ct.memoizedState!==null;if(E=g,se){e:if(R=E,D=jt,z=null,se)for(var ct=R;;){if(ct.tag===5){if(z===null){z=ct;var $r=ct.stateNode;D?ce($r):Le(ct.stateNode,ct.memoizedProps)}}else if(ct.tag===6){if(z===null){var ns=ct.stateNode;D?at(ns):Ue(ns,ct.memoizedProps)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===R)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===R)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===R)break e;z===ct&&(z=null),ct=ct.return}z===ct&&(z=null),ct.sibling.return=ct.return,ct=ct.sibling}}if(jt&&!qt&&(E.mode&1)!==0){tt=E;for(var we=E.child;we!==null;){for(E=tt=we;tt!==null;){R=tt;var me=R.child;switch(R.tag){case 0:case 11:case 14:case 15:$o(4,R,R.return);break;case 1:ws(R,R.return);var Pe=R.stateNode;if(typeof Pe.componentWillUnmount=="function"){var it=R.return;try{Pe.props=R.memoizedProps,Pe.state=R.memoizedState,Pe.componentWillUnmount()}catch(wt){wi(R,it,wt)}}break;case 5:ws(R,R.return);break;case 22:if(R.memoizedState!==null){dg(E);continue}}me!==null?(me.return=R,tt=me):dg(E)}we=we.sibling}}}switch(he&4102){case 2:xh(g),g.flags&=-3;break;case 6:xh(g),g.flags&=-3,Ia(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Ia(g.alternate,g);break;case 4:Ia(g.alternate,g)}}catch(wt){wi(g,g.return,wt)}if(E=g.sibling,E!==null){E.return=g.return,tt=E;break}tt=g.return}}}function af(m,g,E){tt=m,lf(m)}function lf(m,g,E){for(var R=(m.mode&1)!==0;tt!==null;){var D=tt,z=D.child;if(D.tag===22&&R){var re=D.memoizedState!==null||_i;if(!re){var he=D.alternate,Oe=he!==null&&he.memoizedState!==null||Ir;he=_i;var Ke=Ir;if(_i=re,(Ir=Oe)&&!Ke)for(tt=D;tt!==null;)re=tt,Oe=re.child,re.tag===22&&re.memoizedState!==null?Tl(D):Oe!==null?(Oe.return=re,tt=Oe):Tl(D);for(;z!==null;)tt=z,lf(z),z=z.sibling;tt=D,_i=he,Ir=Ke}fg(m)}else(D.subtreeFlags&8772)!==0&&z!==null?(z.return=D,tt=z):fg(m)}}function fg(m){for(;tt!==null;){var g=tt;if((g.flags&8772)!==0){var E=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ir||Hr(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!Ir)if(E===null)R.componentDidMount();else{var D=g.elementType===g.type?E.memoizedProps:Ri(g.type,E.memoizedProps);R.componentDidUpdate(D,E.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var z=g.updateQueue;z!==null&&A0(g,z,R);break;case 3:var re=g.updateQueue;if(re!==null){if(E=null,g.child!==null)switch(g.child.tag){case 5:E=Z(g.child.stateNode);break;case 1:E=g.child.stateNode}A0(g,re,E)}break;case 5:var he=g.stateNode;E===null&&g.flags&4&&mt(he,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&g.memoizedState===null){var Oe=g.alternate;if(Oe!==null){var Ke=Oe.memoizedState;if(Ke!==null){var pt=Ke.dehydrated;pt!==null&&Ee(pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ir||g.flags&512&&bi(g)}catch(jt){wi(g,g.return,jt)}}if(g===m){tt=null;break}if(E=g.sibling,E!==null){E.return=g.return,tt=E;break}tt=g.return}}function dg(m){for(;tt!==null;){var g=tt;if(g===m){tt=null;break}var E=g.sibling;if(E!==null){E.return=g.return,tt=E;break}tt=g.return}}function Tl(m){for(;tt!==null;){var g=tt;try{switch(g.tag){case 0:case 11:case 15:var E=g.return;try{Hr(4,g)}catch(Oe){wi(g,E,Oe)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var D=g.return;try{R.componentDidMount()}catch(Oe){wi(g,D,Oe)}}var z=g.return;try{bi(g)}catch(Oe){wi(g,z,Oe)}break;case 5:var re=g.return;try{bi(g)}catch(Oe){wi(g,re,Oe)}}}catch(Oe){wi(g,g.return,Oe)}if(g===m){tt=null;break}var he=g.sibling;if(he!==null){he.return=g.return,tt=he;break}tt=g.return}}var uf=0,Al=1,Pl=2,qo=3,Vu=4;if(typeof Symbol=="function"&&Symbol.for){var Cl=Symbol.for;uf=Cl("selector.component"),Al=Cl("selector.has_pseudo_class"),Pl=Cl("selector.role"),qo=Cl("selector.test_id"),Vu=Cl("selector.text")}function cf(m){var g=Ne(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=$(m),m===null)throw Error(o(362));return m.stateNode.current}function ff(m,g){switch(g.$$typeof){case uf:if(m.type===g.value)return!0;break;case Al:e:{g=g.value,m=[m,0];for(var E=0;E<m.length;){var R=m[E++],D=m[E++],z=g[D];if(R.tag!==5||!Fe(R)){for(;z!=null&&ff(R,z);)D++,z=g[D];if(D===g.length){g=!0;break e}else for(R=R.child;R!==null;)m.push(R,D),R=R.sibling}}g=!1}return g;case Pl:if(m.tag===5&&Ve(m.stateNode,g.value))return!0;break;case Vu:if((m.tag===5||m.tag===6)&&(m=Be(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case qo:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function La(m){switch(m.$$typeof){case uf:return"<"+(I(m.value)||"Unknown")+">";case Al:return":has("+(La(m)||"")+")";case Pl:return'[role="'+m.value+'"]';case Vu:return'"'+m.value+'"';case qo:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function Qi(m,g){var E=[];m=[m,0];for(var R=0;R<m.length;){var D=m[R++],z=m[R++],re=g[z];if(D.tag!==5||!Fe(D)){for(;re!=null&&ff(D,re);)z++,re=g[z];if(z===g.length)E.push(D);else for(D=D.child;D!==null;)m.push(D,z),D=D.sibling}}return E}function Xo(m,g){if(!ie)throw Error(o(363));m=cf(m),m=Qi(m,g),g=[],m=Array.from(m);for(var E=0;E<m.length;){var R=m[E++];if(R.tag===5)Fe(R)||g.push(R.stateNode);else for(R=R.child;R!==null;)m.push(R),R=R.sibling}return g}var hg=Math.ceil,df=a.ReactCurrentDispatcher,Bs=a.ReactCurrentOwner,An=a.ReactCurrentBatchConfig,$t=0,fr=null,Pn=null,qn=0,ti=0,Rl=Gt(0),ir=0,Hu=null,uo=0,Ji=0,Ol=0,Ko=null,gr=null,hf=0,Da=1/0;function Nl(){Da=Mr()+500}var Wu=!1,Wn=null,js=null,Gu=!1,co=null,Il=0,Ll=0,Yo=null,jn=-1,sr=0;function mn(){return($t&6)!==0?Mr():jn!==-1?jn:jn=Mr()}function zs(m){return(m.mode&1)===0?1:($t&2)!==0&&qn!==0?qn&-qn:T0.transition!==null?(sr===0&&(m=wu,wu<<=1,(wu&4194240)===0&&(wu=64),sr=m),sr):(m=Zt,m!==0?m:ke())}function ni(m,g,E){if(50<Ll)throw Ll=0,Yo=null,Error(o(185));var R=ka(m,g);return R===null?null:(ol(R,g,E),(($t&2)===0||R!==fr)&&(R===fr&&(($t&2)===0&&(Ji|=g),ir===4&&Gr(R,qn)),Li(R,E),g===1&&$t===0&&(m.mode&1)===0&&(Nl(),zd&&vs())),R)}function ka(m,g){m.lanes|=g;var E=m.alternate;for(E!==null&&(E.lanes|=g),E=m,m=m.return;m!==null;)m.childLanes|=g,E=m.alternate,E!==null&&(E.childLanes|=g),E=m,m=m.return;return E.tag===3?E.stateNode:null}function Li(m,g){var E=m.callbackNode;E0(m,g);var R=jc(m,m===fr?qn:0);if(R===0)E!==null&&Mu(E),m.callbackNode=null,m.callbackPriority=0;else if(g=R&-R,m.callbackPriority!==g){if(E!=null&&Mu(E),g===1)m.tag===0?Hd(es.bind(null,m)):Vd(es.bind(null,m)),et?At(function(){$t===0&&vs()}):al(ll,vs),E=null;else{switch(Lo(R)){case 1:E=ll;break;case 4:E=JS;break;case 16:E=Bd;break;case 536870912:E=jd;break;default:E=Bd}E=wh(E,Wr.bind(null,m))}m.callbackPriority=g,m.callbackNode=E}}function Wr(m,g){if(jn=-1,sr=0,($t&6)!==0)throw Error(o(327));var E=m.callbackNode;if(fo()&&m.callbackNode!==E)return null;var R=jc(m,m===fr?qn:0);if(R===0)return null;if((R&30)!==0||(R&m.expiredLanes)!==0||g)g=vf(m,R);else{g=R;var D=$t;$t|=2;var z=gg();(fr!==m||qn!==g)&&(Nl(),Zo(m,g));do try{V0();break}catch(he){mg(m,he)}while(!0);vi(),df.current=z,$t=D,Pn!==null?g=0:(fr=null,qn=0,g=ir)}if(g!==0){if(g===2&&(D=kd(m),D!==0&&(R=D,g=pf(m,D))),g===1)throw E=Hu,Zo(m,0),Gr(m,R),Li(m,Mr()),E;if(g===6)Gr(m,R);else{if(D=m.current.alternate,(R&30)===0&&!pg(D)&&(g=vf(m,R),g===2&&(z=kd(m),z!==0&&(R=z,g=pf(m,z))),g===1))throw E=Hu,Zo(m,0),Gr(m,R),Li(m,Mr()),E;switch(m.finishedWork=D,m.finishedLanes=R,g){case 0:case 1:throw Error(o(345));case 2:Vs(m,gr);break;case 3:if(Gr(m,R),(R&130023424)===R&&(g=hf+500-Mr(),10<g)){if(jc(m,0)!==0)break;if(D=m.suspendedLanes,(D&R)!==R){mn(),m.pingedLanes|=m.suspendedLanes&D;break}m.timeoutHandle=Ce(Vs.bind(null,m,gr),g);break}Vs(m,gr);break;case 4:if(Gr(m,R),(R&4194240)===R)break;for(g=m.eventTimes,D=-1;0<R;){var re=31-mi(R);z=1<<re,re=g[re],re>D&&(D=re),R&=~z}if(R=D,R=Mr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*hg(R/1960))-R,10<R){m.timeoutHandle=Ce(Vs.bind(null,m,gr),R);break}Vs(m,gr);break;case 5:Vs(m,gr);break;default:throw Error(o(329))}}}return Li(m,Mr()),m.callbackNode===E?Wr.bind(null,m):null}function pf(m,g){var E=Ko;return m.current.memoizedState.isDehydrated&&(Zo(m,g).flags|=256),m=vf(m,g),m!==2&&(g=gr,gr=E,g!==null&&mf(g)),m}function mf(m){gr===null?gr=m:gr.push.apply(gr,m)}function pg(m){for(var g=m;;){if(g.flags&16384){var E=g.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var R=0;R<E.length;R++){var D=E[R],z=D.getSnapshot;D=D.value;try{if(!gi(z(),D))return!1}catch{return!1}}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Gr(m,g){for(g&=~Ol,g&=~Ji,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var E=31-mi(g),R=1<<E;m[E]=-1,g&=~R}}function es(m){if(($t&6)!==0)throw Error(o(327));fo();var g=jc(m,0);if((g&1)===0)return Li(m,Mr()),null;var E=vf(m,g);if(m.tag!==0&&E===2){var R=kd(m);R!==0&&(g=R,E=pf(m,R))}if(E===1)throw E=Hu,Zo(m,0),Gr(m,g),Li(m,Mr()),E;if(E===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Vs(m,gr),Li(m,Mr()),null}function $u(m){co!==null&&co.tag===0&&($t&6)===0&&fo();var g=$t;$t|=1;var E=An.transition,R=Zt;try{if(An.transition=null,Zt=1,m)return m()}finally{Zt=R,An.transition=E,$t=g,($t&6)===0&&vs()}}function gf(){ti=Rl.current,Ye(Rl)}function Zo(m,g){m.finishedWork=null,m.finishedLanes=0;var E=m.timeoutHandle;if(E!==Ae&&(m.timeoutHandle=Ae,qe(E)),Pn!==null)for(E=Pn.return;E!==null;){var R=E;switch(Hm(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&jr();break;case 3:Iu(),Ye(Sr),Ye(Fn),gl();break;case 5:$m(R);break;case 4:Iu();break;case 13:Ye(Yn);break;case 19:Ye(Yn);break;case 10:Gc(R.type._context);break;case 22:case 23:gf()}E=E.return}if(fr=m,Pn=m=Qo(m.current,null),qn=ti=g,ir=0,Hu=null,Ol=Ji=uo=0,gr=Ko=null,ys!==null){for(g=0;g<ys.length;g++)if(E=ys[g],R=E.interleaved,R!==null){E.interleaved=null;var D=R.next,z=E.pending;if(z!==null){var re=z.next;z.next=D,R.next=re}E.pending=R}ys=null}return m}function mg(m,g){do{var E=Pn;try{if(vi(),qc.current=Uu,th){for(var R=Zn.memoizedState;R!==null;){var D=R.queue;D!==null&&(D.pending=null),R=R.next}th=!1}if(vl=0,Rr=Cr=Zn=null,oo=!1,yl=0,Bs.current=null,E===null||E.return===null){ir=1,Hu=g,Pn=null;break}e:{var z=m,re=E.return,he=E,Oe=g;if(g=qn,he.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Ke=Oe,pt=he,jt=pt.tag;if((pt.mode&1)===0&&(jt===0||jt===11||jt===15)){var Ct=pt.alternate;Ct?(pt.updateQueue=Ct.updateQueue,pt.memoizedState=Ct.memoizedState,pt.lanes=Ct.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var qt=ng(re);if(qt!==null){qt.flags&=-257,_l(qt,re,he,z,g),qt.mode&1&&zo(z,Ke,g),g=qt,Oe=Ke;var ct=g.updateQueue;if(ct===null){var $r=new Set;$r.add(Oe),g.updateQueue=$r}else ct.add(Oe);break e}else{if((g&1)===0){zo(z,Ke,g),bh();break e}Oe=Error(o(426))}}else if($n&&he.mode&1){var ns=ng(re);if(ns!==null){(ns.flags&65536)===0&&(ns.flags|=256),_l(ns,re,he,z,g),Qd(Oe);break e}}z=Oe,ir!==4&&(ir=2),Ko===null?Ko=[z]:Ko.push(z),Oe=tg(Oe,he),he=re;do{switch(he.tag){case 3:he.flags|=65536,g&=-g,he.lanes|=g;var we=B0(he,Oe,g);$d(he,we);break e;case 1:z=Oe;var me=he.type,Pe=he.stateNode;if((he.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(js===null||!js.has(Pe)))){he.flags|=65536,g&=-g,he.lanes|=g;var it=fh(he,z,g);$d(he,it);break e}}he=he.return}while(he!==null)}yg(E)}catch(wt){g=wt,Pn===E&&E!==null&&(Pn=E=E.return);continue}break}while(!0)}function gg(){var m=df.current;return df.current=Uu,m===null?Uu:m}function bh(){(ir===0||ir===3||ir===2)&&(ir=4),fr===null||(uo&268435455)===0&&(Ji&268435455)===0||Gr(fr,qn)}function vf(m,g){var E=$t;$t|=2;var R=gg();fr===m&&qn===g||Zo(m,g);do try{z0();break}catch(D){mg(m,D)}while(!0);if(vi(),$t=E,df.current=R,Pn!==null)throw Error(o(261));return fr=null,qn=0,ir}function z0(){for(;Pn!==null;)vg(Pn)}function V0(){for(;Pn!==null&&!Ea();)vg(Pn)}function vg(m){var g=bg(m.alternate,m,ti);m.memoizedProps=m.pendingProps,g===null?yg(m):Pn=g,Bs.current=null}function yg(m){var g=m;do{var E=g.alternate;if(m=g.return,(g.flags&32768)===0){if(E=ph(E,g,ti),E!==null){Pn=E;return}}else{if(E=vh(E,g),E!==null){E.flags&=32767,Pn=E;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{ir=6,Pn=null;return}}if(g=g.sibling,g!==null){Pn=g;return}Pn=g=m}while(g!==null);ir===0&&(ir=5)}function Vs(m,g){var E=Zt,R=An.transition;try{An.transition=null,Zt=1,H0(m,g,E)}finally{An.transition=R,Zt=E}return null}function H0(m,g,E){do fo();while(co!==null);if(($t&6)!==0)throw Error(o(327));var R=m.finishedWork,D=m.finishedLanes;if(R===null)return null;if(m.finishedWork=null,m.finishedLanes=0,R===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var z=R.lanes|R.childLanes;if(Ud(m,z),m===fr&&(Pn=fr=null,qn=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||Gu||(Gu=!0,wh(Bd,function(){return fo(),null})),z=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||z){z=An.transition,An.transition=null;var re=Zt;Zt=1;var he=$t;$t|=4,Bs.current=null,ag(m,R),n1(m,R),Q(m.containerInfo),m.current=R,af(R),QS(),$t=he,Zt=re,An.transition=z}else m.current=R;if(Gu&&(Gu=!1,co=m,Il=D),z=m.pendingLanes,z===0&&(js=null),Vc(R.stateNode),Li(m,Mr()),g!==null)for(E=m.onRecoverableError,R=0;R<g.length;R++)E(g[R]);if(Wu)throw Wu=!1,m=Wn,Wn=null,m;return(Il&1)!==0&&m.tag!==0&&fo(),z=m.pendingLanes,(z&1)!==0?m===Yo?Ll++:(Ll=0,Yo=m):Ll=0,vs(),null}function fo(){if(co!==null){var m=Lo(Il),g=An.transition,E=Zt;try{if(An.transition=null,Zt=16>m?16:m,co===null)var R=!1;else{if(m=co,co=null,Il=0,($t&6)!==0)throw Error(o(331));var D=$t;for($t|=4,tt=m.current;tt!==null;){var z=tt,re=z.child;if((tt.flags&16)!==0){var he=z.deletions;if(he!==null){for(var Oe=0;Oe<he.length;Oe++){var Ke=he[Oe];for(tt=Ke;tt!==null;){var pt=tt;switch(pt.tag){case 0:case 11:case 15:$o(8,pt,z)}var jt=pt.child;if(jt!==null)jt.return=pt,tt=jt;else for(;tt!==null;){pt=tt;var Ct=pt.sibling,qt=pt.return;if(lg(pt),pt===Ke){tt=null;break}if(Ct!==null){Ct.return=qt,tt=Ct;break}tt=qt}}}var ct=z.alternate;if(ct!==null){var $r=ct.child;if($r!==null){ct.child=null;do{var ns=$r.sibling;$r.sibling=null,$r=ns}while($r!==null)}}tt=z}}if((z.subtreeFlags&2064)!==0&&re!==null)re.return=z,tt=re;else e:for(;tt!==null;){if(z=tt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:$o(9,z,z.return)}var we=z.sibling;if(we!==null){we.return=z.return,tt=we;break e}tt=z.return}}var me=m.current;for(tt=me;tt!==null;){re=tt;var Pe=re.child;if((re.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=re,tt=Pe;else e:for(re=me;tt!==null;){if(he=tt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Hr(9,he)}}catch(wt){wi(he,he.return,wt)}if(he===re){tt=null;break e}var it=he.sibling;if(it!==null){it.return=he.return,tt=it;break e}tt=he.return}}if($t=D,vs(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(zc,m)}catch{}R=!0}return R}finally{Zt=E,An.transition=g}}return!1}function yf(m,g,E){g=tg(E,g),g=B0(m,g,1),Ta(m,g),g=mn(),m=ka(m,1),m!==null&&(ol(m,1,g),Li(m,g))}function wi(m,g,E){if(m.tag===3)yf(m,m,E);else for(;g!==null;){if(g.tag===3){yf(g,m,E);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(js===null||!js.has(R))){m=tg(E,m),m=fh(g,m,1),Ta(g,m),m=mn(),g=ka(g,1),g!==null&&(ol(g,1,m),Li(g,m));break}}g=g.return}}function xg(m,g,E){var R=m.pingCache;R!==null&&R.delete(g),g=mn(),m.pingedLanes|=m.suspendedLanes&E,fr===m&&(qn&E)===E&&(ir===4||ir===3&&(qn&130023424)===qn&&500>Mr()-hf?Zo(m,0):Ol|=E),Li(m,g)}function _g(m,g){g===0&&((m.mode&1)===0?g=1:(g=pn,pn<<=1,(pn&130023424)===0&&(pn=4194304)));var E=mn();m=ka(m,g),m!==null&&(ol(m,g,E),Li(m,E))}function W0(m){var g=m.memoizedState,E=0;g!==null&&(E=g.retryLane),_g(m,E)}function G0(m,g){var E=0;switch(m.tag){case 13:var R=m.stateNode,D=m.memoizedState;D!==null&&(E=D.retryLane);break;case 19:R=m.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(g),_g(m,E)}var bg;bg=function(m,g,E){if(m!==null)if(m.memoizedProps!==g.pendingProps||Sr.current)Nr=!0;else{if((m.lanes&E)===0&&(g.flags&128)===0)return Nr=!1,gh(m,g,E);Nr=(m.flags&131072)!==0}else Nr=!1,$n&&(g.flags&1048576)!==0&&O0(g,Yd,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var D=qi(g,Fn.current);Eu(g,E),D=Lu(null,g,R,m,D,E);var z=Ra();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,rn(R)?(z=!0,Ma(g)):z=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Tu(g),D.updater=Xd,g.stateNode=D,D._reactInternals=g,zm(g,R,m,E),g=ei(null,g,R,!0,z,E)):(g.tag=0,$n&&z&&Vm(g),rr(null,g,D,E),g=g.child),g;case 16:R=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,D=R._init,R=D(R._payload),g.type=R,D=g.tag=r1(R),m=Ri(R,m),D){case 0:g=Wo(null,g,R,m,E);break e;case 1:g=wl(null,g,R,m,E);break e;case 11:g=Bn(null,g,R,m,E);break e;case 14:g=Nn(null,g,R,Ri(R.type,m),E);break e}throw Error(o(306,R,""))}return g;case 0:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:Ri(R,D),Wo(m,g,R,D,E);case 1:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:Ri(R,D),wl(m,g,R,D,E);case 3:e:{if(nf(g),m===null)throw Error(o(387));R=g.pendingProps,z=g.memoizedState,D=z.element,Um(m,g),qd(g,R,null,E);var re=g.memoizedState;if(R=re.element,Me&&z.isDehydrated)if(z={element:R,isDehydrated:!1,cache:re.cache,transitions:re.transitions},g.updateQueue.baseState=z,g.memoizedState=z,g.flags&256){D=Error(o(423)),g=ig(m,g,R,E,D);break e}else if(R!==D){D=Error(o(424)),g=ig(m,g,R,E,D);break e}else for(Me&&(zr=Dd(g.stateNode.containerInfo),yi=g,$n=!0,bs=null,Pu=!1),E=L0(g,null,R,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Cu(),R===D){g=Ii(m,g,E);break e}rr(m,g,R,E)}g=g.child}return g;case 5:return D0(g),m===null&&Pa(g),R=g.type,D=g.pendingProps,z=m!==null?m.memoizedProps:null,re=D.children,xe(R,D)?re=null:z!==null&&xe(R,z)&&(g.flags|=32),xi(m,g),rr(m,g,re,E),g.child;case 6:return m===null&&Pa(g),null;case 13:return sg(m,g,E);case 4:return Jd(g,g.stateNode.containerInfo),R=g.pendingProps,m===null?g.child=Bo(g,null,R,E):rr(m,g,R,E),g.child;case 11:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:Ri(R,D),Bn(m,g,R,D,E);case 7:return rr(m,g,g.pendingProps,E),g.child;case 8:return rr(m,g,g.pendingProps.children,E),g.child;case 12:return rr(m,g,g.pendingProps.children,E),g.child;case 10:e:{if(R=g.type._context,D=g.pendingProps,z=g.memoizedProps,re=D.value,cl(g,R,re),z!==null)if(gi(z.value,re)){if(z.children===D.children&&!Sr.current){g=Ii(m,g,E);break e}}else for(z=g.child,z!==null&&(z.return=g);z!==null;){var he=z.dependencies;if(he!==null){re=z.child;for(var Oe=he.firstContext;Oe!==null;){if(Oe.context===R){if(z.tag===1){Oe=ko(-1,E&-E),Oe.tag=2;var Ke=z.updateQueue;if(Ke!==null){Ke=Ke.shared;var pt=Ke.pending;pt===null?Oe.next=Oe:(Oe.next=pt.next,pt.next=Oe),Ke.pending=Oe}}z.lanes|=E,Oe=z.alternate,Oe!==null&&(Oe.lanes|=E),fl(z.return,E,g),he.lanes|=E;break}Oe=Oe.next}}else if(z.tag===10)re=z.type===g.type?null:z.child;else if(z.tag===18){if(re=z.return,re===null)throw Error(o(341));re.lanes|=E,he=re.alternate,he!==null&&(he.lanes|=E),fl(re,E,g),re=z.sibling}else re=z.child;if(re!==null)re.return=z;else for(re=z;re!==null;){if(re===g){re=null;break}if(z=re.sibling,z!==null){z.return=re.return,re=z;break}re=re.return}z=re}rr(m,g,D.children,E),g=g.child}return g;case 9:return D=g.type,R=g.pendingProps.children,Eu(g,E),D=Oi(D),R=R(D),g.flags|=1,rr(m,g,R,E),g.child;case 14:return R=g.type,D=Ri(R,g.pendingProps),D=Ri(R.type,D),Nn(m,g,R,D,E);case 15:return Ho(m,g,g.type,g.pendingProps,E);case 17:return R=g.type,D=g.pendingProps,D=g.elementType===R?D:Ri(R,D),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,rn(R)?(m=!0,Ma(g)):m=!1,Eu(g,E),C0(g,R,D),zm(g,R,D,E),ei(null,g,R,!0,m,E);case 19:return Ml(m,g,E);case 22:return Vr(m,g,E)}throw Error(o(156,g.tag))};function wh(m,g){return al(m,g)}function $0(m,g,E,R){this.tag=m,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(m,g,E,R){return new $0(m,g,E,R)}function Sh(m){return m=m.prototype,!(!m||!m.isReactComponent)}function r1(m){if(typeof m=="function")return Sh(m)?1:0;if(m!=null){if(m=m.$$typeof,m===b)return 11;if(m===M)return 14}return 2}function Qo(m,g){var E=m.alternate;return E===null?(E=ts(m.tag,g,m.key,m.mode),E.elementType=m.elementType,E.type=m.type,E.stateNode=m.stateNode,E.alternate=m,m.alternate=E):(E.pendingProps=g,E.type=m.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=m.flags&14680064,E.childLanes=m.childLanes,E.lanes=m.lanes,E.child=m.child,E.memoizedProps=m.memoizedProps,E.memoizedState=m.memoizedState,E.updateQueue=m.updateQueue,g=m.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=m.sibling,E.index=m.index,E.ref=m.ref,E}function Mh(m,g,E,R,D,z){var re=2;if(R=m,typeof m=="function")Sh(m)&&(re=1);else if(typeof m=="string")re=5;else e:switch(m){case f:return Dl(E.children,D,z,g);case d:re=8,D|=8;break;case p:return m=ts(12,E,g,D|2),m.elementType=p,m.lanes=z,m;case y:return m=ts(13,E,g,D),m.elementType=y,m.lanes=z,m;case w:return m=ts(19,E,g,D),m.elementType=w,m.lanes=z,m;case A:return xf(E,D,z,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:re=10;break e;case x:re=9;break e;case b:re=11;break e;case M:re=14;break e;case S:re=16,R=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=ts(re,E,g,D),g.elementType=m,g.type=R,g.lanes=z,g}function Dl(m,g,E,R){return m=ts(7,m,R,g),m.lanes=E,m}function xf(m,g,E,R){return m=ts(22,m,R,g),m.elementType=A,m.lanes=E,m.stateNode={},m}function Eh(m,g,E){return m=ts(6,m,null,g),m.lanes=E,m}function Th(m,g,E){return g=ts(4,m.children!==null?m.children:[],m.key,g),g.lanes=E,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function Ah(m,g,E,R,D){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ae,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=R,this.onRecoverableError=D,Me&&(this.mutableSourceEagerHydrationData=null)}function q0(m,g,E,R,D,z,re,he,Oe){return m=new Ah(m,g,E,he,Oe),g===1?(g=1,z===!0&&(g|=8)):g=0,z=ts(3,null,null,g),m.current=z,z.stateNode=m,z.memoizedState={element:R,isDehydrated:E,cache:null,transitions:null},Tu(z),m}function X0(m){if(!m)return Ft;m=m._reactInternals;e:{if(L(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(rn(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var E=m.type;if(rn(E))return pi(m,E,g)}return g}function K0(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=H(g),m===null?null:m.stateNode}function Ms(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var E=m.retryLane;m.retryLane=E!==0&&E<g?E:g}}function _f(m,g){Ms(m,g),(m=m.alternate)&&Ms(m,g)}function Ph(m){return m=H(m),m===null?null:m.stateNode}function Y0(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=mn();ni(m,134217728,g),_f(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=mn(),E=zs(m);ni(m,E,g),_f(m,E)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var E=Su(g.pendingLanes);E!==0&&(io(g,E|1),Li(g,Mr()),($t&6)===0&&(Nl(),vs()))}break;case 13:var R=mn();$u(function(){return ni(m,1,R)}),_f(m,1)}},n.batchedUpdates=function(m,g){var E=$t;$t|=1;try{return m(g)}finally{$t=E,$t===0&&(Nl(),zd&&vs())}},n.createComponentSelector=function(m){return{$$typeof:uf,value:m}},n.createContainer=function(m,g,E,R,D,z,re){return q0(m,g,!1,null,E,R,D,z,re)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Al,value:m}},n.createHydrationContainer=function(m,g,E,R,D,z,re,he,Oe){return m=q0(E,R,!0,m,D,z,re,he,Oe),m.context=X0(null),E=m.current,R=mn(),D=zs(E),z=ko(R,D),z.callback=g??null,Ta(E,z),m.current.lanes=D,ol(m,D,R),Li(m,R),m},n.createPortal=function(m,g,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:m,containerInfo:g,implementation:E}},n.createRoleSelector=function(m){return{$$typeof:Pl,value:m}},n.createTestNameSelector=function(m){return{$$typeof:qo,value:m}},n.createTextSelector=function(m){return{$$typeof:Vu,value:m}},n.deferredUpdates=function(m){var g=Zt,E=An.transition;try{return An.transition=null,Zt=16,m()}finally{Zt=g,An.transition=E}},n.discreteUpdates=function(m,g,E,R,D){var z=Zt,re=An.transition;try{return An.transition=null,Zt=1,m(g,E,R,D)}finally{Zt=z,An.transition=re,$t===0&&Nl()}},n.findAllNodes=Xo,n.findBoundingRects=function(m,g){if(!ie)throw Error(o(363));g=Xo(m,g),m=[];for(var E=0;E<g.length;E++)m.push(be(g[E]));for(g=m.length-1;0<g;g--){E=m[g];for(var R=E.x,D=R+E.width,z=E.y,re=z+E.height,he=g-1;0<=he;he--)if(g!==he){var Oe=m[he],Ke=Oe.x,pt=Ke+Oe.width,jt=Oe.y,Ct=jt+Oe.height;if(R>=Ke&&z>=jt&&D<=pt&&re<=Ct){m.splice(g,1);break}else if(R!==Ke||E.width!==Oe.width||Ct<z||jt>re){if(!(z!==jt||E.height!==Oe.height||pt<R||Ke>D)){Ke>R&&(Oe.width+=Ke-R,Oe.x=R),pt<D&&(Oe.width=D-Ke),m.splice(g,1);break}}else{jt>z&&(Oe.height+=jt-z,Oe.y=z),Ct<re&&(Oe.height=re-jt),m.splice(g,1);break}}}return m},n.findHostInstance=K0,n.findHostInstanceWithNoPortals=function(m){return m=j(m),m=m!==null?X(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return K0(m)},n.flushControlled=function(m){var g=$t;$t|=1;var E=An.transition,R=Zt;try{An.transition=null,Zt=1,m()}finally{Zt=R,An.transition=E,$t=g,$t===0&&(Nl(),vs())}},n.flushPassiveEffects=fo,n.flushSync=$u,n.focusWithin=function(m,g){if(!ie)throw Error(o(363));for(m=cf(m),g=Qi(m,g),g=Array.from(g),m=0;m<g.length;){var E=g[m++];if(!Fe(E)){if(E.tag===5&&Et(E.stateNode))return!0;for(E=E.child;E!==null;)g.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Zt},n.getFindAllNodesFailureDescription=function(m,g){if(!ie)throw Error(o(363));var E=0,R=[];m=[cf(m),0];for(var D=0;D<m.length;){var z=m[D++],re=m[D++],he=g[re];if((z.tag!==5||!Fe(z))&&(ff(z,he)&&(R.push(La(he)),re++,re>E&&(E=re)),re<g.length))for(z=z.child;z!==null;)m.push(z,re),z=z.sibling}if(E<g.length){for(m=[];E<g.length;E++)m.push(La(g[E]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){return m=m.current,m.child?m.child.tag===5?Z(m.child.stateNode):m.child.stateNode:null},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Ph,findFiberByHostInstance:m.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{zc=g.inject(m),so=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,E,R){if(!ie)throw Error(o(363));m=Xo(m,g);var D=nt(m,E,R).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(m,g){var E=g._getVersion;E=E(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,E]:m.mutableSourceEagerHydrationData.push(g,E)},n.runWithPriority=function(m,g){var E=Zt;try{return Zt=m,g()}finally{Zt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,E,R){var D=g.current,z=mn(),re=zs(D);return E=X0(E),g.context===null?g.context=E:g.pendingContext=E,g=ko(z,re),g.payload={element:m},R=R===void 0?null:R,R!==null&&(g.callback=R),Ta(D,g),m=ni(D,re,z),m!==null&&Gd(m,D,re),re},n}),tC}var _V;function KPe(){return _V||(_V=1,QP.exports=XPe()),QP.exports}var YPe=KPe();const ZPe=Tn(YPe);var nC={exports:{}},rC={};var bV;function QPe(){return bV||(bV=1,(function(t){function e(V,K){var Q=V.length;V.push(K);e:for(;0<Q;){var G=Q-1>>>1,ne=V[G];if(0<i(ne,K))V[G]=K,V[Q]=ne,Q=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Q=V.pop();if(Q!==K){V[0]=Q;e:for(var G=0,ne=V.length,ye=ne>>>1;G<ye;){var ue=2*(G+1)-1,xe=V[ue],Re=ue+1,Ce=V[Re];if(0>i(xe,Q))Re<ne&&0>i(Ce,xe)?(V[G]=Ce,V[Re]=Q,G=Re):(V[G]=xe,V[ue]=Q,G=ue);else if(Re<ne&&0>i(Ce,Q))V[G]=Ce,V[Re]=Q,G=Re;else break e}}return K}function i(V,K){var Q=V.sortIndex-K.sortIndex;return Q!==0?Q:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function A(V){if(b=!1,S(V),!x)if(n(l)!==null)x=!0,Z(P);else{var K=n(u);K!==null&&ee(A,K.startTime-V)}}function P(V,K){x=!1,b&&(b=!1,w(k),k=-1),v=!0;var Q=p;try{for(S(K),d=n(l);d!==null&&(!(d.expirationTime>K)||V&&!j());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var ne=G(d.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(l)&&r(l),S(K)}else r(l);d=n(l)}if(d!==null)var ye=!0;else{var ue=n(u);ue!==null&&ee(A,ue.startTime-K),ye=!1}return ye}finally{d=null,p=Q,v=!1}}var O=!1,I=null,k=-1,L=5,F=-1;function j(){return!(t.unstable_now()-F<L)}function H(){if(I!==null){var V=t.unstable_now();F=V;var K=!0;try{K=I(!0,V)}finally{K?q():(O=!1,I=null)}}else O=!1}var q;if(typeof M=="function")q=function(){M(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=H,q=function(){J.postMessage(null)}}else q=function(){y(H,0)};function Z(V){I=V,O||(O=!0,q())}function ee(V,K){k=y(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,Z(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Q=p;p=K;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return K()}finally{p=Q}},t.unstable_scheduleCallback=function(V,K,Q){var G=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?G+Q:G):Q=G,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,V={id:f++,callback:K,priorityLevel:V,startTime:Q,expirationTime:ne,sortIndex:-1},Q>G?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(b?(w(k),k=-1):b=!0,ee(A,Q-G))):(V.sortIndex=ne,e(l,V),x||v||(x=!0,Z(P))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var K=p;return function(){var Q=p;p=K;try{return V.apply(this,arguments)}finally{p=Q}}}})(rC)),rC}var wV;function JPe(){return wV||(wV=1,nC.exports=QPe()),nC.exports}var SV=JPe();const oL={},eCe=t=>{Object.assign(oL,t)};function tCe(t,e){function n(f,{args:d=[],attach:p,...v},x){let b=`${f[0].toUpperCase()}${f.slice(1)}`,y;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=v.object;y=ap(w,{type:f,root:x,attach:p,primitive:!0})}else{const w=oL[b];if(!w)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=ap(new w(...d),{type:f,root:x,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof en?y.__r3f.attach="geometry":y instanceof Pi&&(y.__r3f.attach="material")),b!=="inject"&&oC(y,v),y}function r(f,d){let p=!1;if(d){var v,x;(v=d.__r3f)!=null&&v.attach?sC(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(x=f.__r3f)==null||x.objects.push(d),d.__r3f||ap(d,{}),d.__r3f.parent=f,lO(d),lp(d)}}function i(f,d,p){let v=!1;if(d){var x,b;if((x=d.__r3f)!=null&&x.attach)sC(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const y=f.children.filter(M=>M!==d),w=y.indexOf(p);f.children=[...y.slice(0,w),d,...y.slice(w)],v=!0}v||(b=f.__r3f)==null||b.objects.push(d),d.__r3f||ap(d,{}),d.__r3f.parent=f,lO(d),lp(d)}}function s(f,d,p=!1){f&&[...f].forEach(v=>o(d,v,p))}function o(f,d,p){if(d){var v,x,b;if(d.__r3f&&(d.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(A=>A!==d)),(x=d.__r3f)!=null&&x.attach)PV(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var y;f.remove(d),(y=d.__r3f)!=null&&y.root&&lCe(Z_(d),d)}const M=(b=d.__r3f)==null?void 0:b.primitive,S=!M&&(p===void 0?d.dispose!==null:p);if(!M){var w;s((w=d.__r3f)==null?void 0:w.objects,d,S),s(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const A=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?SV.unstable_scheduleCallback(SV.unstable_IdlePriority,A):A()}lp(f)}}function a(f,d,p,v){var x;const b=(x=f.__r3f)==null?void 0:x.parent;if(!b)return;const y=n(d,p,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&r(y,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>r(y,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(b,f),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(b,y),y.raycast&&y.__r3f.eventCount&&Z_(y).getState().internal.interaction.push(y),[v,v.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:ZPe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const v=f.getState().scene;v.__r3f&&i(v,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f?.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,p,v){var x;if(((x=f?.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:y=[],children:w,...M}=v,{args:S=[],children:A,...P}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((I,k)=>I!==S[k]))return[!0];const O=BX(f,M,P,!0);return O.changes.length?[!1,O]:null}},commitUpdate(f,[d,p],v,x,b,y){d?a(f,v,b,y):oC(f,p)},commitMount(f,d,p,v){var x;const b=(x=f.__r3f)!=null?x:{};f.raycast&&b.handlers&&b.eventCount&&Z_(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>ap(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:v}=(d=f.__r3f)!=null?d:{};p&&v&&PV(v,f,p),f.isObject3D&&(f.visible=!1),lp(f)},unhideInstance(f,d){var p;const{attach:v,parent:x}=(p=f.__r3f)!=null?p:{};v&&x&&sC(x,f,v),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),lp(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():wp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Jn.fun(performance.now)?performance.now:Jn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Jn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Jn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:oC}}var MV,EV;const iC=t=>"colorSpace"in t||"outputColorSpace"in t,IX=()=>{var t;return(t=oL.ColorManagement)!=null?t:null},LX=t=>t&&t.isOrthographicCamera,nCe=t=>t&&t.hasOwnProperty("current"),M0=typeof window<"u"&&((MV=window.document)!=null&&MV.createElement||((EV=window.navigator)==null?void 0:EV.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function DX(t){const e=B.useRef(t);return M0(()=>{e.current=t},[t]),e}function rCe({set:t}){return M0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class kX extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}kX.getDerivedStateFromError=()=>({error:!0});const FX="__default",TV=new Map,iCe=t=>t&&!!t.memoized&&!!t.changes;function UX(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const nv=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Z_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Jn={obj:t=>t===Object(t)&&!Jn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Jn.str(t)||Jn.num(t)||Jn.boo(t))return t===e;const s=Jn.obj(t);if(s&&r==="reference")return t===e;const o=Jn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Jn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Jn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function sCe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function ap(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function aO(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const AV=/-\d+$/;function sC(t,e,n){if(Jn.str(n)){if(AV.test(n)){const s=n.replace(AV,""),{target:o,key:a}=aO(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=aO(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function PV(t,e,n){var r,i;if(Jn.str(n)){const{target:s,key:o}=aO(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function BX(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const f=t.__r3f,d=Object.entries(i),p=[];if(u){const x=Object.keys(l);for(let b=0;b<x.length;b++)i.hasOwnProperty(x[b])||d.unshift([x[b],FX+"remove"])}d.forEach(([x,b])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&x==="object"||Jn.equ(b,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return p.push([x,b,!0,[]]);let w=[];x.includes("-")&&(w=x.split("-")),p.push([x,b,!1,w]);for(const M in i){const S=i[M];M.startsWith(`${x}-`)&&p.push([M,S,!1,M.split("-")])}});const v={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:p}}function oC(t,e){var n;const r=t.__r3f,i=r?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=iCe(e)?e:BX(t,e),l=r?.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[d,p,v,x]=a[f];if(iC(t)){const M="srgb",S="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?M:S):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?M:S)}let b=t,y=b[d];if(x.length&&(y=x.reduce((w,M)=>w[M],t),!(y&&y.set))){const[w,...M]=x.reverse();b=M.reverse().reduce((S,A)=>S[A],t),d=w}if(p===FX+"remove")if(b.constructor){let w=TV.get(b.constructor);w||(w=new b.constructor,TV.set(b.constructor,w)),p=w[d]}else p=0;if(v&&r)p?r.handlers[d]=p:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof dd)){if(Array.isArray(p))y.fromArray?y.fromArray(p):y.set(...p);else if(y.copy&&p&&p.constructor&&y.constructor===p.constructor)y.copy(p);else if(p!==void 0){const w=y instanceof ht;!w&&y.setScalar?y.setScalar(p):y instanceof dd&&p instanceof dd?y.mask=p.mask:y.set(p),!IX()&&s&&!s.linear&&w&&y.convertSRGBToLinear()}}else if(b[d]=p,b[d]instanceof mr&&b[d].format===us&&b[d].type===Ja&&s){const w=b[d];iC(w)&&iC(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}lp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=Z_(t).getState().internal,d=f.interaction.indexOf(t);d>-1&&f.interaction.splice(d,1),r.eventCount&&f.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&lO(t),t}function lp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function lO(t){t.onUpdate==null||t.onUpdate(t)}function oCe(t,e){t.manual||(LX(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function D_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function aCe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return wp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wp.ContinuousEventPriority;default:return wp.DefaultEventPriority}}function jX(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function lCe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{jX(n.capturedMap,e,r,i)})}function uCe(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),d=new Set,p=[],v=u?u(f.internal.interaction):f.internal.interaction;for(let w=0;w<v.length;w++){const M=nv(v[w]);M&&(M.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function x(w){const M=nv(w);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var S;M.events.compute==null||M.events.compute(l,M,(S=M.previousRoot)==null?void 0:S.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(w,!0):[]}let b=v.flatMap(x).sort((w,M)=>{const S=nv(w.object),A=nv(M.object);return!S||!A?w.distance-M.distance:A.events.priority-S.events.priority||w.distance-M.distance}).filter(w=>{const M=D_(w);return d.has(M)?!1:(d.add(M),!0)});f.events.filter&&(b=f.events.filter(b,f));for(const w of b){let M=w.object;for(;M;){var y;(y=M.__r3f)!=null&&y.eventCount&&p.push({...w,eventObject:M}),M=M.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let w of f.internal.capturedMap.get(l.pointerId).values())d.has(D_(w.intersection))||p.push(w.intersection);return p}function i(l,u,f,d){const p=t.getState();if(l.length){const v={stopped:!1};for(const x of l){const b=nv(x.object)||p,{raycaster:y,pointer:w,camera:M,internal:S}=b,A=new te(w.x,w.y,0).unproject(M),P=F=>{var j,H;return(j=(H=S.capturedMap.get(F))==null?void 0:H.has(x.eventObject))!=null?j:!1},O=F=>{const j={intersection:x,target:u.target};S.capturedMap.has(F)?S.capturedMap.get(F).set(x.eventObject,j):S.capturedMap.set(F,new Map([[x.eventObject,j]])),u.target.setPointerCapture(F)},I=F=>{const j=S.capturedMap.get(F);j&&jX(S.capturedMap,x.eventObject,j,F)};let k={};for(let F in u){let j=u[F];typeof j!="function"&&(k[F]=j)}let L={...x,...k,pointer:w,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:A,ray:y.ray,camera:M,stopPropagation(){const F="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!F||F.has(x.eventObject))&&(L.stopped=v.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(j=>j.eventObject===x.eventObject))){const j=l.slice(0,l.indexOf(x));s([...j,x])}},target:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:I},currentTarget:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:I},nativeEvent:u};if(d(L),v.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,v=p?.handlers;if(u.hovered.delete(D_(f)),p!=null&&p.eventCount){const x={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=f;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(f,v?n:void 0),w=x?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=y.map(S=>S.eventObject)),x&&!y.length&&w<=2&&(o(f,p.interaction),d&&d(f)),v&&s(y);function M(S){const A=S.eventObject,P=A.__r3f,O=P?.handlers;if(P!=null&&P.eventCount)if(v){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const I=D_(S),k=p.hovered.get(I);k?k.stopped&&S.stopPropagation():(p.hovered.set(I,S),O.onPointerOver==null||O.onPointerOver(S),O.onPointerEnter==null||O.onPointerEnter(S))}O.onPointerMove==null||O.onPointerMove(S)}else{const I=O[l];I?(!x||p.initialHits.includes(A))&&(o(f,p.interaction.filter(k=>!p.initialHits.includes(k))),I(S)):x&&p.initialHits.includes(A)&&o(f,p.interaction.filter(k=>!p.initialHits.includes(k)))}}i(y,f,w,M)}}return{handlePointer:a}}const zX=t=>!!(t!=null&&t.render),VX=B.createContext(null),cCe=(t,e)=>{const n=GPe((a,l)=>{const u=new te,f=new te,d=new te;function p(w=l().camera,M=f,S=l().size){const{width:A,height:P,top:O,left:I}=S,k=A/P;M instanceof te?d.copy(M):d.set(...M);const L=w.getWorldPosition(u).distanceTo(d);if(LX(w))return{width:A/w.zoom,height:P/w.zoom,top:O,left:I,factor:1,distance:L,aspect:k};{const F=w.fov*Math.PI/180,j=2*Math.tan(F/2)*L,H=j*(A/P);return{width:H,height:j,top:O,left:I,factor:A/H,distance:L,aspect:k}}}let v;const x=w=>a(M=>({performance:{...M.performance,current:w}})),b=new je;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,M)=>e(w,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new nL,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();v&&clearTimeout(v),w.performance.current!==w.performance.min&&x(w.performance.min),v=setTimeout(()=>x(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(M=>({...M,events:{...M.events,...w}})),setSize:(w,M,S,A,P)=>{const O=l().camera,I={width:w,height:M,top:A||0,left:P||0,updateStyle:S};a(k=>({size:I,viewport:{...k.viewport,...p(O,f,I)}}))},setDpr:w=>a(M=>{const S=UX(w);return{viewport:{...M.viewport,dpr:S,initialDpr:M.viewport.initialDpr||S}}}),setFrameloop:(w="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,w!=="never"&&(M.start(),M.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,M,S)=>{const A=l().internal;return A.priority=A.priority+(M>0?1:0),A.subscribers.push({ref:w,priority:M,store:S}),A.subscribers=A.subscribers.sort((P,O)=>P.priority-O.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(M>0?1:0),P.subscribers=P.subscribers.filter(O=>O.ref!==w))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var p;i=l,s=u.dpr,oCe(a,l),f.setPixelRatio(u.dpr);const v=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}a!==o&&(o=a,d(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let k_,fCe=new Set,dCe=new Set,hCe=new Set;function aC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function rv(t,e){switch(t){case"before":return aC(fCe,e);case"after":return aC(dCe,e);case"tail":return aC(hCe,e)}}let lC,uC;function cC(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),lC=e.internal.subscribers,k_=0;k_<lC.length;k_++)uC=lC[k_],uC.ref.current(uC.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pCe(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,rv("before",u),n=!0;for(const d of t.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=cC(u,s))}if(n=!1,rv("after",u),r===0)return rv("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,f=1){var d;if(!u)return t.forEach(p=>a(p.store.getState(),f));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,d,p){if(f&&rv("before",u),d)cC(u,d,p);else for(const v of t.values())cC(u,v.store.getState());f&&rv("after",u)}return{loop:o,invalidate:a,advance:l}}function mCe(){const t=B.useContext(VX);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function aL(t,e=0){const n=mCe(),r=n.getState().internal.subscribe,i=DX(t);return M0(()=>r(i,e,n),[e,r,n]),null}const hm=new Map,{invalidate:CV,advance:RV}=pCe(hm),{reconciler:vw,applyProps:ip}=tCe(hm,aCe),sp={objects:"shallow",strict:!1},gCe=(t,e)=>{const n=typeof t=="function"?t(e):t;return zX(n)?n:new U7({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function vCe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function yCe(t){const e=hm.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||cCe(CV,RV),o=n||vw.createContainer(s,wp.ConcurrentRoot,null,!1,null,"",i,null);e||hm.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:d,size:p,scene:v,events:x,onCreated:b,shadows:y=!1,linear:w=!1,flat:M=!1,legacy:S=!1,orthographic:A=!1,frameloop:P="always",dpr:O=[1,2],performance:I,raycaster:k,camera:L,onPointerMissed:F}=f,j=s.getState(),H=j.gl;j.gl||j.set({gl:H=gCe(d,t)});let q=j.raycaster;q||j.set({raycaster:q=new OX});const{params:X,...J}=k||{};if(Jn.equ(J,q,sp)||ip(q,{...J}),Jn.equ(X,q.params,sp)||ip(q,{params:{...q.params,...X}}),!j.camera||j.camera===u&&!Jn.equ(u,L,sp)){u=L;const Q=L instanceof m0,G=Q?L:A?new y0(0,0,0,0,.1,1e3):new ai(75,0,.1,1e3);Q||(G.position.z=5,L&&(ip(G,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(G.manual=!0,G.updateProjectionMatrix())),!j.camera&&!(L!=null&&L.rotation)&&G.lookAt(0,0,0)),j.set({camera:G}),q.camera=G}if(!j.scene){let Q;v instanceof hw?Q=v:(Q=new hw,v&&ip(Q,v)),j.set({scene:ap(Q)})}if(!j.xr){var Z;const Q=(ye,ue)=>{const xe=s.getState();xe.frameloop!=="never"&&RV(ye,!0,xe,ue)},G=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?Q:null),ye.gl.xr.isPresenting||CV(ye)},ne={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",G),ye.xr.addEventListener("sessionend",G)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",G),ye.xr.removeEventListener("sessionend",G)}};typeof((Z=H.xr)==null?void 0:Z.addEventListener)=="function"&&ne.connect(),j.set({xr:ne})}if(H.shadowMap){const Q=H.shadowMap.enabled,G=H.shadowMap.type;if(H.shadowMap.enabled=!!y,Jn.boo(y))H.shadowMap.type=Tv;else if(Jn.str(y)){var ee;const ne={basic:y9,percentage:MS,soft:Tv,variance:la};H.shadowMap.type=(ee=ne[y])!=null?ee:Tv}else Jn.obj(y)&&Object.assign(H.shadowMap,y);(Q!==H.shadowMap.enabled||G!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const V=IX();V&&("enabled"in V?V.enabled=!S:"legacyMode"in V&&(V.legacyMode=S)),l||ip(H,{outputEncoding:w?3e3:3001,toneMapping:M?Ka:bI}),j.legacy!==S&&j.set(()=>({legacy:S})),j.linear!==w&&j.set(()=>({linear:w})),j.flat!==M&&j.set(()=>({flat:M})),d&&!Jn.fun(d)&&!zX(d)&&!Jn.equ(d,H,sp)&&ip(H,d),x&&!j.events.handlers&&j.set({events:x(s)});const K=vCe(t,p);return Jn.equ(K,j.size,sp)||j.setSize(K.width,K.height,K.updateStyle,K.top,K.left),O&&j.viewport.dpr!==UX(O)&&j.setDpr(O),j.frameloop!==P&&j.setFrameloop(P),j.onPointerMissed||j.set({onPointerMissed:F}),I&&!Jn.equ(I,j.performance,sp)&&j.set(Q=>({performance:{...Q.performance,...I}})),a=b,l=!0,this},render(f){return l||this.configure(),vw.updateContainer(C.jsx(xCe,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){HX(t)}}}function xCe({store:t,children:e,onCreated:n,rootElement:r}){return M0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.jsx(VX.Provider,{value:t,children:e})}function HX(t,e){const n=hm.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),vw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),sCe(i),hm.delete(t)}catch{}},500)})}}vw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});function OV(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function _Ce({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,f=B.useRef(!1);B.useEffect(()=>(f.current=!0,()=>{f.current=!1}));const[d,p,v]=B.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:M,top:S,width:A,height:P,bottom:O,right:I,x:k,y:L}=a.current.element.getBoundingClientRect(),F={left:M,top:S,width:A,height:P,bottom:O,right:I,x:k,y:L};a.current.element instanceof HTMLElement&&r&&(F.height=a.current.element.offsetHeight,F.width=a.current.element.offsetWidth),Object.freeze(F),f.current&&!MCe(a.current.lastBounds,F)&&o(a.current.lastBounds=F)};return[w,u?OV(w,u):w,l?OV(w,l):w]},[o,r,l,u]);function x(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new i(v),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=w=>{!w||w===a.current.element||(x(),a.current.element=w,a.current.scrollContainers=WX(w),b())};return wCe(v,!!e),bCe(p),B.useEffect(()=>{x(),b()},[e,v,p]),B.useEffect(()=>x,[]),[y,s,d]}function bCe(t){B.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function wCe(t,e){B.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",n,!0)}}},[t,e])}function WX(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...WX(t.parentElement)]}const SCe=["x","y","top","bottom","left","right","width","height"],MCe=(t,e)=>SCe.every(n=>t[n]===e[n]);var ECe=Object.defineProperty,TCe=Object.defineProperties,ACe=Object.getOwnPropertyDescriptors,NV=Object.getOwnPropertySymbols,PCe=Object.prototype.hasOwnProperty,CCe=Object.prototype.propertyIsEnumerable,IV=(t,e,n)=>e in t?ECe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LV=(t,e)=>{for(var n in e||(e={}))PCe.call(e,n)&&IV(t,n,e[n]);if(NV)for(var n of NV(e))CCe.call(e,n)&&IV(t,n,e[n]);return t},RCe=(t,e)=>TCe(t,ACe(e)),DV,kV;typeof window<"u"&&((DV=window.document)!=null&&DV.createElement||((kV=window.navigator)==null?void 0:kV.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function GX(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=GX(r,e,n);if(i)return i;r=r.sibling}}function $X(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const FV=console.error;console.error=function(){const t=[...arguments].join("");if(t?.startsWith("Warning:")&&t.includes("useContext")){console.error=FV;return}return FV.apply(this,arguments)};const lL=$X(B.createContext(null));class qX extends B.Component{render(){return B.createElement(lL.Provider,{value:this._reactInternals},this.props.children)}}function OCe(){const t=B.useContext(lL);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[t,t?.alternate]){if(!r)continue;const i=GX(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function NCe(){const t=OCe(),[e]=B.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==lL&&!e.has(i)&&e.set(i,B.useContext($X(i)))}n=n.return}return e}function ICe(){const t=NCe();return B.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>B.createElement(e,null,B.createElement(n.Provider,RCe(LV({},r),{value:t.get(n)}))),e=>B.createElement(qX,LV({},e))),[t])}const fC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function LCe(t){const{handlePointer:e}=uCe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(fC).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=fC[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=fC[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const DCe=B.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=LCe,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:v,frameloop:x,dpr:b,performance:y,raycaster:w,camera:M,scene:S,onPointerMissed:A,onCreated:P,...O},I){B.useMemo(()=>eCe(jPe),[]);const k=ICe(),[L,F]=_Ce({scroll:!0,debounce:{scroll:50,resize:0},...r}),j=B.useRef(null),H=B.useRef(null);B.useImperativeHandle(I,()=>j.current);const q=DX(A),[X,J]=B.useState(!1),[Z,ee]=B.useState(!1);if(X)throw X;if(Z)throw Z;const V=B.useRef(null);M0(()=>{const Q=j.current;F.width>0&&F.height>0&&Q&&(V.current||(V.current=yCe(Q)),V.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:v,frameloop:x,dpr:b,performance:y,raycaster:w,camera:M,scene:S,size:F,onPointerMissed:(...G)=>q.current==null?void 0:q.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?nCe(a)?a.current:a:H.current),l&&G.setEvents({compute:(ne,ye)=>{const ue=ne[l+"X"],xe=ne[l+"Y"];ye.pointer.set(ue/ye.size.width*2-1,-(xe/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),P?.(G)}}),V.current.render(C.jsx(k,{children:C.jsx(kX,{set:ee,children:C.jsx(B.Suspense,{fallback:C.jsx(rCe,{set:J}),children:e})})})))}),B.useEffect(()=>{const Q=j.current;if(Q)return()=>HX(Q)},[]);const K=a?"none":"auto";return C.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...i},...O,children:C.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:j,style:{display:"block"},children:n})})})}),kCe=B.forwardRef(function(e,n){return C.jsx(qX,{children:C.jsx(DCe,{...e,ref:n})})}),FCe=()=>parseInt(f0.replace(/\D+/g,"")),XX=FCe(),dC=XX>=154?"opaque_fragment":"output_fragment";class UCe extends LS{constructor(e){super(e),this.onBeforeCompile=(n,r)=>{const{isWebGL2:i}=r.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${dC}>`,`
        ${i?`#include <${dC}>`:`#extension GL_OES_standard_derivatives : enable
#include <${dC}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${XX>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const BCe=B.forwardRef((t,e)=>{const[n]=B.useState(()=>new UCe(null));return B.createElement("primitive",_d({},t,{object:n,ref:e,attach:"material"}))});let jf,iv;const jCe=B.createContext(null),UV=new Nt,BV=new te,zCe=B.forwardRef(({children:t,range:e,limit:n=1e3,...r},i)=>{const s=B.useRef(null);B.useImperativeHandle(i,()=>s.current,[]);const[o,a]=B.useState([]),[[l,u,f]]=B.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);B.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),aL(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),UV.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),jf=0;jf<o.length;jf++)iv=o[jf].current,iv.getWorldPosition(BV).applyMatrix4(UV),BV.toArray(l,jf*3),s.current.geometry.attributes.position.needsUpdate=!0,iv.matrixWorldNeedsUpdate=!0,iv.color.toArray(u,jf*3),s.current.geometry.attributes.color.needsUpdate=!0,f.set([iv.size],jf),s.current.geometry.attributes.size.needsUpdate=!0});const d=B.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(v=>[...v,p]),()=>a(v=>v.filter(x=>x.current!==p.current)))}),[]);return B.createElement("points",_d({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},r),B.createElement("bufferGeometry",null,B.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:cd}),B.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:cd}),B.createElement("bufferAttribute",{attach:"attributes-size",count:f.length,array:f,itemSize:1,usage:cd})),B.createElement(jCe.Provider,{value:d},t))}),VCe=B.forwardRef(({children:t,positions:e,colors:n,sizes:r,stride:i=3,...s},o)=>{const a=B.useRef(null);return B.useImperativeHandle(o,()=>a.current,[]),aL(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),B.createElement("points",_d({ref:a},s),B.createElement("bufferGeometry",null,B.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:cd}),n&&B.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:cd}),r&&B.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:cd})),t)}),HCe=B.forwardRef((t,e)=>t.positions instanceof Float32Array?B.createElement(VCe,_d({},t,{ref:e})):B.createElement(zCe,_d({},t,{ref:e})));function WCe(t){const e=B.useRef(),[n]=B.useState(()=>{const r=new Float32Array(15e3);for(let i=0;i<5e3;i++){const s=2*Math.PI*Math.random(),o=Math.acos(2*Math.random()-1),a=1.5*Math.cbrt(Math.random());r[i*3]=a*Math.sin(o)*Math.cos(s),r[i*3+1]=a*Math.sin(o)*Math.sin(s),r[i*3+2]=a*Math.cos(o)}return r});return aL((r,i)=>{e.current&&(e.current.rotation.x-=i/10,e.current.rotation.y-=i/15)}),C.jsx("group",{rotation:[0,0,Math.PI/4],children:C.jsx(HCe,{ref:e,positions:n,stride:3,frustumCulled:!1,...t,children:C.jsx(BCe,{transparent:!0,color:"#ff6600",size:.003,sizeAttenuation:!0,depthWrite:!1,opacity:.8})})})}function GCe(){return C.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-transparent",children:C.jsx(kCe,{camera:{position:[0,0,1]},children:C.jsx(WCe,{})})})}function $Ce(){const[t]=KV();return C.jsx(qy,{mode:"wait",children:C.jsxs(YK,{location:t,children:[C.jsx(L1,{path:"/",component:Ube}),C.jsx(L1,{path:"/compare",component:Vbe}),C.jsx(L1,{component:dee})]},t)})}function qCe(){return C.jsxs(f9,{children:[C.jsxs(Ev,{children:[C.jsx("title",{children:"Power Margin Pro | Salgsassistent"}),C.jsx("meta",{name:"description",content:"AI-drevet salgsassistent til Power-slgere. Find de bedste produkter med hj margin, sammenlign specs og luk salget hurtigere."}),C.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),C.jsx(gY,{client:xC,children:C.jsx(lee,{children:C.jsxs(iee,{children:[C.jsx(GCe,{}),C.jsx(TQ,{}),C.jsx($Ce,{})]})})})]})}AK.createRoot(document.getElementById("root")).render(C.jsx(qCe,{}));
